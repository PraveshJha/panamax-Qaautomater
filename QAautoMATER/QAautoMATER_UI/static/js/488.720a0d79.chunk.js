"use strict";(self.webpackChunkqaautomater=self.webpackChunkqaautomater||[]).push([[488],{3056:(t,e,a)=>{a.d(e,{O:()=>i});var i={FolderTreeData:[],IsErrorOnDefectTitle:!1,DefectTitle:"",IsErrorOnPlaceHolder:!1,PlaceHolderName:"",ListOfPlaceHolder:[],ListOfPriorityOptions:[],DefectPriority:"",IsErrorOnPriority:!1,ListOfSeverity:[],DefectSeverity:"",IsErrorOnSeverity:!1,ListOfDefectStatus:[],DefectStatus:"",IsErrorOnDefectStatus:!1,ListOfAssignedUsers:[],DefectAssignedTo:{},ListOfTestCycle:[],LisOfTestID:[],SelectedTestId:[],IsErrorOnTestCycle:!1,TestCaseTestCycle:"",IsErrorOnDefectSteps:!1,DefectStepsToReproduce:"",AllDefectDetails:[],SelectedPlaceHolderPath:"",SelectedPlaceHolderLabel:"",IsErrorOnNewPlaceHOlder:!1,NewPlaceHolderName:"",DefectId:"",IsErrorOnUpdatedDefectTitle:!1,UpdatedDefectTitle:"",UpdatedTestPlaceHolder:"",UpdatedTestPriority:"",UpdateddefectSeverity:"",UpdatedDefectStatus:"",DefectNewAssignee:{},UpdatedTestID:[],UpdatedTestCycle:"",UpdatedTestRefence:"",UpdatedDefectSteps:"",TestHistory:[],TestComments:[],ActiveTab:"1",ClassNameForComment:"active",ClassNameForHistory:"",NewTestCaseComment:"",IsErrorOnTestComment:!1,EnvironmentList:[],SelectedEnvironment:[],UpdatedEnvironment:[],FirstEnvironment:[],AttachmentData:[],AllAttachmentToPush:[],SelectedRowFromAttachmentTable:-1,UpdateAttachmentData:[],UpdatedRowFromAttachmentTable:-1,AllUpdateAttachmentToPush:[],DefectCustomField:[],DefectUpdateCustomField:[],DefectCustomFieldsWithoutValue:[],CustomKeyNameToUpdate:"",ListOfCustomValueForKey:[],SelectedValueForCustomKey:"",CustomKeyListForListBoxOption:[],CustomKeyListBoxWithKeyAnaValue:{},SelectedRowIDforCustomFieldTable:-1,SelectedRowIDforUpdateCustomFieldTable:-1}},8980:(t,e,a)=>{a.d(e,{Z:()=>c});var i=a(3056),s=a(8390),r=a(9696),l=a(8758),o=a(5002),d=a(2610),n=a(4118);const c=new class{async loadDefectPage(){try{await l.Z.manualConfigPageLoad();var t=await o.M.AllConfigData;await this.getListOfEnvironment(await t),await this.setCustomFieldData(await t),i.O.ListOfTestCycle=await o.M.ListOfTestCycle,i.O.TestCaseTestCycle=await o.M.CurrentTestCycle;var e=await l.Z.getPlaceHolderTreeData();i.O.FolderTreeData=await e;try{await localStorage.removeItem("testId"),await localStorage.removeItem(await localStorage.removeItem("testId"))}catch(v){}var a=await l.Z.getListOfUsers();i.O.ListOfAssignedUsers=[];for(let t=0;t<await a.length;t++){var s={value:await a[t],label:a[t]};i.O.ListOfAssignedUsers.push(await s)}if(await this.setDefectConfigurableField(),void 0!==await localStorage.getItem("defectDetails")&&null!==await localStorage.getItem("defectDetails")){var r=await JSON.parse(await localStorage.getItem("defectDetails"));if(await r.length>0){var d=await r[await r.length-1].stepdefinition,n=await r[await r.length-1].testdata,c=await r[await r.length-1].screenshot;i.O.DefectTitle=await d;var h,w="<p><strong>Environment</strong> : "+await localStorage.getItem("defectEnvironment")+"</p><p><strong>Steps </strong></p>",m="";for(let t=0;t<await r.length-1;t++){var u=await r[await t].stepdefinition,f=await r[await t].testdata;""!==await f&&void 0!==await f&&(u=await u+" ("+await f+")"),m=await m+"<li>"+await u+"</li>"}var p="<li>"+await d+"</li>",S="<ol>"+await"<li>Launch application as per provided environment</li>"+await m+await p+"</ol>";n="<p><strong>Actual behaviour</strong></p><p>"+await n+"</p>";var y='<p><strong>Screenshot</strong></p><p><img src="data:image/png;base64,'+await c+'"></p>';h="<p>"+await w+await S+await n+await y+"</p>",i.O.DefectStepsToReproduce=await h}}try{await localStorage.removeItem("defectDetails")}catch(v){}}catch(v){}}async setDefectConfigurableField(){try{var t=await o.M.DefectConfigurableFields;if(await t.length>0)for(let s=0;s<await t.length;s++){var e=await t[s].key,a=await JSON.parse(await t[s].value);switch(await e){case"Priority":void 0!==await a&&await a.length>0?(i.O.ListOfPriorityOptions=await a,i.O.DefectPriority=await a[0]):(i.O.ListOfPriorityOptions=[],i.O.DefectPriority="");break;case"Severity":void 0!==await a&&await a.length>0?(i.O.ListOfSeverity=await a,i.O.DefectSeverity=await a[0]):(i.O.ListOfSeverity=[],i.O.DefectSeverity="");break;case"Status":void 0!==await a&&await a.length>0?(i.O.ListOfDefectStatus=await a,i.O.DefectStatus=await a[0]):(i.O.ListOfDefectStatus=[],i.O.DefectStatus="")}}}catch(s){i.O.ListOfPriorityOptions=[],i.O.DefectPriority="",i.O.ListOfSeverity=[],i.O.DefectSeverity="",i.O.ListOfDefectStatus=[],i.O.DefectStatus=""}}async getListOfEnvironment(t){try{var e=await t.Environment;if(void 0===await e)i.O.EnvironmentList=[],i.O.FirstEnvironment=[];else if(0===await e.length)i.O.EnvironmentList=[],i.O.FirstEnvironment=[];else{var a=[];for(let t=0;t<await e.length;t++){var s,r=await e[t].name;if(s={label:await r,value:await r},a.push(await s),0===await t){var l=[];l.push(await s),i.O.FirstEnvironment=await l}}i.O.EnvironmentList=await a}}catch(o){i.O.EnvironmentList=[]}}async addNewDefect(){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e={};e.defectName=await i.O.DefectTitle,e.placeHolder=await i.O.PlaceHolderName,e.priority=await i.O.DefectPriority,e.severity=await i.O.DefectSeverity,e.status=await i.O.DefectStatus,e.assignedTo=await i.O.DefectAssignedTo,e.testCycle=await i.O.TestCaseTestCycle,e.testId=await i.O.SelectedTestId,e.defectSteps=await i.O.DefectStepsToReproduce,e.createdBy=await s.Q.userEmail,e.environment=await i.O.SelectedEnvironment,e.attachment=await i.O.AttachmentData,e.customfields=await i.O.DefectCustomField;var a=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(a=s.D.remoteBackendAPI);var l={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},o=await r.Z.post(await a+"defect/project/"+t+"/createnewdefect",await l,await e),d=await o.data;if(s.D.ErrorMessage=await d.errorMessage,await d.isFileSaved){var n=d.defectId,c=await i.O.AllAttachmentToPush;if(void 0!==await c&&await c.length>0)for(let t=0;t<await c.length;t++)await this.uploadFileToServer(await c[t],"Defects",await n+"_")}return await d}async uploadFileToServer(t,e,a){if(await s.D.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var i=await localStorage.getItem("UserSelectedAccount"),l=await s.D.backendAPI;"remote"===s.D.backendServiceAt&&(l=await s.D.remoteBackendAPI);let c=new FormData;c.append("file",await t);var o={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail,"Content-Type":"multipart/form-data",foldername:await e,prefix:await a},d=await r.Z.post(l+"fileupload/project/"+await i+"/addattachment",await o,await c),n=await d.data;return await n}catch(c){s.D.ErrorMessage=await c.message}}async createNewPlaceHolderForTestCase(){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e={};e.newPlaceHolderName=await i.O.NewPlaceHolderName.trim(),e.relativePath=await i.O.SelectedPlaceHolderPath.trim();var a=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(a=s.D.remoteBackendAPI);var l={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},o=await r.Z.post(await a+"manualtestcase/project/"+t+"/addnewtesttree",await l,await e),d=await o.data;return s.D.ErrorMessage=await d.errorMessage,await d.isFileSaved&&(i.O.FolderTreeData=await d.testTreeData),await d.isFileSaved}async isPlaceHolderAlreadyExist(){var t=await i.O.FolderTreeData,e=await t,a=await i.O.SelectedPlaceHolderPath,s=await i.O.NewPlaceHolderName,r=await a.split("/");for(let i=0;i<await r.length;i++){var l=await r[i];for(let t=0;t<await e.length;t++){var o=await e[t].key;if(await o.toLowerCase().trim()===l.toLocaleLowerCase().trim()){e=await e[t].nodes;break}}}for(let i=0;i<await e.length;i++)if(await s.toLowerCase().trim()===await e[i].key.toLowerCase().trim())return!0;return!1}async getAllTestIDfromPath(t){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),[{value:"QB-1",label:"QB-1"},{value:"QB-2",label:"QB-2"}];try{var e=await localStorage.getItem("UserSelectedAccount"),a={};a.componentPath=await t;var i=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(i=s.D.remoteBackendAPI);var l={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},o=await r.Z.post(await i+"manualtestcase/project/"+e+"/getalltestid",await l,await a),d=await o.data;return await d}catch(n){return[]}}async getAllDefectFromPath(t){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),[{id:1,defectid:"DF-1",title:"My dummy defect",component:"Landing Page",priority:"Medium",severity:"Low",status:"Open",assignto:"dummyuser@test.com",cycle:"Sprint 12.0",testid:"",createdby:"Pravesh",customkey:""}];try{var e=await localStorage.getItem("UserSelectedAccount"),a={};a.componentPath=await t;var i=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(i=s.D.remoteBackendAPI);var l={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},o=await r.Z.post(await i+"defect/project/"+e+"/getalldefects",await l,await a),d=await o.data;return await d}catch(n){return[]}}async saveTestComments(t){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var e=await localStorage.getItem("UserSelectedAccount"),a={};a.testComment=await t;var l=i.O.UpdatedTestPlaceHolder+"/"+i.O.UpdatedTestCycle+"/"+i.O.DefectId;a.testPath=await l;var o=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(o=s.D.remoteBackendAPI);var d={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},n=await r.Z.post(await o+"defect/project/"+e+"/adddefectcomment",await d,await a),c=await n.data;return s.D.ErrorMessage=await c.errorMessage,await c.isFileSaved}async getDefectIdDetails(){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e={},a=i.O.UpdatedTestPlaceHolder+"/"+i.O.UpdatedTestCycle+"/"+i.O.DefectId;e.testPath=await a;var l=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(l=s.D.remoteBackendAPI);var o={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},d=await r.Z.post(await l+"defect/project/"+t+"/getdefectiddetails",await o,await e),n=await d.data;return await n}async updateDefectField(t){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var e=await localStorage.getItem("UserSelectedAccount"),a={},l=i.O.UpdatedTestPlaceHolder+"/"+i.O.UpdatedTestCycle+"/"+i.O.DefectId;a.testPath=await l,a.defectName=await i.O.UpdatedDefectTitle,a.priority=await i.O.UpdatedTestPriority,a.severity=await i.O.UpdateddefectSeverity,a.status=await i.O.UpdatedDefectStatus,a.assignedTo=await i.O.DefectNewAssignee,a.testId=await i.O.UpdatedTestID,a.defectSteps=await i.O.UpdatedDefectSteps,a.environment=await i.O.UpdatedEnvironment,a.attachment=await i.O.UpdateAttachmentData,a.customfields=await i.O.DefectUpdateCustomField,a.testCycle=await i.O.UpdatedTestCycle,a.history=await t;var o=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(o=s.D.remoteBackendAPI);var d={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},n=await r.Z.post(await o+"defect/project/"+e+"/updatedefect",await d,await a),c=await n.data;return s.D.ErrorMessage=await c.errorMessage,await c.isFileSaved}async deleteDefect(){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e={},a=i.O.UpdatedTestPlaceHolder+"/"+i.O.UpdatedTestCycle+"/"+i.O.DefectId;e.testPath=await a,e.defectId=await i.O.DefectId;var l=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(l=s.D.remoteBackendAPI);var o={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},d=await r.Z.post(await l+"defect/project/"+t+"/deletedefect",await o,await e),n=await d.data;return s.D.ErrorMessage=await n.errorMessage,await this.deleteAllUnUsedFile("Defects",i.O.DefectId+"_",[]),await n.isFileDeleted}async getTestAutomationSteps(){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e={},a=i.O.UpdatedTestPlaceHolder+"/"+i.O.UpdatedTestCycle+"/"+i.O.TestId;e.testName=await i.O.UpdatedTestName,e.testSteps=await i.O.UpdatedTestSteps,e.testPrecondition=await i.O.UpdatedTestPrecondition,e.testExpectedResult=await i.O.UpdatedExpectedResults,e.testId=await i.O.TestId,e.placeHolder=await a;try{await localStorage.removeItem("testId"),await localStorage.removeItem(await i.O.TestId)}catch(c){}var l=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(l=s.D.remoteBackendAPI);var o={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},d=await r.Z.post(await l+"manualtestcase/project/"+t+"/getautomationsteps",await o,await e),n=await d.data;return await localStorage.setItem("testId",await i.O.TestId),await localStorage.setItem(i.O.TestId,JSON.stringify(await n)),await n}async downloadFromServer(t,e){if(await s.D.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var a=await localStorage.getItem("UserSelectedAccount"),i=await s.D.backendAPI;"remote"===s.D.backendServiceAt&&(i=await s.D.remoteBackendAPI);var l={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail,foldername:await t,filename:await e},o=await r.Z.get(i+"fileupload/project/"+await a+"/downloadattachment",await l),d=await o.data;if(await d.isSuccess){const t=await atob(await d.content),a=await new Uint8Array([...t].map((t=>t.charCodeAt(0)))),i=new Blob([await a],{type:await d["content-type"]}),s=await document.createElement("a");s.setAttribute("download",await e),s.href=await window.URL.createObjectURL(await i),await document.body.appendChild(await s),await s.click(),await document.body.removeChild(s)}else s.D.ErrorMessage=await d.errorMessage;return await d.isSuccess}catch(n){s.D.ErrorMessage=await n.message}}async uploadUpdateandDeleteFileToServer(t,e,a){if(await s.D.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{if(await e.length>0)for(let a=0;a<await await e.length;a++)await this.uploadFileToServer(await e[a],"Defects",await t+"_")}catch(i){s.D.ErrorMessage=await i.message}await this.deleteAllUnUsedFile("Defects",await t+"_",await a)}async deleteAllUnUsedFile(t,e,a){if(await s.D.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var i=await localStorage.getItem("UserSelectedAccount"),l=await s.D.backendAPI;"remote"===s.D.backendServiceAt&&(l=await s.D.remoteBackendAPI);var o={};o.foldername=await t,o.prefix=await e,o.files=await a;var d={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},n=await r.Z.post(l+"fileupload/project/"+await i+"/deleteunusedfile",await d,await o),c=await n.data;return await c}catch(h){s.D.ErrorMessage=await h.message}}async setCustomFieldData(t){if(s.D.isDemo)i.O.DefectCustomField=[];else{try{var e=await t.DefectCustomKeys;if(void 0===await e)i.O.DefectCustomField=[];else if(0===await e.length)i.O.DefectCustomField=[];else{var a=[],r=[];i.O.CustomKeyListForListBoxOption=[],i.O.CustomKeyListBoxWithKeyAnaValue={};for(let t=0;t<await e.length;t++){var l=await e[t].key,o="",c=await e[t].value;if(""!==await c){c=await JSON.parse(await c);var h=await c;i.O.CustomKeyListForListBoxOption.push(await l),await c.length>0&&(o=await c[0])}var w={id:Number(t)+1,key:await l,value:await o},m={id:Number(t)+1,key:await l,value:""};a.push(await w),r.push(await m),void 0===i.O.CustomKeyListBoxWithKeyAnaValue[await l]&&(i.O.CustomKeyListBoxWithKeyAnaValue[await l]=await h)}i.O.DefectCustomField=await a,i.O.DefectCustomFieldsWithoutValue=await r}}catch(O){i.O.DefectCustomField=[]}try{var u=i.O.DefectCustomField;if(await u.length>0)for(let t=0;t<await u.length;t++){var f=!1,p=u[t].key;await i.O.CustomKeyListForListBoxOption.includes(await p)&&(f=!0);const e=await d._U.some((t=>t.text===p));if(!await e){var S={dataField:await p,text:await p,headerStyle:{width:"100px"}};if(await f){var y={},v=i.O.CustomKeyListBoxWithKeyAnaValue[await p];for(let t=0;t<await v.length;t++){var D=await v[t];y[await D]=await D}S.filter=await(0,n.AD)({options:y})}else S.filter=await(0,n.DN)({});await d._U.push(await S)}}}catch(O){}}}async clearvalueForDefectCustomFieldsWithoutValue(){var t=await i.O.DefectCustomFieldsWithoutValue;for(let a=0;a<await t.length;a++){var e=await t[a].value;""!==await e&&(t[a].value="")}i.O.DefectCustomFieldsWithoutValue=await t}async getDefectIdDetailsBasedonDetails(t,e,a){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var i=await localStorage.getItem("UserSelectedAccount"),l={},o=await t+"/"+await e+"/"+await a;l.testPath=await o;var d=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(d=s.D.remoteBackendAPI);var n={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},c=await r.Z.post(await d+"defect/project/"+i+"/getdefectiddetails",await n,await l),h=await c.data;return await h}async setCustomFieldForExistingDefect(t){var e=[];e=await i.O.DefectCustomFieldsWithoutValue;for(let i=0;i<await e.length;i++){var a=await e[i].key;for(let r=0;r<await t.length;r++){var s=await t[r].key;if(await a===await s){e[i].value=await t[r].value;break}}}return await e}async getColumnNameIfValid(t){var e={isvalid:!1,component:-1,title:-1,defectsteps:-1,priority:-1,severity:-1,status:-1,assignedto:-1,environment:-1,linkedtestid:-1,createdby:-1},a=!1,i=!1,s=!1,r=!1,l=!1,o=!1,d=!1,n=!1,c=!1,h=!1;const w=await t.map((t=>t.toLowerCase()));for(let m=0;m<await w.length;m++)await a||(await w[m].includes("screen")||await w[m].includes("component")||await w[m].includes("module")||await w[m].includes("page"))&&(e.component=await m,a=!0),await s||(await w[m].includes("steps to")||await w[m].includes("stepsto")||await w[m].includes("stepto")||await w[m].includes("step to")||await w[m].includes("description"))&&(e.defectsteps=await m,s=!0),await i||(await w[m].includes("summary")||await w[m].includes("title")||await w[m].includes("name"))&&(e.title=await m,i=!0),await r||await w[m].includes("priority")&&(e.priority=await m,r=!0),await l||await w[m].includes("severity")&&(e.severity=await m,l=!0),await o||await w[m].includes("status")&&(e.status=await m,o=!0),await h||(await w[m].includes("createdby")||await w[m].includes("created by")||await w[m].includes("author")||await w[m].includes("owner"))&&(e.createdby=await m,h=!0),await n||(await w[m].includes("environment")||await w[m].includes("env."))&&(e.environment=await m,n=!0),await d||await w[m].includes("assigned")&&(e.assignedto=await m,d=!0),await c||(await w[m].includes("testid")||await w[m].includes("testcaseid")||await w[m].includes("test case id")||await w[m].includes("testcase id"))&&(e.linkedtestid=await m,c=!0);return await Number(e.component)>-1&&await Number(e.defectsteps>-1)&&await Number(e.title>-1)&&(e.isvalid=!0),await e}async getCustomColumnIndex(t){var e={},a=await i.O.DefectCustomField;for(let i=0;i<await a.length;i++){var s=await a[i].key,r=await s.toLocaleLowerCase();const o=await t.map((t=>t.toLowerCase()));for(let t=0;t<await o.length;t++){var l=await o[t];if(await l===await r){e[await s]=await t;break}}}return await e}async getTextFromHtmlText(t){if(void 0===await t)return"";var e=await t;try{const a=new DOMParser,i=await a.parseFromString(await t,"text/html");t=await Array.from(i.body.childNodes).map((t=>(t.nodeType===Node.ELEMENT_NODE?"\n":"")+t.textContent)).join(""),e=await t}catch(a){}return await e}async getValidPriority(t){if(void 0===await t||null===await t)return"Medium";switch(await t.toLocaleLowerCase()){case"high":return"High";case"low":return"Low";default:return"Medium"}}async getValidSeverity(t){if(void 0===await t||null===await t)return"Minor";switch(await t.toLocaleLowerCase()){case"blocker":return"Blocker";case"critical":return"Critical";case"manjor":return"Major";case"low":return"Low";default:return"Minor"}}async getValidDefectStatus(t){if(void 0===await t||null===await t)return"Open";switch(await t.toLocaleLowerCase()){case"inprogress":case"in progress":case"in-progress":return"In Progress";case"close":case"closed":return"Close";case"ready for development":return"Ready for development";case"ready for test":return"Ready for test";case"not a defect-by design":return"Not a defect-By Design";case"no longer exist":return"No longer exist";default:return"Open"}}async getMaxRangeForTestCase(t,e,a,i){if(await t===await a)return await t;for(let r=Number(await t)+1;r<a;r++){var s=await i[r][await e];if(""!==await s&&void 0!==await s)return await r}return await a}async createPathForComponent(t){try{var e="";t=await t.replaceAll("(","/"),t=await t.replaceAll(")","/");var a=await t.split("/");for(let t=0;t<await a.length;t++){var i=await a[t].trim();""!==(i=await i.replace(/[^a-zA-z0-9 ]/g,"").trim())&&(e=await e+"/"+await i)}return e=await e.substring(1),await e}catch(s){return""}}async createPlaceHolderFromExcelFile(t){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var e=await localStorage.getItem("UserSelectedAccount"),a=await e,i=await t.split("/");for(let s=0;s<await i.length;s++){var r=await i[s].trim(),l=await this.isComponetWithSubComponentAlreadyExist(await a,await r);await!l&&await this.createNewPlaceHolderFromExcelSheet(await a,await r),a=await a+"/"+await r}}async isComponetWithSubComponentAlreadyExist(t,e){var a=await i.O.FolderTreeData,s=await a,r=await t.split("/");for(let i=0;i<await r.length;i++){var l=await r[i];for(let t=0;t<await s.length;t++){var o=await s[t].key;if(await o.toLowerCase().trim()===l.toLocaleLowerCase().trim()){s=await s[t].nodes;break}}}for(let i=0;i<await s.length;i++)if(await e.toLowerCase().trim()===await s[i].key.toLowerCase().trim())return!0;return!1}async createNewPlaceHolderFromExcelSheet(t,e){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var a=await localStorage.getItem("UserSelectedAccount"),l={};l.newPlaceHolderName=await e,l.relativePath=await t;var o=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(o=s.D.remoteBackendAPI);var d={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},n=await r.Z.post(await o+"manualtestcase/project/"+a+"/addnewtesttree",await d,await l),c=await n.data;return s.D.ErrorMessage=await c.errorMessage,await c.isFileSaved&&(i.O.FolderTreeData=await c.testTreeData),await c.isFileSaved}async createCustomColumnforImport(t,e,a){var i=[];if(void 0===await t||""===await t)return await i;var s,r=await Object.keys(await t);for(let c=0;c<await r.length;c++){var l=await r[c],o=await t[await l],d={id:c+1,key:await l,value:""};try{s=await e[await a][await o]}catch(n){s=""}d.value=await s,i.push(await d)}return await i}async addNewDefectWithAttribute(t,e,a,l,o,d,n,c,h,w,m,u){if(s.D.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var f=await localStorage.getItem("UserSelectedAccount"),p={};p.defectName=await t,p.placeHolder=await e,p.priority=await a,p.severity=await l,p.status=await o,p.assignedTo=await d,p.testCycle=await n,p.testId=await c,p.defectSteps=await h,p.createdBy=await w,p.environment=await m,p.attachment=[],p.customfields=await u;var S=s.D.backendAPI;"remote"===await s.D.backendServiceAt&&(S=s.D.remoteBackendAPI);var y={Authorization:await s.Q.userToken,userEmail:await s.Q.userEmail},v=await r.Z.post(await S+"defect/project/"+f+"/createnewdefect",await y,await p),D=await v.data;if(s.D.ErrorMessage=await D.errorMessage,await D.isFileSaved){var O=D.defectId,T=await i.O.AllAttachmentToPush;if(void 0!==await T&&await T.length>0)for(let t=0;t<await T.length;t++)await this.uploadFileToServer(await T[t],"Defects",await O+"_")}return await D}async getValidEnvironmentList(t){var e=[];if(""===await t||void 0===await t)return e;var a=await i.O.EnvironmentList;for(let i=0;i<await a.length;i++){var s=await a[i].value;if(await s===await t)return e.push(a[i]),await e}return await a.length>0?(e.push(a[0]),await e):e}async getValidAssignedTo(t){var e={};if(""===await t||void 0===await t)return e;var a=await i.O.ListOfAssignedUsers;for(let i=0;i<await a.length;i++){var s=await a[i].value;if(await s===await t)return await a[i]}return e}async getValidLinkedTestId(t){var e=[];if(""===await t||void 0===await t)return e;if(!await t.includes("QB-"))return e;var a=[],i=await t.split(",");for(let l=0;l<await i.length;l++){var s=await i[l];if(await t.includes("QB-")){var r={label:await s,value:await s};a.push(await r)}}return a}async getCreatedByValid(t){return""===await t||void 0===await t?s.Q.userEmail:await t.includes("@")?t:s.Q.userEmail}}},9017:(t,e,a)=>{a.a(t,(async(t,i)=>{try{a.r(e),a.d(e,{default:()=>$});var s=a(6075),r=a(7313),l=a(106),o=a(6782),d=a(5399),n=a(7926),c=a(200),h=a(2504),w=a(4948),m=a(308),u=a(1781),f=a(4660),p=a(9327),S=a(238),y=a(2527),v=a(3516),D=a(6597),O=a(4209),T=a(3455),g=a(2020),x=a(8642),C=a(2742),F=a(1613),b=a(5709),P=a(6678),A=a(9686),N=a(2181),E=a(3056),Z=a(8980),j=a(8390),I=a(3701),U=(a(4100),a(44),a(758)),k=a(6939),L=a.n(k),H=(a(8137),a(207)),R=a(4104),V=a(4118),K=a(6620),B=a(2610),M=a(8944),W=a(3438),Q=(a(1123),a(8212)),z=a(16),_=a.n(z),X=(a(4230),a(8758)),J=a(8737),Y=a(1718),G=a(6417);const t=await localStorage.getItem("UserSelectedAccount");class q extends r.Component{constructor(){super(...arguments),this.notificationSystem=r.createRef(),this.state={isPageLoading:!1,folderTreeData:E.O.FolderTreeData,isErrorOnDefectTitle:E.O.IsErrorOnDefectTitle,defectTitle:E.O.DefectTitle,isErrorOnPlaceHolder:E.O.IsErrorOnPlaceHolder,placeHolderName:E.O.PlaceHolderName,listOfPlaceHolder:E.O.ListOfPlaceHolder,listOfPriorityOptions:E.O.ListOfPriorityOptions,defectPriority:E.O.DefectPriority,isErrorOnPriority:E.O.IsErrorOnPriority,listOfSeverity:E.O.ListOfSeverity,defectSeverity:E.O.DefectSeverity,isErrorOnSeverity:E.O.IsErrorOnSeverity,listOfDefectStatus:E.O.ListOfDefectStatus,defectStatus:E.O.DefectStatus,isErrorOnDefectStatus:E.O.IsErrorOnDefectStatus,listOfAssignedUsers:E.O.ListOfAssignedUsers,defectAssignedTo:E.O.DefectAssignedTo,listOfTestCycle:E.O.ListOfTestCycle,isErrorOnTestCycle:E.O.IsErrorOnTestCycle,testCaseTestCycle:E.O.TestCaseTestCycle,lisOfTestID:E.O.LisOfTestID,selectedTestId:E.O.SelectedTestId,isErrorOnDefectSteps:E.O.IsErrorOnDefectSteps,defectStepsToReproduce:E.O.DefectStepsToReproduce,allDefectDetails:E.O.AllDefectDetails,selectedPlaceHolderLabel:E.O.SelectedPlaceHolderLabel,selectedPlaceHolderPath:E.O.SelectedPlaceHolderPath,isErrorOnNewPlaceHOlder:E.O.IsErrorOnNewPlaceHOlder,newPlaceHolderName:E.O.NewPlaceHolderName,isDefectModalOpen:!1,defectId:E.O.DefectId,isErrorOnUpdatedDefectTitle:E.O.IsErrorOnUpdatedDefectTitle,updatedDefectTitle:E.O.UpdatedDefectTitle,updatedTestPlaceHolder:E.O.UpdatedTestPlaceHolder,updatedTestPriority:E.O.UpdatedTestPriority,updateddefectSeverity:E.O.UpdateddefectSeverity,updatedDefectStatus:E.O.UpdatedDefectStatus,defectNewAssignee:E.O.DefectNewAssignee,updatedTestCycle:E.O.UpdatedTestCycle,updatedTestID:E.O.UpdatedTestID,updatedDefectSteps:E.O.UpdatedDefectSteps,testHistory:E.O.TestHistory,testComments:E.O.TestComments,activeTab:E.O.ActiveTab,classNameForComment:E.O.ClassNameForComment,classNameForHistory:E.O.ClassNameForHistory,newTestCaseComment:E.O.NewTestCaseComment,isErrorOnTestComment:E.O.IsErrorOnTestComment,isDefectNameSame:!0,isDefectPrioritySame:!0,isDefectSeveritySame:!0,isDefectStatusSame:!0,isDefectAssignedToSame:!0,isDefectTestIdSame:!0,isDefectStepsToReproduceSame:!0,testCaseCreatedBy:"",isEnvironmentSame:!0,isDefectAttachmentSame:!0,isDefectCustomFieldsSame:!0,modalForDelete:!1,modalForCustomFields:!1,modalForUpdateCustomFields:!1,isDefectSprintSame:!0,environmentList:E.O.EnvironmentList,selectedEnvironment:E.O.SelectedEnvironment,updatedEnvironment:E.O.UpdatedEnvironment,attachmentData:E.O.AttachmentData,selectedRowFromAttachmentTable:E.O.SelectedRowFromAttachmentTable,updateAttachmentData:E.O.UpdateAttachmentData,updatedRowFromAttachmentTable:E.O.UpdatedRowFromAttachmentTable,defectCustomField:E.O.DefectCustomField,defectUpdateCustomField:E.O.DefectUpdateCustomField,customKeyNameToUpdate:E.O.CustomKeyNameToUpdate,listOfCustomValueForKey:E.O.ListOfCustomValueForKey,selectedValueForCustomKey:E.O.SelectedValueForCustomKey,selectedRowIDforCustomFieldTable:E.O.SelectedRowIDforCustomFieldTable,selectedRowIDforUpdateCustomFieldTable:E.O.SelectedRowIDforUpdateCustomFieldTable,defectCustomFieldsWithoutValue:E.O.DefectCustomFieldsWithoutValue,accordionId:""},this.componentDidMount=async()=>{this.setState({isPageLoading:!0}),await window.scrollTo(0,0),await Z.Z.loadDefectPage(),this.setState({folderTreeData:{}},(()=>{this.setState({folderTreeData:E.O.FolderTreeData})})),this.setState({isErrorOnDefectTitle:E.O.IsErrorOnDefectTitle}),this.setState({defectTitle:E.O.DefectTitle}),this.setState({isErrorOnPlaceHolder:E.O.IsErrorOnPlaceHolder}),this.setState({placeHolderName:E.O.PlaceHolderName}),this.setState({listOfPlaceHolder:E.O.ListOfPlaceHolder}),this.setState({listOfPriorityOptions:E.O.ListOfPriorityOptions}),this.setState({isErrorOnPriority:E.O.IsErrorOnPriority}),this.setState({defectPriority:E.O.DefectPriority}),this.setState({listOfSeverity:E.O.ListOfSeverity}),this.setState({defectSeverity:E.O.DefectSeverity}),this.setState({isErrorOnSeverity:E.O.IsErrorOnSeverity}),this.setState({listOfDefectStatus:E.O.ListOfDefectStatus}),this.setState({defectStatus:E.O.DefectStatus}),this.setState({isErrorOnDefectStatus:E.O.IsErrorOnDefectStatus}),this.setState({listOfAssignedUsers:E.O.ListOfAssignedUsers}),this.setState({defectAssignedTo:E.O.DefectAssignedTo}),this.setState({listOfTestCycle:E.O.ListOfTestCycle}),this.setState({isErrorOnTestCycle:E.O.IsErrorOnTestCycle}),this.setState({testCaseTestCycle:E.O.TestCaseTestCycle}),this.setState({lisOfTestID:E.O.LisOfTestID}),this.setState({selectedTestId:E.O.SelectedTestId}),this.setState({isErrorOnDefectSteps:E.O.IsErrorOnDefectSteps}),this.setState({defectStepsToReproduce:E.O.DefectStepsToReproduce}),this.setState({allDefectDetails:E.O.AllDefectDetails}),this.setState({selectedPlaceHolderLabel:E.O.SelectedPlaceHolderLabel}),this.setState({selectedPlaceHolderPath:E.O.SelectedPlaceHolderPath}),this.setState({isErrorOnNewPlaceHOlder:E.O.IsErrorOnNewPlaceHOlder}),this.setState({newPlaceHolderName:E.O.NewPlaceHolderName}),this.setState({defectId:E.O.DefectId}),this.setState({isErrorOnUpdatedDefectTitle:E.O.IsErrorOnUpdatedDefectTitle}),this.setState({updatedDefectTitle:E.O.UpdatedDefectTitle}),this.setState({updatedTestPlaceHolder:E.O.UpdatedTestPlaceHolder}),this.setState({updatedTestPriority:E.O.UpdatedTestPriority}),this.setState({updateddefectSeverity:E.O.UpdateddefectSeverity}),this.setState({updatedDefectStatus:E.O.UpdatedDefectStatus}),this.setState({defectNewAssignee:E.O.DefectNewAssignee}),this.setState({updatedTestCycle:E.O.UpdatedTestCycle}),this.setState({updatedTestID:E.O.UpdatedTestID}),this.setState({updatedDefectSteps:E.O.UpdatedDefectSteps}),this.setState({testHistory:E.O.TestHistory}),this.setState({testComments:E.O.TestComments}),this.setState({activeTab:E.O.ActiveTab}),this.setState({classNameForComment:E.O.ClassNameForComment}),this.setState({classNameForHistory:E.O.ClassNameForHistory}),this.setState({newTestCaseComment:E.O.NewTestCaseComment}),this.setState({isErrorOnTestComment:E.O.IsErrorOnTestComment}),this.setState({environmentList:E.O.EnvironmentList}),this.setState({selectedEnvironment:E.O.SelectedEnvironment}),this.setState({updatedEnvironment:E.O.UpdatedEnvironment}),this.setState({attachmentData:E.O.AttachmentData}),this.setState({updateAttachmentData:E.O.UpdateAttachmentData}),this.fileInputRef=r.createRef(),this.fileUpdateInputRef=r.createRef(),this.setState({defectCustomField:E.O.DefectCustomField}),this.setState({defectUpdateCustomField:E.O.DefectUpdateCustomField}),this.setState({customKeyNameToUpdate:E.O.CustomKeyNameToUpdate}),this.setState({listOfCustomValueForKey:E.O.ListOfCustomValueForKey}),this.setState({selectedValueForCustomKey:E.O.SelectedValueForCustomKey}),this.setState({selectedRowIDforCustomFieldTable:E.O.SelectedRowIDforCustomFieldTable}),this.setState({selectedRowIDforUpdateCustomFieldTable:E.O.SelectedRowIDforUpdateCustomFieldTable}),this.setState({defectCustomFieldsWithoutValue:E.O.DefectCustomFieldsWithoutValue}),this.setState({isPageLoading:!1})},this.getNotification=async(t,e)=>{this.notificationSystem.current.addNotification({message:e,level:t,autoDismiss:10})},this.addNewDefectTitle=async t=>{this.setState({isErrorOnDefectTitle:!1});var e=await t.target.value;if(await this.state.defectTitle!==await e){E.O.DefectTitle=await e,this.setState({defectTitle:await e});await/[^A-Za-z0-9-,. -]/gi.test(await e)&&(E.O.IsErrorOnDefectTitle=!0,this.setState({isErrorOnDefectTitle:!0}))}},this.selectPlaceHolder=async t=>{this.setState({isErrorOnPlaceHolder:!1});var e=await t.target.value;await this.state.placeHolderName!==await e&&(E.O.PlaceHolderName=await e,this.setState({placeHolderName:await e}))},this.selectDefectPriority=async t=>{this.setState({isErrorOnPriority:!1});var e=await t.target.value;await this.state.defectPriority!==await e&&(E.O.DefectPriority=await e,this.setState({defectPriority:await e}))},this.selectDefectSeverity=async t=>{this.setState({isErrorOnSeverity:!1});var e=await t.target.value;await this.state.defectSeverity!==await e&&(E.O.DefectSeverity=await e,this.setState({defectSeverity:await e}))},this.updateDefectSeverity=async t=>{var e=await t.target.value;await this.state.updateddefectSeverity!==await e?(this.setState({isDefectSeveritySame:!1}),E.O.UpdateddefectSeverity=await e,this.setState({updateddefectSeverity:await e})):this.setState({isDefectSeveritySame:!0})},this.selectDefectStatus=async t=>{this.setState({isErrorOnDefectStatus:!1});var e=await t.target.value;await this.state.defectStatus!==await e&&(E.O.DefectStatus=await e,this.setState({defectStatus:await e}))},this.updateDefectStatus=async t=>{var e=await t.target.value;await this.state.updatedDefectStatus!==await e?(this.setState({isDefectStatusSame:!1}),E.O.UpdatedDefectStatus=await e,this.setState({updatedDefectStatus:await e})):this.setState({isDefectStatusSame:!0})},this.selectTestCycle=async t=>{this.setState({isErrorOnTestCycle:!1});var e=await t.target.value;await this.state.testCaseTestCycle!==await e&&(E.O.TestCaseTestCycle=await e,this.setState({testCaseTestCycle:await e}))},this.addStepsToRepduce=async t=>{this.setState({isErrorOnDefectSteps:!1});var e=await t.target.value;await this.state.defectStepsToReproduce!==await e&&(e=await e.toString(),E.O.DefectStepsToReproduce=await e,this.setState({defectStepsToReproduce:await e}))},this.addDefectStepsToRepduce=async t=>{var e=await t;await this.state.defectStepsToReproduce!==await e&&(E.O.DefectStepsToReproduce=await e,this.setState({defectStepsToReproduce:await e}))},this.mapTestCase=async t=>{E.O.SelectedTestId=await t,this.setState({selectedTestId:E.O.SelectedTestId})},this.mapUpdatedTestCase=async t=>{this.state.updatedTestID!==await t?(E.O.UpdatedTestID=await t,this.setState({updatedTestID:E.O.UpdatedTestID}),this.setState({isDefectTestIdSame:!1})):this.setState({isDefectTestIdSame:!0})},this.selectEmail=async t=>{E.O.DefectAssignedTo=await t,this.setState({defectAssignedTo:E.O.DefectAssignedTo})},this.updateEmail=async t=>{await this.state.defectNewAssignee!==await t?(E.O.DefectNewAssignee=await t,this.setState({defectNewAssignee:E.O.DefectNewAssignee}),this.setState({isDefectAssignedToSame:!1})):this.setState({isDefectAssignedToSame:!0})},this.createNewDefect=async t=>{await t.preventDefault();var e=this.state.defectTitle,a=this.state.placeHolderName,i=this.state.defectStepsToReproduce,s=this.state.testCaseTestCycle,r=this.state.selectedEnvironment,l=this.state.defectPriority,o=this.state.defectSeverity,d=this.state.defectStatus,n="";if(""===await e.toString().trim()&&(n="Title can not be blank.",this.setState({isErrorOnDefectTitle:!0})),""===await a.toString().trim()&&(n+="Placeholder can not be blank.",this.setState({isErrorOnPlaceHolder:!0})),""===await i.toString().trim()&&(n+="Steps to reproduce can not be blank.",this.setState({isErrorOnDefectSteps:!0})),""===await s.toString().trim()&&(n+="Cycle can not be blank.",this.setState({isErrorOnTestCycle:!0})),""===await l.toString().trim()&&(n+="Priority can not be blank.",this.setState({isErrorOnPriority:!0})),""===await o.toString().trim()&&(n+="Severity can not be blank.",this.setState({isErrorOnSeverity:!0})),""===await d.toString().trim()&&(n+="Status can not be blank.",this.setState({isErrorOnDefectStatus:!0})),0===await r.length&&(n+="Environment can not be blank."),""!==await n)return await this.getNotification("error",await n);if(await this.state.isErrorOnDefectTitle)return this.setState({isErrorOnDefectTitle:!0}),await this.getNotification("error","Defect title should have only alphabets.");this.setState({isPageLoading:!0});var c=await Z.Z.addNewDefect();if(this.setState({isPageLoading:!1}),!await c.isFileSaved)return await this.getNotification("error","Unable to create new defect because of "+j.D.ErrorMessage);this.setState({defectTitle:""}),E.O.DefectTitle="",this.setState({defectPriority:"Medium"}),E.O.DefectPriority="Medium",this.setState({defectSeverity:"Minor"}),E.O.DefectSeverity="Monor",this.setState({defectStatus:"Open"}),E.O.DefectStatus="Open",this.setState({defectStepsToReproduce:""}),E.O.DefectStepsToReproduce="",this.setState({defectAssignedTo:[]}),E.O.DefectAssignedTo=[],this.setState({selectedTestId:[]}),E.O.SelectedTestId=[],E.O.SelectedEnvironment=[],this.setState({selectedEnvironment:[]}),E.O.AttachmentData=[],this.setState({attachmentData:[]}),E.O.AllAttachmentToPush=[],this.setState({selectedRowFromAttachmentTable:-1}),E.O.SelectedRowFromAttachmentTable=-1,E.O.DefectCustomField=[],this.setState({defectCustomField:[]}),await this.getNotification("success","Defect id "+await c.defectId+" is successfully created."),await new Promise((t=>setTimeout(t,2e3))),await window.location.reload()},this.selectPlaceHolderFromTree=async e=>{E.O.ListOfPlaceHolder=[];var a=await e.key,i=await e.label;if(E.O.SelectedPlaceHolderPath=await a,E.O.SelectedPlaceHolderLabel=await i,this.setState({selectedPlaceHolderPath:await a}),this.setState({selectedPlaceHolderLabel:await i}),this.setState({isErrorOnNewPlaceHOlder:!1}),await a!==await t){this.setState({isErrorOnPlaceHolder:!1});var s=await a.split("/"),r="";for(let t=1;t<await s.length;t++)r=await r+"/"+await s[t];r=await r.substring(1),E.O.ListOfPlaceHolder.push(await r),E.O.PlaceHolderName=await r,this.setState({listOfPlaceHolder:await E.O.ListOfPlaceHolder}),this.setState({placeHolderName:await r})}else this.setState({isErrorOnPlaceHolder:!1}),E.O.ListOfPlaceHolder=[],E.O.PlaceHolderName="",this.setState({listOfPlaceHolder:await E.O.ListOfPlaceHolder}),this.setState({placeHolderName:""});E.O.SelectedTestId=[],this.setState({selectedTestId:[]}),this.setState({isPageLoading:!0});var l=await Z.Z.getAllTestIDfromPath(await a);this.setState({lisOfTestID:await l}),E.O.LisOfTestID=await l,E.O.AllDefectDetails=[],this.setState({allDefectDetails:[]});var o=await Z.Z.getAllDefectFromPath(await a);E.O.AllDefectDetails=await o,this.setState({allDefectDetails:await o}),this.setState({isPageLoading:!1})},this.toggleDeleteModal=async()=>{this.setState({modalForDelete:!1})},this.toggleCustomField=async()=>{this.setState({modalForCustomFields:!1})},this.toggleUpdateCustomField=async()=>{this.setState({modalForUpdateCustomFields:!1})},this.addNewPlaceHolderName=async t=>{this.setState({isErrorOnNewPlaceHOlder:!1});var e=await t.target.value;if(await this.state.newPlaceHolderName!==await e){e=await e.toString(),E.O.NewPlaceHolderName=await e,this.setState({newPlaceHolderName:await e});await/[^A-Za-z ]/gi.test(await e)&&(E.O.isErrorOnNewPlaceHOlder=!0,this.setState({isErrorOnNewPlaceHOlder:!0}))}},this.toggleDefectModal=async()=>{this.setState({defectCustomFieldsWithoutValue:[]}),this.setState({defectCustomFieldsWithoutValue:E.O.DefectCustomFieldsWithoutValue}),E.O.DefectUpdateCustomField=[],this.setState({defectUpdateCustomField:[]}),E.O.SelectedValueForCustomKey="",this.setState({selectedValueForCustomKey:""}),E.O.ListOfCustomValueForKey=[],this.setState({listOfCustomValueForKey:[]}),E.O.SelectedRowIDforUpdateCustomFieldTable=-1,this.setState({selectedRowIDforUpdateCustomFieldTable:-1}),this.setState({isDefectModalOpen:!1})},this.clickOnCommentsTab=async t=>{"1"!==this.state.activeTab?(E.O.ActiveTab="1",this.setState({activeTab:"1"}),this.setState({classNameForComment:"active"}),E.O.ClassNameForComment="active",this.setState({classNameForHistory:""}),E.O.ClassNameForHistory=""):(this.setState({classNameForHistory:"active"}),E.O.ClassNameForHistory="active",this.setState({classNameForComment:""}),E.O.ClassNameForComment="")},this.clickOnHistoryTab=async t=>{"2"!==this.state.activeTab?(E.O.ActiveTab="2",this.setState({activeTab:"2"}),this.setState({classNameForHistory:"active"}),E.O.ClassNameForHistory="active",this.setState({classNameForComment:""}),E.O.ClassNameForComment=""):(this.setState({classNameForComment:"active"}),E.O.ClassNameForComment="active",this.setState({classNameForHistory:""}),E.O.ClassNameForHistory="")},this.addTestComment=async t=>{this.setState({isErrorOnTestComment:!1});var e=await t.target.value;await this.state.newTestCaseComment!==await e&&(e=await e.toString(),E.O.NewTestCaseComment=await e,this.setState({newTestCaseComment:await e}))},this.saveTestComment=async t=>{await t.preventDefault();var e=this.state.newTestCaseComment.toString().trim();if(""===await e)return this.setState({isErrorOnTestComment:!0});this.setState({isPageLoading:!0});var a=await Z.Z.saveTestComments(await e);return this.setState({isPageLoading:!1}),a?(this.setState({newTestCaseComment:""}),E.O.NewTestCaseComment="",this.setState({isDefectModalOpen:!1}),await this.getNotification("success","Defect comment is successfully added.")):await this.getNotification("error","Unable to save defect comment because of "+j.D.ErrorMessage)},this.updateDefectTitle=async t=>{this.setState({isErrorOnUpdatedDefectTitle:!1});var e=await t.target.value;if(await this.state.updatedDefectTitle!==await e){this.setState({isDefectNameSame:!1}),E.O.UpdatedDefectTitle=await e,this.setState({updatedDefectTitle:await e});await/[^A-Za-z0-9-,. -]/gi.test(await e)&&(E.O.IsErrorOnUpdatedDefectTitle=!0,this.setState({isErrorOnUpdatedDefectTitle:!0})),""===await e.toString().trim()&&this.setState({isErrorOnUpdatedDefectTitle:!0})}else this.setState({isDefectNameSame:!1})},this.updateTestPriority=async t=>{var e=await t.target.value;await this.state.updatedTestPriority!==await e?(this.setState({isDefectPrioritySame:!1}),E.O.UpdatedTestPriority=await e,this.setState({updatedTestPriority:await e})):this.setState({isDefectPrioritySame:!0})},this.updateDefectSteps=async t=>{var e=await t.target.value;await this.state.updatedDefectSteps!==await e?(this.setState({isTestStepsSame:!1}),e=await e.toString(),E.O.UpdatedDefectSteps=await e,this.setState({updatedDefectSteps:await e})):this.setState({isTestStepsSame:!0})},this.updateDefectStepsToReproduce=async t=>{await this.state.updatedDefectSteps!==await t?(this.setState({isDefectStepsToReproduceSame:!1}),E.O.UpdatedDefectSteps=await t,this.setState({updatedDefectSteps:await t})):this.setState({isDefectStepsToReproduceSame:!0})},this.updateTestCycle=async t=>{var e=await t.target.value;await this.state.updatedTestCycle!==await e?(E.O.UpdatedTestCycle=await e,this.setState({updatedTestCycle:await e}),this.setState({isDefectSprintSame:!1})):this.setState({isDefectSprintSame:!0})},this.updateDefect=async t=>{await t.preventDefault();var e=this.state.updatedDefectTitle,a=this.state.updatedDefectSteps,i=this.state.updatedEnvironment,s="";if(""===await e.toString().trim()&&(s="Title can not be blank.",this.setState({isErrorOnUpdatedDefectTitle:!0})),""===await a.toString().trim()&&(s+="Steps to reproduce can not be blank."),"<p><br></p>"===await a.toString().trim()&&(s+="Steps to reproduce can not be blank."),0===await i.length&&(s+="Environment can not be blank."),""!==await s)return await this.getNotification("error",await s);if(await this.state.isErrorOnUpdatedDefectTitle)return this.setState({isErrorOnUpdatedDefectTitle:!0}),await this.getNotification("error","Defect title should have only alphabets.");var r="";if(this.state.isDefectNameSame||(r="".concat(r,", Title")),this.state.isDefectPrioritySame||(r="".concat(r,", Priority")),this.state.isDefectSeveritySame||(r="".concat(r,", Severity")),this.state.isDefectStatusSame||(r="".concat(r,", Status")),this.state.isDefectAssignedToSame||(r="".concat(r,", Assigned to")),this.state.isDefectTestIdSame||(r="".concat(r,", Test Id")),this.state.isEnvironmentSame||(r="".concat(r,", Environment")),this.state.isDefectStepsToReproduceSame||(r="".concat(r,", Steps to reproduce")),this.state.isDefectAttachmentSame||(r="".concat(r,", Attachment")),this.state.isDefectCustomFieldsSame||(r="".concat(r,", Custom Field")),this.state.isDefectSprintSame||(r="".concat(r,", Sprint Cycle")),""===r)return this.setState({isDefectModalOpen:!1}),await this.getNotification("warning","No changes to save.");var l="Defect"+(r=await r.substring(1))+" field updated.";if(this.setState({isPageLoading:!0}),!this.state.isDefectAttachmentSame){var o=E.O.DefectId,d=E.O.UpdateAttachmentData;await Z.Z.uploadUpdateandDeleteFileToServer(await o,E.O.AllUpdateAttachmentToPush,await d)}var n=await Z.Z.updateDefectField(await l);return this.setState({isPageLoading:!1}),await n?(this.setState({isDefectModalOpen:!1}),this.setState({isDefectNameSame:!0}),this.setState({isDefectPrioritySame:!0}),this.setState({isDefectSeveritySame:!0}),this.setState({isDefectStatusSame:!0}),this.setState({isDefectAssignedToSame:!0}),this.setState({isDefectTestIdSame:!0}),this.setState({isEnvironmentSame:!0}),this.setState({isDefectAttachmentSame:!0}),this.setState({isDefectStepsToReproduceSame:!0}),this.setState({isDefectCustomFieldsSame:!0}),this.setState({isDefectSprintSame:!0}),E.O.AllUpdateAttachmentToPush=[],E.O.DefectUpdateCustomField=[],this.setState({defectUpdateCustomField:[]}),await this.getNotification("success","Defect is successfully updated.")):await this.getNotification("error","Unable to save defect because of "+j.D.ErrorMessage)},this.confirmdelete=async t=>{await t.preventDefault(),this.setState({modalForDelete:!0})},this.deleteDefectId=async t=>{this.setState({isPageLoading:!0});var e=await Z.Z.deleteDefect();if(this.setState({isPageLoading:!1}),!e)return await this.getNotification("error","Unable to delete defect case because of "+j.D.ErrorMessage);this.setState({isDefectModalOpen:!1}),this.setState({modalForDelete:!1}),await this.getNotification("success","Defect is successfully deleted."),await new Promise((t=>setTimeout(t,3e3))),await window.location.reload()},this.automateTestCase=async t=>{await t.preventDefault(),await Z.Z.getTestAutomationSteps(),await window.open("/ui/testscript","_blank")},this.selectEnvironment=async t=>{E.O.SelectedEnvironment=await t,this.setState({selectedEnvironment:E.O.SelectedEnvironment})},this.updateEnvironment=async t=>{this.state.updatedEnvironment!==await t?(E.O.UpdatedEnvironment=await t,this.setState({updatedEnvironment:E.O.UpdatedEnvironment}),this.setState({isEnvironmentSame:!1})):this.setState({isEnvironmentSame:!0})},this.uploadAttachment=async t=>{await t.preventDefault();const e=await t.target.files[0];if(await e){var a=["webm","png","jpeg","jpg","docs","doc","docx","xlsx","xls","csv","ppt","pptx","txt","mp4","mov","pdf"];const t=await e.name,l=await e.name.split(".").pop().toLowerCase(),o=await e.size,d=await o/1024,n=await d/1024;if(!await a.includes(await l))return await this.getNotification("error","File extension should be "+await a.toString());if(await n>5)return await this.getNotification("error","File size should not be greater than 5 MB");this.fileInputRef.current.value="";var i=this.state.attachmentData;if(await i.length>0)for(let e=0;e<await i.length;e++){var s=await i[e].file;if(await s.toLowerCase()===await t.toLowerCase())return await this.getNotification("error","Duplicate file name found.")}var r={id:await i.length+1,file:await t};this.setState({attachmentData:[...this.state.attachmentData,r]}),E.O.AttachmentData.push(r),E.O.AllAttachmentToPush.push(await e)}},this.handleOpenFileDialog=async t=>{this.fileInputRef.current.click()},this.handleOpenUpdateFileDialog=async t=>{this.fileUpdateInputRef.current.click()},this.selectRadioButtonFromAttachmentTable=(t,e)=>{e&&(E.O.SelectedRowFromAttachmentTable=t.id,this.setState({selectedRowFromAttachmentTable:t.id}))},this.selectRadioButtonFromUpdateAttachmentTable=(t,e)=>{e&&(E.O.UpdatedRowFromAttachmentTable=t.id,this.setState({updatedRowFromAttachmentTable:t.id}))},this.deleteAttachmentFromTable=async t=>{await t.preventDefault();var e=this.state.attachmentData;if(0===e.length)return await this.getNotification("error","Please select the attachment before delete.There is no attachment under Additional attachment section.");if(!(Number(this.state.selectedRowFromAttachmentTable)>0&&Number(this.state.selectedRowFromAttachmentTable)<=e.length))return await this.getNotification("error","Please select the attachment before delete.There is no attachment under Additional attachment section.");var a=await X.Z.updateRowIdAfterDelete(e,this.state.selectedRowFromAttachmentTable);this.setState({attachmentData:[]},(()=>{this.setState({attachmentData:a})})),E.O.AttachmentData=await a;var i=await Number(this.state.selectedRowFromAttachmentTable)-1;E.O.AllAttachmentToPush.splice(await i,1),this.setState({selectedRowFromAttachmentTable:-1}),E.O.SelectedRowFromAttachmentTable=-1},this.uploadUpdateAttachment=async t=>{await t.preventDefault();const e=await t.target.files[0];if(await e){var a=["webm","png","jpeg","jpg","docs","doc","docx","xlsx","xls","csv","ppt","pptx","txt","mp4","mov","pdf"];const t=await e.name,l=await e.name.split(".").pop().toLowerCase(),o=await e.size,d=await o/1024,n=await d/1024;if(!await a.includes(await l))return await this.getNotification("error","File extension should be "+await a.toString());if(await n>5)return await this.getNotification("error","File size should not be greater than 5 MB");this.fileUpdateInputRef.current.value="";var i=this.state.updateAttachmentData;if(await i.length>0)for(let e=0;e<await i.length;e++){var s=await i[e].file;if(await s.toLowerCase()===await t.toLowerCase())return await this.getNotification("error","Duplicate file name found.")}var r={id:await i.length+1,file:await t};this.setState({updateAttachmentData:[...this.state.updateAttachmentData,r]}),E.O.UpdateAttachmentData.push(r),E.O.AllUpdateAttachmentToPush.push(await e),this.setState({isDefectAttachmentSame:!1})}},this.deleteUpdateAttachmentFromTable=async t=>{await t.preventDefault();var e=this.state.updateAttachmentData;if(0===e.length)return await this.getNotification("error","Please select the attachment before delete.There is no attachment under Additional attachment section.");if(!(Number(this.state.updatedRowFromAttachmentTable)>0&&Number(this.state.updatedRowFromAttachmentTable)<=e.length))return await this.getNotification("error","Please select the attachment before delete.There is no attachment under Additional attachment section.");var a=await X.Z.updateRowIdAfterDelete(e,this.state.updatedRowFromAttachmentTable);this.setState({updateAttachmentData:[]},(()=>{this.setState({updateAttachmentData:a})})),E.O.UpdateAttachmentData=await a;var i=await Number(this.state.updatedRowFromAttachmentTable)-1;E.O.AllUpdateAttachmentToPush.splice(await i,1),this.setState({updatedRowFromAttachmentTable:-1}),E.O.UpdatedRowFromAttachmentTable=-1,this.setState({isDefectAttachmentSame:!1})},this.downloadFileFromServer=async t=>{await t.preventDefault();var e=this.state.updateAttachmentData;if(0===e.length)return await this.getNotification("error","Please select the attachment before download.There is no attachment under Additional attachment section.");if(Number(this.state.updatedRowFromAttachmentTable)>0&&Number(this.state.updatedRowFromAttachmentTable)<=e.length){var a=await Number(this.state.updatedRowFromAttachmentTable)-1,i=await e[await a].file,s=await this.state.defectId;i=await s+"_"+await i;var r=await Z.Z.downloadFromServer("Defects",await i);return await r?(await new Promise((t=>setTimeout(t,3e3))),await this.getNotification("success","File is successfully downloded from the server.")):await this.getNotification("error","Unable to download file from the server."+j.D.ErrorMessage)}return await this.getNotification("error","Please select the attachment before download.")},this.cloneDefect=async()=>{this.setState({isPageLoading:!0}),this.setState({isErrorOnDefectTitle:!1}),this.setState({isErrorOnPlaceHolder:!1}),this.setState({isErrorOnPriority:!1}),this.setState({isErrorOnSeverity:!1}),this.setState({isErrorOnDefectStatus:!1});var t=E.O.UpdatedDefectTitle;E.O.DefectTitle=await t,this.setState({defectTitle:await t});var e=await E.O.UpdatedTestPlaceHolder,a=await E.O.ListOfPlaceHolder;0===await a.length&&E.O.ListOfPlaceHolder.push(await e),E.O.PlaceHolderName=await e,this.setState({placeHolderName:await e});var i=await E.O.UpdatedTestPriority;E.O.DefectPriority=await i,this.setState({defectPriority:await i});var s=await E.O.UpdateddefectSeverity;E.O.DefectSeverity=await s,this.setState({defectSeverity:await s});var r=await E.O.UpdatedEnvironment;E.O.SelectedEnvironment=await r,this.setState({selectedEnvironment:await r});var l=E.O.UpdatedDefectSteps;E.O.DefectStepsToReproduce=await l,this.setState({defectStepsToReproduce:await l});var o=await E.O.DefectNewAssignee;E.O.DefectAssignedTo=await o,this.setState({defectAssignedTo:await o});var d=E.O.UpdatedTestID;E.O.SelectedTestId=await d,this.setState({selectedTestId:await d}),this.setState({isDefectModalOpen:!1}),this.setState({isPageLoading:!1})},this.selectCustomKeyValue=async t=>{var e=await t.target.value;if(await e!==await this.state.selectedValueForCustomKey){E.O.SelectedValueForCustomKey=await e,this.setState({selectedValueForCustomKey:await e});var a=Number(this.state.selectedRowIDforCustomFieldTable)-1,i=this.state.defectCustomField;i[await a].value=await e,E.O.DefectCustomField=await i,this.setState({defectCustomField:[]},(()=>{this.setState({defectCustomField:i})}))}E.O.SelectedRowIDforCustomFieldTable=-1,this.setState({selectedRowIDforCustomFieldTable:-1}),E.O.ListOfCustomValueForKey=[],this.setState({listOfCustomValueForKey:[]}),E.O.SelectedValueForCustomKey="",this.setState({selectedValueForCustomKey:""}),this.setState({modalForCustomFields:!1})},this.selectCustomKeyValueForUpdate=async t=>{var e=[],a=await t.target.value;if(await a!==await this.state.selectedValueForCustomKey){E.O.SelectedValueForCustomKey=await a,this.setState({selectedValueForCustomKey:await a});var i=Number(this.state.selectedRowIDforUpdateCustomFieldTable)-1;(e=this.state.defectUpdateCustomField)[await i].value=await a,E.O.DefectUpdateCustomField=await e,this.setState({isDefectCustomFieldsSame:!1})}E.O.SelectedRowIDforUpdateCustomFieldTable=-1,this.setState({selectedRowIDforUpdateCustomFieldTable:-1}),E.O.ListOfCustomValueForKey=[],this.setState({listOfCustomValueForKey:[]}),E.O.SelectedValueForCustomKey="",this.setState({selectedValueForCustomKey:""}),this.setState({defectUpdateCustomField:[]},(()=>{this.setState({defectUpdateCustomField:e})})),this.setState({modalForUpdateCustomFields:!1})},this.exportDefects=async t=>{await t.preventDefault();var e=this.state.allDefectDetails;if(0===await e.length)return await this.getNotification("error","No Defect found under Defect details table");this.setState({isPageLoading:!0});try{var a=["S.no.","Defect Id","Component","Defect Title","Steps to Reproduce","Priority","Severity","Status","Assigned To","Associated TestId","Test Cycle","Environment","Created By"],i=[],s=await E.O.DefectCustomField;for(let e=0;e<await s.length;e++){var r=await s[e].key;i.push(await r)}var l=[];l=await i.length>0?await a.concat(await i):await a;var o=[];await o.push(await l);var d=1;for(let a=0;a<await e.length;a++){var n=[];n.push(await d);var c,h=await e[a],w=await h.defectid,m=await h.component,u=await h.title,f="",p=await h.priority,S=await h.severity,y=await h.status,v=await h.assignto,D=await h.testid,O=await h.cycle,T="",g=await h.createdby;c=await Z.Z.getDefectIdDetailsBasedonDetails(await m,await O,await w);var x=await c.customfields;void 0===await x&&(x=[]);var C=await c.environment;if(void 0!==await C&&await C.length>0){var F="";for(let t=0;t<await C.length;t++){var b=await C[t].value;F=await F+","+await b}await F.startsWith(",")&&(F=await F.slice(1)),T=await F}if(f=await c.defectSteps,void 0!==await f){const t=new DOMParser,e=await t.parseFromString(await f,"text/html"),a=await Array.from(e.body.childNodes).map((t=>(t.nodeType===Node.ELEMENT_NODE?"\n":"")+t.textContent)).join("");f=await a}else f="";if(n.push(await w),n.push(await m),n.push(await u),n.push(await f),n.push(await p),n.push(await S),n.push(await y),n.push(await v),n.push(await D),n.push(await O),n.push(await T),n.push(await g),await i.length>0)for(let t=0;t<await i.length;t++){var P=!1,A=await i[t];for(let t=0;t<await x.length;t++){var N=await x[t].key;if(await N===await A){P=!0;var j=await x[t].value;n.push(await j)}}await P||n.push("")}o.push(await n),d=Number(await d)+1}const t=await o,I=J.P6.aoa_to_sheet(t),U=J.P6.book_new();return J.P6.book_append_sheet(U,I,"Defects"),J.NC(U,"QaBunch_Defects.xlsx"),await new Promise((t=>setTimeout(t,3e3))),this.setState({isPageLoading:!1}),await this.getNotification("success","Defects are successfully exported.")}catch(I){return this.setState({isPageLoading:!1}),await this.getNotification("error","There is an error on exporting the test cases "+await I)}},this.uploadExcelWorkBook=async t=>{await t.preventDefault(),await this.setState({bulkUploadFile:await t.target.files[0]})},this.importDefects=async t=>{if(await t.preventDefault(),null===this.state.bulkUploadFile||""===this.state.bulkUploadFile||void 0===this.state.bulkUploadFile)return await this.getNotification("error","Please upload excel file for importing defects.");var e=this.state.bulkUploadFile.name,a=await e.split(".").pop();if("xlsx"!==await a.trim().toLowerCase()&&"csv"!==await a.trim().toLowerCase())return await this.getNotification("error","Please upload excel/csv file , supported version is xlsx or csv");try{var i=null;await(0,Y.ExcelRenderer)(await this.state.bulkUploadFile,((t,e)=>{t||(i=e)}))}catch(L){}var s=await i.rows,r=await i.rows[0];try{var l=await Z.Z.getColumnNameIfValid(await r),o=await Z.Z.getCustomColumnIndex(await r)}catch(L){return await this.getNotification("error","Excel file worksheet is not in correct format,Please make sure excel column should have Component ,Stepstoreproduce and Title column")}if(!await l.isvalid)return await this.getNotification("error","Excel file worksheet is not in correct format,Please make sure excel column should have Component ,Stepstoreproduce and Title column");var d=await this.state.testCaseTestCycle;if(void 0===await d||""===await d)return await this.getNotification("error","Test cycle is not selected , if there is not cycle, please add from the configuration page.");try{var n=await Number(await l.component),c=await l.title,h=await Number(await l.defectsteps),w=await l.priority,m=await l.severity,u=await l.status,f=await l.assignedto,p=await l.environment,S=await l.linkedtestid,y=await l.createdby,v=0;this.setState({isPageLoading:!0});for(let t=1;t<await s.length;t++){var D=await s[t][n];D=await Z.Z.getTextFromHtmlText(await D);var O=await s[t][await c];O=await Z.Z.getTextFromHtmlText(await O);var T=await s[t][await h];T=await Z.Z.getTextFromHtmlText(await T);var g=await s[t][w];g=await Z.Z.getTextFromHtmlText(await g),g=await Z.Z.getValidPriority(await g);var x=await s[t][m];x=await Z.Z.getTextFromHtmlText(await x),x=await Z.Z.getValidSeverity(await x);var C=await s[t][u];C=await Z.Z.getTextFromHtmlText(await C),C=await Z.Z.getValidDefectStatus(await C);var F=await s[t][f];F=await Z.Z.getTextFromHtmlText(await F),F=await Z.Z.getValidAssignedTo(await F);var b=await s[t][p];b=await Z.Z.getTextFromHtmlText(await b),b=await Z.Z.getValidEnvironmentList(await b);var P=await s[t][S];P=await Z.Z.getTextFromHtmlText(await P),P=await Z.Z.getValidLinkedTestId(await P);var A=await s[t][y];A=await Z.Z.getTextFromHtmlText(await A),A=await Z.Z.getCreatedByValid(await A);var N=await Z.Z.getMaxRangeForTestCase(await t,await n,await s.length,await s),E=2;if(await(Number(await N)-1)!==Number(await t)){T="1. "+await T;for(let e=t+1;e<await N;e++){var j=await s[e][h];j=await Z.Z.getTextFromHtmlText(await j),void 0!==await j&&""!==await j&&(T=await T+"\n"+await j,E=Number(await E)+1)}}if(T=await T,T="<p>"+await T.split("\n").map((t=>/^\d+\.\s/.test(t)?"<br>"+t.trim():t.trim())).join("</p><p>")+"</p>",void 0!==await D||""!==await D||void 0!==await T||""!==await T||void 0!==await O||""!==await O){var I=1;I=await Number(await I)+1,D=await Z.Z.createPathForComponent(await D),await Z.Z.createPlaceHolderFromExcelFile(await D);var U=await Z.Z.createCustomColumnforImport(await o,await s,await t),k=await Z.Z.addNewDefectWithAttribute(await O,await D,await g,await x,await C,await F,await d,await P,await T,await A,await b,await U);await k&&(v=await(Number(await v)+1))}t=await(Number(await N)-1)}return this.setState({isPageLoading:!1}),Number(await v)>0?await this.getNotification("success",await Number(v)+" Defects imported from the excel file"):await this.getNotification("error","No Defect imported from the excel file, Please make sure you have correct excel template")}catch(L){}},this.toggleaccordian=async()=>{""===await this.state.accordionId?this.setState({accordionId:"1"}):this.setState({accordionId:""})}}render(){const t={mode:"radio",onSelect:this.selectRadioButtonFromAttachmentTable,selected:[this.state.selectedRowFromAttachmentTable]},e={mode:"radio",onSelect:this.selectRadioButtonFromUpdateAttachmentTable,selected:[this.state.updatedRowFromAttachmentTable]},a={onClick:(t,e,a)=>{E.O.DefectUpdateCustomField=[],this.setState({defectUpdateCustomField:[]}),this.setState({updatedRowFromAttachmentTable:-1}),E.O.UpdatedRowFromAttachmentTable=-1,this.setState({isErrorOnUpdatedDefectTitle:!1}),this.setState({isErrorOnTestComment:!1}),this.setState({isPageLoading:!0}),E.O.DefectId=e.defectid,this.setState({defectId:e.defectid}),E.O.UpdatedTestPlaceHolder=e.component,this.setState({updatedTestPlaceHolder:e.component}),E.O.UpdatedTestCycle=e.cycle,this.setState({updatedTestCycle:e.cycle}),Promise.resolve(Z.Z.getDefectIdDetails()).then((t=>{if(0===Object.keys(t).length)return this.getNotification("error","Test case does not exist on Server, Please refresh the page and try again.");E.O.UpdatedDefectTitle=t.defectName,this.setState({updatedDefectTitle:t.defectName}),E.O.UpdatedTestPriority=t.priority,this.setState({updatedTestPriority:t.priority}),E.O.UpdateddefectSeverity=t.severity,this.setState({updateddefectSeverity:t.severity}),E.O.UpdatedDefectStatus=t.status,this.setState({updatedDefectStatus:t.status}),E.O.DefectNewAssignee=t.assignedTo,this.setState({defectNewAssignee:t.assignedTo}),E.O.UpdatedTestID=t.testId,this.setState({updatedTestID:t.testId}),this.setState({updatedDefectSteps:t.defectSteps}),E.O.UpdatedDefectSteps=t.defectSteps,this.setState({testHistory:t.History}),E.O.TestHistory=t.History,this.setState({testComments:t.Comments}),E.O.TestComments=t.Comments,this.setState({testCaseCreatedBy:t.createdBy});var e=t.environment;void 0===e?(E.O.UpdatedEnvironment=E.O.FirstEnvironment,this.setState({updatedEnvironment:E.O.FirstEnvironment})):(E.O.UpdatedEnvironment=e,this.setState({updatedEnvironment:e}));var a=t.attachment;void 0===a?(E.O.UpdateAttachmentData=[],this.setState({updateAttachmentData:[]})):(E.O.UpdateAttachmentData=a,this.setState({updateAttachmentData:a}));var i=t.customfields;if(void 0===i){var s=this.state.defectCustomFieldsWithoutValue;void 0===s?(E.O.DefectUpdateCustomField=[],this.setState({defectUpdateCustomField:[]})):Promise.resolve(Z.Z.clearvalueForDefectCustomFieldsWithoutValue()).then((()=>{E.O.DefectUpdateCustomField=s,this.setState({defectUpdateCustomField:s}),this.setState({defectCustomFieldsWithoutValue:E.O.DefectCustomFieldsWithoutValue})}))}else Promise.resolve(Z.Z.setCustomFieldForExistingDefect(i)).then((t=>{E.O.DefectUpdateCustomField=t,this.setState({defectUpdateCustomField:t})}));this.setState({isDefectModalOpen:!0})})),this.setState({isPageLoading:!1})}},i={toolbar:[[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["code-block"]],clipboard:{matchVisual:!1}},r=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code-block"];return(0,G.jsxs)(s.Z,{className:"defect",title:"Defect",children:[this.state.isPageLoading&&(0,G.jsx)(H.Z,{sentences:R.b,height:"150%",color:"black"}),(0,G.jsxs)(l.Z,{in:!this.state.isPageLoading,children:[(0,G.jsx)(L(),{ref:this.notificationSystem}),(0,G.jsx)(o.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsx)(n.Z,{open:this.state.accordionId,toggle:this.toggleaccordian.bind(this),children:(0,G.jsxs)(c.Z,{children:[(0,G.jsx)(h.Z,{targetId:"1",children:"Upload your existing Defects"}),(0,G.jsx)(w.Z,{accordionId:"1",children:(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"file",name:"bulkUpload",onChange:this.uploadExcelWorkBook.bind(this)})}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(f.Z,{size:"sm",children:(0,G.jsx)(p.Z,{color:"black",onClick:this.importDefects.bind(this),children:(0,G.jsx)("small",{children:"Import"})})})})]})})})})]})})})}),(0,G.jsxs)(o.Z,{children:[(0,G.jsx)(d.Z,{lg:8,md:8,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(y.Z,{children:(0,G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Add new defect",(0,G.jsx)(f.Z,{size:"sm",children:(0,G.jsx)(p.Z,{color:"black",onClick:this.createNewDefect.bind(this),children:(0,G.jsx)("small",{children:"Create new defect"})})})]})}),(0,G.jsx)(v.Z,{children:(0,G.jsx)(D.Z,{children:(0,G.jsxs)(m.Z,{col:"true",children:[(0,G.jsx)(O.Z,{sm:3,children:"Title*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"input",invalid:this.state.isErrorOnDefectTitle,onChange:this.addNewDefectTitle.bind(this),name:"defectTitle",defaultValue:this.state.defectTitle})}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Component*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",invalid:this.state.isErrorOnPlaceHolder,onChange:this.selectPlaceHolder.bind(this),name:"placeHolderName",value:this.state.placeHolderName,children:(0,G.jsx)(M.Z,{options:this.state.listOfPlaceHolder})})}),(0,G.jsx)(O.Z,{sm:2,children:"Priority*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",invalid:this.state.isErrorOnPriority,onChange:this.selectDefectPriority.bind(this),name:"priority",value:this.state.defectPriority,children:(0,G.jsx)(M.Z,{options:this.state.listOfPriorityOptions})})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Severity*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",invalid:this.state.isErrorOnSeverity,onChange:this.selectDefectSeverity.bind(this),name:"BugSeverity",value:this.state.defectSeverity,children:(0,G.jsx)(M.Z,{options:this.state.listOfSeverity})})}),(0,G.jsx)(O.Z,{sm:2,children:"Status*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",invalid:this.state.isErrorOnDefectStatus,onChange:this.selectDefectStatus.bind(this),name:"automationType",value:this.state.defectStatus,children:(0,G.jsx)(M.Z,{options:this.state.listOfDefectStatus})})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Assigned to"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(Q.ZP,{defaultValue:this.state.defectAssignedTo,value:this.state.defectAssignedTo,name:"testId",options:this.state.listOfAssignedUsers,className:"basic-single",classNamePrefix:"select",onChange:this.selectEmail.bind(this)})}),(0,G.jsx)(O.Z,{sm:2,children:"Cycle*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",invalid:this.state.isErrorOnTestCycle,onChange:this.selectTestCycle.bind(this),name:"testCycle",value:this.state.testCaseTestCycle,children:(0,G.jsx)(M.Z,{options:this.state.listOfTestCycle})})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Environment*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(Q.ZP,{defaultValue:this.state.selectedEnvironment,value:this.state.selectedEnvironment,isMulti:!0,name:"testId",options:this.state.environmentList,className:"basic-multi-select",classNamePrefix:"select",onChange:this.selectEnvironment.bind(this)})}),(0,G.jsx)(O.Z,{sm:2,children:"Test Id"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(Q.ZP,{defaultValue:this.state.selectedTestId,value:this.state.selectedTestId,isMulti:!0,name:"testId",options:this.state.lisOfTestID,className:"basic-multi-select",classNamePrefix:"select",onChange:this.mapTestCase.bind(this)})})]}),(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(y.Z,{children:(0,G.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Custom fields"})}),(0,G.jsx)(v.Z,{children:(0,G.jsx)(v.Z,{children:(0,G.jsx)(d.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.defectCustomField,columns:B.K7,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,cellEdit:(0,U.ZP)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,a,i)=>{},onStartEdit:(t,e,a,i)=>{var s=t.key,r=t.value;if(E.O.CustomKeyListForListBoxOption.includes(s)){E.O.SelectedRowIDforCustomFieldTable=t.id,this.setState({selectedRowIDforCustomFieldTable:t.id}),E.O.CustomKeyNameToUpdate=s,this.setState({customKeyNameToUpdate:s});var l=E.O.CustomKeyListBoxWithKeyAnaValue[s];E.O.ListOfCustomValueForKey=l,this.setState({listOfCustomValueForKey:l}),E.O.SelectedValueForCustomKey=r,this.setState({selectedValueForCustomKey:r}),this.setState({modalForCustomFields:!0})}}})})})})})]})})}),(0,G.jsxs)(m.Z,{col:"true",children:[(0,G.jsx)(O.Z,{sm:3,children:"Steps to reproduce*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(_(),{modules:i,theme:"snow",formats:r,value:this.state.defectStepsToReproduce,onChange:this.addDefectStepsToRepduce.bind(this)})})]}),(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(y.Z,{children:(0,G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Additional Attachment",(0,G.jsxs)(f.Z,{size:"sm",children:[(0,G.jsx)(p.Z,{color:"black",onClick:this.handleOpenFileDialog.bind(this),children:(0,G.jsx)("small",{children:"Add"})}),(0,G.jsx)(p.Z,{color:"info",onClick:this.deleteAttachmentFromTable.bind(this),children:(0,G.jsx)("small",{children:"Delete"})})]}),(0,G.jsx)(u.Z,{type:"file",name:"fileUpload",innerRef:this.fileInputRef,onChange:this.uploadAttachment.bind(this),style:{display:"none"}})]})}),(0,G.jsx)(v.Z,{children:(0,G.jsx)(v.Z,{children:(0,G.jsx)(d.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.attachmentData,columns:B.p7,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,selectRow:t})})})})]})})})]})})})]})}),(0,G.jsx)(d.Z,{lg:4,md:4,sm:12,xs:12,style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsxs)(S.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:[(0,G.jsx)(y.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)("div",{className:"d-flex justify-content-between align-items-center",style:{overflowX:"auto",maxWidth:"100%"},children:"Test Component"})}),(0,G.jsx)(v.Z,{children:(0,G.jsx)(D.Z,{children:(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{children:(0,G.jsx)(W.ZP,{cacheSearch:!0,data:this.state.folderTreeData,hasSearch:!0,onClickItem:this.selectPlaceHolderFromTree.bind(this)})})})})})]})})]}),(0,G.jsx)(o.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:[(0,G.jsx)(y.Z,{children:(0,G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Defect Details",(0,G.jsx)(f.Z,{size:"sm",children:(0,G.jsx)(p.Z,{color:"black",onClick:this.exportDefects.bind(this),children:(0,G.jsx)("small",{children:"Export Defects"})})})]})}),(0,G.jsx)(v.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.allDefectDetails,columns:B._U,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,pagination:(0,K.ZP)(),filter:(0,V.ZP)(),rowEvents:a})})]})})}),(0,G.jsxs)(T.Z,{size:"xl",isOpen:this.state.isDefectModalOpen,className:this.props.className,backdrop:"static",children:[this.state.isPageLoading&&(0,G.jsx)(H.Z,{sentences:R.b,height:"2000%",color:"black"}),(0,G.jsx)(g.Z,{toggle:this.toggleDefectModal.bind(this),children:"Defect Details"}),(0,G.jsxs)(x.Z,{children:[(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(y.Z,{children:(0,G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Defect Id : ",this.state.defectId,(0,G.jsxs)(f.Z,{size:"sm",children:[(0,G.jsx)(p.Z,{color:"info",onClick:this.cloneDefect.bind(this),children:(0,G.jsx)("small",{children:"Clone"})}),(0,G.jsx)(p.Z,{color:"black",onClick:this.updateDefect.bind(this),children:(0,G.jsx)("small",{children:"Update"})}),j.Q.isSuperAdmin&&(0,G.jsx)(p.Z,{color:"info",onClick:this.confirmdelete.bind(this),children:(0,G.jsx)("small",{children:"Delete"})})]})]})}),(0,G.jsx)(v.Z,{children:(0,G.jsxs)(D.Z,{children:[(0,G.jsxs)(m.Z,{col:"true",children:[(0,G.jsx)(O.Z,{sm:3,children:"Title*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{invalid:this.state.isErrorOnUpdatedDefectTitle,type:"input",name:"updatedDefectTitle",defaultValue:this.state.updatedDefectTitle,onChange:this.updateDefectTitle.bind(this)})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Component*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"input",name:"updatedplaceholder",defaultValue:this.state.updatedTestPlaceHolder,disabled:!0})}),(0,G.jsx)(O.Z,{sm:2,children:"Priority*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",name:"updatedpriority",value:this.state.updatedTestPriority,onChange:this.updateTestPriority.bind(this),children:(0,G.jsx)(M.Z,{options:this.state.listOfPriorityOptions})})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Severity*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",onChange:this.updateDefectSeverity.bind(this),name:"BugSeverity",value:this.state.updateddefectSeverity,children:(0,G.jsx)(M.Z,{options:this.state.listOfSeverity})})}),(0,G.jsx)(O.Z,{sm:2,children:"Status*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",onChange:this.updateDefectStatus.bind(this),name:"automationType",value:this.state.updatedDefectStatus,children:(0,G.jsx)(M.Z,{options:this.state.listOfDefectStatus})})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Assigned to"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(Q.ZP,{defaultValue:this.state.defectNewAssignee,name:"testId",options:this.state.listOfAssignedUsers,className:"basic-single",classNamePrefix:"select",onChange:this.updateEmail.bind(this)})}),(0,G.jsx)(O.Z,{sm:2,children:"Cycle*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",name:"testCycle",value:this.state.updatedTestCycle,disabled:!j.Q.isSuperAdmin,onChange:this.updateTestCycle.bind(this),children:(0,G.jsx)(M.Z,{options:this.state.listOfTestCycle})})})]}),(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:2,children:"Environment*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(Q.ZP,{defaultValue:this.state.updatedEnvironment,isMulti:!0,name:"testId",options:this.state.environmentList,className:"basic-multi-select",classNamePrefix:"select",onChange:this.updateEnvironment.bind(this)})}),(0,G.jsx)(O.Z,{sm:2,children:"Test Id"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(Q.ZP,{defaultValue:this.state.updatedTestID,isMulti:!0,name:"testId",options:this.state.lisOfTestID,className:"basic-multi-select",classNamePrefix:"select",onChange:this.mapUpdatedTestCase.bind(this)})})]}),(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(y.Z,{children:(0,G.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Custom fields"})}),(0,G.jsx)(v.Z,{children:(0,G.jsx)(v.Z,{children:(0,G.jsx)(d.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.defectUpdateCustomField,columns:B.K7,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,cellEdit:(0,U.ZP)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,a,i)=>{t!==e&&this.setState({isDefectCustomFieldsSame:!1})},onStartEdit:(t,e,a,i)=>{var s=t.key,r=t.value;if(E.O.CustomKeyListForListBoxOption.includes(s)){E.O.ListOfCustomValueForKey=[],this.setState({listOfCustomValueForKey:[]}),E.O.SelectedRowIDforUpdateCustomFieldTable=t.id,this.setState({selectedRowIDforUpdateCustomFieldTable:t.id}),E.O.CustomKeyNameToUpdate=s,this.setState({customKeyNameToUpdate:s});var l=E.O.CustomKeyListBoxWithKeyAnaValue[s];E.O.SelectedValueForCustomKey=r,l.includes(r)||l.splice(0,0,r),E.O.ListOfCustomValueForKey=l,this.setState({listOfCustomValueForKey:l}),this.setState({selectedValueForCustomKey:r}),this.setState({modalForUpdateCustomFields:!0})}}})})})})})]})})}),(0,G.jsxs)(m.Z,{col:"true",children:[(0,G.jsx)(O.Z,{sm:3,children:"Steps to reproduce*"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(_(),{theme:"snow",modules:i,formats:r,value:this.state.updatedDefectSteps,onChange:this.updateDefectStepsToReproduce.bind(this)})})]}),(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(y.Z,{children:(0,G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Additional Attachment",(0,G.jsxs)(f.Z,{size:"sm",children:[(0,G.jsx)(p.Z,{color:"black",onClick:this.handleOpenUpdateFileDialog.bind(this),children:(0,G.jsx)("small",{children:"Add"})}),(0,G.jsx)(p.Z,{color:"info",onClick:this.downloadFileFromServer.bind(this),children:(0,G.jsx)("small",{children:"Download"})}),(0,G.jsx)(p.Z,{color:"black",onClick:this.deleteUpdateAttachmentFromTable.bind(this),children:(0,G.jsx)("small",{children:"Delete"})})]}),(0,G.jsx)(u.Z,{type:"file",name:"fileUpload",innerRef:this.fileUpdateInputRef,onChange:this.uploadUpdateAttachment.bind(this),style:{display:"none"}})]})}),(0,G.jsx)(v.Z,{children:(0,G.jsx)(v.Z,{children:(0,G.jsx)(d.Z,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.updateAttachmentData,columns:B.p7,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,selectRow:e})})})})]})})})]})})]})})}),(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsxs)("div",{children:[(0,G.jsxs)(C.Z,{tabs:!0,children:[(0,G.jsx)(F.Z,{children:(0,G.jsx)(b.Z,{className:this.state.classNameForComment,onClick:this.clickOnCommentsTab.bind(this),children:"Comments"})}),(0,G.jsx)(F.Z,{children:(0,G.jsx)(b.Z,{className:this.state.classNameForHistory,onClick:this.clickOnHistoryTab.bind(this),children:"History"})})]}),(0,G.jsxs)(P.Z,{activeTab:this.state.activeTab,children:[(0,G.jsxs)(A.Z,{tabId:"1",children:[(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{sm:"12",style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.testComments,columns:B.mL,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0})})}),(0,G.jsx)(o.Z,{children:(0,G.jsx)(D.Z,{children:(0,G.jsxs)(m.Z,{row:!0,children:[(0,G.jsx)(O.Z,{sm:1,children:"Comment"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"textarea",invalid:this.state.isErrorOnTestComment,name:"testCaseComment",defaultValue:this.state.newTestCaseComment,onChange:this.addTestComment.bind(this)})}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(f.Z,{size:"sm",children:(0,G.jsx)(p.Z,{color:"black",onClick:this.saveTestComment.bind(this),children:(0,G.jsx)("small",{children:"Add Comment"})})})})]})})})]}),(0,G.jsx)(A.Z,{tabId:"2",children:(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{sm:"12",style:{overflowX:"auto",maxWidth:"100%"},children:(0,G.jsx)(I.Z,{keyField:"id",data:this.state.testHistory,columns:B.fP,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0})})})})]})]})})})]})]}),(0,G.jsxs)(T.Z,{isOpen:this.state.modalForDelete,toggle:this.toggle,className:this.props.className,children:[this.state.isPageLoading&&(0,G.jsx)(H.Z,{sentences:R.b,height:"2000%",color:"black"}),(0,G.jsx)(g.Z,{toggle:this.toggleDeleteModal,children:"Confirmation"}),(0,G.jsx)(x.Z,{children:"Are you sure,You want to delete the defect?"}),(0,G.jsx)(N.Z,{children:(0,G.jsxs)(f.Z,{size:"sm",children:[(0,G.jsx)(p.Z,{color:"black",onClick:this.toggleDeleteModal.bind(this),children:(0,G.jsx)("small",{children:"Cancel"})}),(0,G.jsx)(p.Z,{color:"info",onClick:this.deleteDefectId.bind(this),children:(0,G.jsx)("small",{children:"Yes"})})]})})]}),(0,G.jsxs)(T.Z,{isOpen:this.state.modalForCustomFields,toggle:this.toggle,className:this.props.className,centered:!0,children:[this.state.isPageLoading&&(0,G.jsx)(H.Z,{sentences:R.b,height:"2000%",color:"black"}),(0,G.jsxs)(g.Z,{toggle:this.toggleCustomField,children:["Choose value for custom key : ",this.state.customKeyNameToUpdate," "]}),(0,G.jsx)(x.Z,{children:(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsx)(D.Z,{children:(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",onChange:this.selectCustomKeyValue.bind(this),name:"customKeySelection",value:this.state.selectedValueForCustomKey,children:(0,G.jsx)(M.Z,{options:this.state.listOfCustomValueForKey})})})})})})})})]}),(0,G.jsxs)(T.Z,{isOpen:this.state.modalForUpdateCustomFields,toggle:this.toggle,className:this.props.className,centered:!0,children:[this.state.isPageLoading&&(0,G.jsx)(H.Z,{sentences:R.b,height:"2000%",color:"black"}),(0,G.jsxs)(g.Z,{toggle:this.toggleUpdateCustomField,children:["Update value for custom key : ",this.state.customKeyNameToUpdate," "]}),(0,G.jsx)(x.Z,{children:(0,G.jsx)(o.Z,{children:(0,G.jsx)(d.Z,{lg:12,md:12,sm:12,xs:12,children:(0,G.jsx)(D.Z,{children:(0,G.jsx)(m.Z,{col:"true",children:(0,G.jsx)(d.Z,{children:(0,G.jsx)(u.Z,{type:"select",onChange:this.selectCustomKeyValueForUpdate.bind(this),name:"customKeySelection",value:this.state.selectedValueForCustomKey,children:(0,G.jsx)(M.Z,{options:this.state.listOfCustomValueForKey})})})})})})})})]})]})]})}}const $=q;i()}catch(q){i(q)}}),1)},8771:(t,e,a)=>{a.d(e,{a:()=>i});var i={FolderTreeData:[],IsErrorOnTestCase:!1,TestcaseName:"",IsErrorOnPlaceHolder:!1,PlaceHolderName:"",ListOfPlaceHolder:[],ListOfPriorityOptions:["Critical","High","Medium","Low"],TestcasePriority:"Medium",ListOfTestingType:["Functional","Non functional"],TestCaseTestingType:"Functional",ListOfAutomationType:["Not Automated","Automated","Not a right candidate"],TestCaseAutomationType:"Not Automated",ListOfTestCycle:[],IsErrorOnTestCycle:!1,TestCaseTestCycle:"",TestCaseReference:"",TestCaseObjective:"",TestCasePreCondition:"",TestCaseTestData:"",IsErrorOnTestSteps:!1,TestCaseTestSteps:"",TestCaseExpectedResults:"",AllTestCaseDetails:[],SelectedPlaceHolderPath:"",SelectedPlaceHolderLabel:"",IsErrorOnNewPlaceHOlder:!1,NewPlaceHolderName:"",TestId:"",IsErrorOnUPdatedTestCaseName:!1,UpdatedTestName:"",UpdatedTestPlaceHolder:"",UpdatedTestPriority:"",UpdatedTestType:"",UpdatedTestAutomationType:"",UpdatedTestCycle:"",UpdatedTestRefence:"",UpdatedTestObjective:"",UpdatedTestPrecondition:"",UpdatedTestData:"",IsErrorOnUpdatedTestSteps:!1,UpdatedTestSteps:"",UpdatedExpectedResults:"",TestHistory:[],TestComments:[],ActiveTab:"1",ClassNameForComment:"active",ClassNameForHistory:"",NewTestCaseComment:"",IsErrorOnTestComment:!1,TestCaseCustomField:[],SelectedRowFromCustomFieldTable:-1,IsDataValidInCustomFieldTable:!0,ListOfExpectedResultOptions:["At the end of step","At the each step"],ExpectedResultOption:"At the end of step",TestCaseStepsWithData:[],SelectedRowFromTestCaseWithStepTable:-1,IsDataValidInTestStepWithDataFieldTable:!0,UpdatedTestCaseCustomField:[],DialogExpectedResultOption:"At the end of step",UpdateTestCaseStepsWithData:[],IsStepExpectedOnEachStep:!0,SelectedRowFromTestCaseWithStepTableInDialog:-1,IsDataValidInTestStepWithDataFieldTableInDialog:!0,AttachmentData:[],AllAttachmentToPush:[],SelectedRowFromAttachmentTable:-1,UpdateAttachmentData:[],UpdatedRowFromAttachmentTable:-1,AllUpdateAttachmentToPush:[],CustomKeyListForListBoxOption:[],CustomKeyListBoxWithKeyAnaValue:{},TestCaseCustomFieldsWithoutValue:[],SelectedRowIDforCustomFieldTable:-1,CustomKeyNameToUpdate:"",ListOfCustomValueForKey:[],SelectedValueForCustomKey:"",SelectedRowIDforUpdateCustomFieldTable:-1}},9106:(t,e,a)=>{a.d(e,{C:()=>i});var i={ListOfTestCases:[],ListOfRemarksDataForTestCase:{},ListOfTestingType:["Functional","Non-Functional"],SelectedTestingType:"Functional",ListOfScreen:["Desktop","Mobile","Tablet"],SelectedScreen:"Desktop",Browser:"",IsErrorOnBrowser:!1,OS:"",ReleaseVersion:"",IsErrorOnTestCycle:!1,ListOfTestCycle:[],SelectedTestCycle:"",IsErrorOnNewTestPlan:!1,NewTestPlan:"",ListOfTestPlan:[],SelectedTestPlan:"",IsErrorOnTestPlan:!1,IsUserSelectedNewTestPlan:!1,ListOfPlaceHolder:[],SelectedPlaceHolder:"",ExecutionSummaryData:[],ExecutedComponentXaxis:[],ExecutedComponentYaxis:[[]],ListOfUsers:[],SelectedTestCase:[],UpdatedTestRowData:{},UpdatedRemarksData:{},DeletedTestID:{},ExecutedByXaxis:[],ExecutedByYaxis:[],ExecutedByColors:["#129AF5"],EnvironmentList:[],IsErrorOnEnvironment:!1,SelectedEnvironment:"",NewTestPlanCustomField:[],ExistingTestSuiteList:[],IsErrorOnExistingTestSuite:!1,SelectedExistingTestSuite:"",ListOfTestCycleForNewTestPlan:[],IsErrorOnTestCycleForNewTestPlan:!1,SelectedTestCycleForNewTestPlan:"",ExitingTestPlanCustomDetails:[],UpdateAttachmentData:[],AllTestPlanDetails:{},TestExecutionCommentsToSave:{},TestExecutionTestStepsStatus:{},TestExecutionTestCaseAttachmentDataToSave:{},TestExecutionFileUploadData:{},TestPlanCompletedProgress:0,CustomKeyListForListBoxOption:[],CustomKeyListBoxWithKeyAnaValue:{},CustomKeyNameToUpdate:"",ListOfCustomValueForKey:[],SelectedValueForCustomKey:"",SelectedRowIDforUpdateCustomFieldTable:-1,TotalLinkedDefect:0,DefectStatusXaxis:[],DefectStatusYAxis:[],DefectPriorityXAxis:[],DefectPriorityYAxis:[],TestExecutionTestCaseAttachmentDataToUpdate:{},TestExecutionAttachmentNameForDelete:{},IsEditTestPlanButtonDisabled:!0,TestPlanCustomDetailsForUpdate:[],SelectedTestCycleForCloning:"",IsErrorOnTestCycleForCloning:!1,TestCaseAttachmentTable:{}}},2610:(t,e,a)=>{a.d(e,{AB:()=>F,D7:()=>f,J:()=>x,K7:()=>p,KQ:()=>S,Km:()=>u,LE:()=>v,SB:()=>c,Us:()=>D,X6:()=>g,_U:()=>m,_z:()=>C,ak:()=>T,eu:()=>O,fP:()=>w,mL:()=>h,p7:()=>y});a(44);var i=a(4118),s=a(758),r=a(9106),l=a(5002),o=a(2638),d=a(2738),n=(a(8771),a(6417)),c=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"testId",text:"Test Id",headerStyle:{width:"80px"},filter:(0,i.DN)({})},{dataField:"testname",text:"Test Name",headerStyle:{width:"200px"},filter:(0,i.DN)({})},{dataField:"component",text:"Component",headerStyle:{width:"150px"},filter:(0,i.DN)({})},{dataField:"priority",text:"Priority",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"type",text:"Type",filter:(0,i.DN)({}),headerStyle:{width:"110px"}},{dataField:"automationtype",text:"Automation Type",filter:(0,i.DN)({}),headerStyle:{width:"150px"}},{dataField:"cycle",text:"Cycle",filter:(0,i.DN)({}),headerStyle:{width:"150px"}},{dataField:"reference",text:"Reference",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"createdby",text:"Created By",headerStyle:{width:"150px"},filter:(0,i.DN)({})}],h=[{dataField:"id",text:"#",headerStyle:{width:"30px"}},{dataField:"comment",text:"Comment",headerStyle:{width:"150px"}},{dataField:"by",text:"By",headerStyle:{width:"150px"}},{dataField:"timestamp",text:"TimeStamp",headerStyle:{width:"100px"}}],w=[{dataField:"id",text:"#",headerStyle:{width:"30px"}},{dataField:"history",text:"History",headerStyle:{width:"150px"}},{dataField:"by",text:"By",headerStyle:{width:"150px"}},{dataField:"timestamp",text:"TimeStamp",headerStyle:{width:"100px"}}],m=[{dataField:"id",text:"#",headerStyle:{width:"60px"}},{dataField:"defectid",text:"Id",headerStyle:{width:"90px"},filter:(0,i.DN)({})},{dataField:"title",text:"Title",headerStyle:{width:"250px"},filter:(0,i.DN)({})},{dataField:"component",text:"Component",headerStyle:{width:"150px"},filter:(0,i.DN)({})},{dataField:"priority",text:"Priority",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"severity",text:"Severity",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"status",text:"Status",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"assignto",text:"Assign to",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"cycle",text:"Cycle",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"testid",text:"Test Id",filter:(0,i.DN)({}),headerStyle:{width:"100px"}},{dataField:"createdby",text:"Created By",headerStyle:{width:"100px"},filter:(0,i.DN)({})}],u=[{dataField:"id",text:"#",headerStyle:{width:"60px"}},{dataField:"component",text:"Component",headerStyle:{width:"150px"},filter:(0,i.DN)({}),editable:!1},{dataField:"testid",text:"Test Id",headerStyle:{width:"80px"},filter:(0,i.DN)({}),editable:!1},{dataField:"testname",text:"Test Name",headerStyle:{width:"250px"},filter:(0,i.DN)({}),editable:!1},{dataField:"assignto",text:"Assigned To",headerStyle:{width:"180px"},filter:(0,i.DN)({}),editor:{type:s.Dy.SELECT,getOptions:t=>{setTimeout((()=>{t(r.C.ListOfUsers)}),0)}}},{dataField:"status",text:"Status",headerStyle:{width:"120px"},filter:(0,i.DN)({}),editor:{type:s.Dy.SELECT,options:[{label:"Pending",value:"Pending"},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"NA",value:"NA"},{label:"Blocked",value:"Blocked"}]},style:t=>"Fail"===t?{backgroundColor:"#F38295"}:"Pass"===t?{backgroundColor:"#17E798"}:"Pending"===t?{backgroundColor:"#ffcc00"}:"NA"===t?{backgroundColor:"#A9A9A9"}:"Blocked"===t?{backgroundColor:"#5DADE2"}:void 0},{dataField:"linkeddefect",text:"Linked Defect",headerStyle:{width:"120px"},filter:(0,i.DN)({}),formatter:(t,e)=>(0,n.jsx)("a",{href:t,onClick:t=>t.preventDefault(),children:t})}],f=[{dataField:"id",text:"#",headerStyle:{width:"30px"}},{dataField:"name",text:"Environment",headerStyle:{width:"80px"},validator:async(t,e,a,i)=>{if(""===await t.trim())return i({valid:!1,message:"Environment can not be blank"});if(/[^A-Za-z0-9-]/gi.test(await t))return i({valid:!1,message:"Environment should not have special character."});var s=await o.Z.jsonArrayGetallKeyValue(await l.M.EnvUrlList,"name");return await d.Z.isValuePresentInArray(s,await t)?i({valid:!1,message:"Environment can not be duplicate."}):i()}},{dataField:"url",text:"URL",headerStyle:{width:"120px"},validator:async(t,e,a,i)=>{if(""===await t.trim())return i({valid:!1,message:"URL can not be blank"});var s=await o.Z.jsonArrayGetallKeyValue(l.M.EnvUrlList,"url");return await d.Z.isValuePresentInArray(s,await t)?i({valid:!1,message:"URL can not be duplicate."}):i()}}],p=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"key",text:"Custom Key",headerStyle:{width:"300px"},validator:async(t,e,a,i)=>i(),editable:!1},{dataField:"value",text:"Value",headerStyle:{width:"400px"},validator:async(t,e,a,i)=>i()}],S=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"step",text:"Test Step",headerStyle:{width:"350px"},validator:async(t,e,a,i)=>""===await t.trim()?i({valid:!1,message:"Test step can not be blank."}):i()},{dataField:"expectedresult",text:"Expected Result",headerStyle:{width:"350px"},validator:async(t,e,a,i)=>i()},{dataField:"stepdata",text:"Step data",headerStyle:{width:"200px"},validator:async(t,e,a,i)=>i()}],y=[{dataField:"id",text:"#",headerStyle:{width:"70px"}},{dataField:"file",text:"FileName"}],v=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"key",text:"Custom Key",headerStyle:{width:"200px"},validator:async(t,e,a,i)=>{if(""===await t.trim())return i({valid:!1,message:"Custom key can not be blank."});if(/[^A-Za-z 0-9_-]/gi.test(await t))return i({valid:!1,message:"Data key only accept alphabets."});var s=await o.Z.jsonArrayGetallKeyValue(await l.M.DefectCustomFieldKeys,"key");return await d.Z.isValuePresentInArray(await s,await t)?i({valid:!1,message:"Custom key can not be duplicate."}):i()}},{dataField:"value",text:"List value (If)",validator:async(t,e,a,i)=>{try{return t=JSON.parse(await t),await Array.isArray(await t)?i():i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}catch(s){return i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}},headerStyle:{width:"200px"}}],D=[{dataField:"id",text:"#",headerStyle:{width:"100px"}},{dataField:"component",text:"Component",headerStyle:{width:"350px"},filter:(0,i.DN)({}),editable:!1},{dataField:"testid",text:"Test Id",headerStyle:{width:"200px"},filter:(0,i.DN)({}),editable:!1},{dataField:"testname",text:"Test Name",filter:(0,i.DN)({}),editable:!1,headerStyle:{width:"200px"}}],O=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"key",text:"Custom Key",headerStyle:{width:"200px"},validator:async(t,e,a,i)=>{if(""===await t.trim())return i({valid:!1,message:"Custom key can not be blank."});if(/[^A-Za-z 0-9_-]/gi.test(await t))return i({valid:!1,message:"Data key only accept alphabets."});var s=await o.Z.jsonArrayGetallKeyValue(await l.M.CustomFieldKeys,"key");return await d.Z.isValuePresentInArray(await s,await t)?i({valid:!1,message:"Custom key can not be duplicate."}):i()}},{dataField:"value",text:"List value (If)",validator:async(t,e,a,i)=>{try{return t=JSON.parse(await t),await Array.isArray(await t)?i():i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}catch(s){return i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}},headerStyle:{width:"200px"}}],T=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"key",text:"Custom Key",headerStyle:{width:"200px"},validator:async(t,e,a,i)=>{if(""===await t.trim())return i({valid:!1,message:"Custom key can not be blank."});if(/[^A-Za-z 0-9_-]/gi.test(await t))return i({valid:!1,message:"Data key only accept alphabets."});var s=await o.Z.jsonArrayGetallKeyValue(await l.M.TestPlanCustomFieldKeys,"key");return await d.Z.isValuePresentInArray(await s,await t)?i({valid:!1,message:"Custom key can not be duplicate."}):i()}},{dataField:"value",text:"List value (If)",validator:async(t,e,a,i)=>{try{return t=JSON.parse(await t),await Array.isArray(await t)?i():i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}catch(s){return i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}},headerStyle:{width:"200px"}}],g=[{dataField:"id",text:"#",headerStyle:{width:"50px"}},{dataField:"key",text:"Defect Field name",headerStyle:{width:"200px"},editable:!1},{dataField:"value",text:"List value (If)",validator:async(t,e,a,i)=>{try{return t=JSON.parse(await t),await Array.isArray(await t)?i():(l.M.IsDataValidInDefectConfigurableTable=!1,i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'}))}catch(s){return l.M.IsDataValidInDefectConfigurableTable=!1,i({valid:!1,message:'Accepted value is list e.g. ["A","B"]'})}},headerStyle:{width:"200px"}}],x=[{dataField:"id",text:"#",headerStyle:{width:"100px"}},{dataField:"step",text:"Test Step",headerStyle:{width:"350px"},validator:async(t,e,a,i)=>""===await t.trim()?i({valid:!1,message:"Test step can not be blank."}):i(),editable:!1},{dataField:"stepdata",text:"Step data",headerStyle:{width:"150px"},validator:async(t,e,a,i)=>i(),editable:!1},{dataField:"expectedresult",text:"Expected Result",headerStyle:{width:"350px"},validator:async(t,e,a,i)=>i(),editable:!1},{dataField:"status",text:"Status",headerStyle:{width:"120px"},editor:{type:s.Dy.SELECT,options:[{label:"Pending",value:"Pending"},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"NA",value:"NA"},{label:"Blocked",value:"Blocked"}]},style:t=>"Fail"===t?{backgroundColor:"#F38295"}:"Pass"===t?{backgroundColor:"#17E798"}:"Pending"===t?{backgroundColor:"#ffcc00"}:"NA"===t?{backgroundColor:"#A9A9A9"}:"Blocked"===t?{backgroundColor:"#5DADE2"}:void 0}],C=[{dataField:"id",text:"#",headerStyle:{width:"70px"}},{dataField:"comments",text:"Comments",editable:!0},{dataField:"by",text:"By",headerStyle:{width:"350px"},editable:!1}],F=[{dataField:"id",text:"#",headerStyle:{width:"70px"}},{dataField:"file",text:"FileName"},{dataField:"by",text:"By",editable:!1}]}}]);
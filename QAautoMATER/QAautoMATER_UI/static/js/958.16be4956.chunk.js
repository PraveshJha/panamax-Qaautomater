"use strict";(self.webpackChunkqaautomater=self.webpackChunkqaautomater||[]).push([[958],{958:(t,a,e)=>{e.r(a),e.d(a,{default:()=>k});var i=e(6075),s=e(7313),o=e(106),l=e(6782),r=e(5399),n=e(238),c=e(2527),d=e(4660),h=e(9327),D=e(3516),w=e(4394),m=e(431),b=e(8390),p=e(9696),g=e(3333);const R=new class{async orPageLoad(){try{await this.readORData(),w.D.AllConfigData=await g.Z.readConfigurationFile("Mobile"),await this.setLocator()}catch(t){}}async saveORData(){if(b.D.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{const o=await localStorage.getItem("UserSelectedAccount");var t=b.D.backendAPI;"remote"===await b.D.backendServiceAt&&(t=b.D.remoteBackendAPI);var a={};a.keyForAddandUpdate=await w.D.NewAndUpdatedElement,a.keyForDelete=await w.D.DeletedKey;var e={Authorization:await b.Q.userToken,userEmail:await b.Q.userEmail},i=await p.Z.post(t+"or/project/"+o+"/testingtype/Mobile",await e,await a),s=await i.data;return b.D.ErrorMessage=await s.errorMessage,await s.isFileSaved}catch(o){b.D.ErrorMessage=await o.message}}async readORData(){if(b.D.isDemo)w.D.AllORTableData=[{id:1,name:"inputUserName",locator:"Name",locatorproperty:"username",alternatexpath:""}];else{const c=await localStorage.getItem("UserSelectedAccount");var t=b.D.backendAPI;"remote"===await b.D.backendServiceAt&&(t=b.D.remoteBackendAPI);var a={Authorization:await b.Q.userToken,userEmail:await b.Q.userEmail},e=await p.Z.get(t+"or/project/"+c+"/testingtype/Mobile",await a),i=await e.data;if(void 0===i)w.D.AllORTableData=[];else{var s=[],o=await Object.keys(await i),l=1;for(let t=0;t<await o.length;t++){var r=await o[t],n={id:await l,name:r,issame:await i[await r].issame,locator:await i[await r].locator,locatorproperty:await i[await r].locatorproperty,ioslocator:await i[await r].ioslocator,ioslocatorproperty:await i[await r].ioslocatorproperty,alternatexpath:await i[await r].alternatexpath};s.push(await n),l=Number(l)+1}w.D.AllORTableData=await s}}}async setLocator(){var t=[];if(t.push({label:"Id",value:"id"}),t.push({label:"Name",value:"class"}),t.push({label:"Xpath",value:"text"}),t.push({label:"LinkText",value:"class"}),b.D.isDemo)w.D.AllLocatorList=await t;else{var a=await w.D.AllConfigData.Locator;if(void 0===await a)w.D.AllLocatorList=await t;else{var e=[];for(let t=0;t<await a.length;t++){var i=await a[t].trim();e.push({label:await i,value:await i})}w.D.AllLocatorList=await e}}}};var u=e(3701),O=(e(4100),e(44),e(758)),T=e(6939),f=e.n(T),v=(e(8137),e(207)),y=e(4104),S=e(4118),j=e(6620),A=e(8887),x=e(6417);class N extends s.Component{constructor(){super(...arguments),this.notificationSystem=s.createRef(),this.state={isPageLoading:!1,allORTableData:w.D.AllORTableData,selectedRowFromORTable:w.D.SelectedRowFromORTable,isDataValidInORTable:w.D.IsDataValidInORTable},this.componentDidMount=async()=>{window.scrollTo(0,0),this.setState({isPageLoading:!0}),await R.orPageLoad(),this.setState({isPageLoading:!1}),this.setState({allORTableData:w.D.AllORTableData}),this.setState({selectedRowFromORTable:w.D.SelectedRowFromORTable}),this.setState({isDataValidInORTable:w.D.IsDataValidInORTable}),this.setState({isDataValidInORTable:w.D.IsDataValidInORTable})},this.getNotification=async(t,a)=>{this.notificationSystem.current.addNotification({message:a,level:t,autoDismiss:10})},this.selectRadioButtonFromORTable=(t,a)=>{a&&(w.D.SelectedRowFromORTable=t.id,this.setState({selectedRowFromORTable:t.id}))},this.addNewData=async t=>{await t.preventDefault();var a=this.state.allORTableData;if(a.length>0){var e=a[a.length-1].name,i=a[a.length-1].locator,s=a[a.length-1].locatorproperty;if(""===e.toString().trim()||""===i.toString().trim()||""===s.toString().trim())return this.setState({isDataValidInORTable:!1}),await this.getNotification("error","Please add correct details in 'Object Repository' table section")}this.setState({isDataValidInORTable:!0});var o={id:a.length+1,name:"",locator:"",locatorproperty:"",ioslocator:"",ioslocatorproperty:"",alternatexpath:""};this.setState({allORTableData:[...this.state.allORTableData,o]}),w.D.AllORTableData.push(o)},this.deleteTestData=async t=>{await t.preventDefault();var a=this.state.allORTableData;if(0===a.length)return await this.getNotification("error","No information is found under 'Object Repository' table section");if(!(Number(this.state.selectedRowFromORTable)>0&&Number(this.state.selectedRowFromORTable)<=a.length))return this.setState({isDataValidInCommonTestDataTable:!1}),await this.getNotification("error","No Row is selected in 'Object Repository' table section");var e=await this.state.allORTableData[Number(this.state.selectedRowFromORTable)-1].name;""!==e.toString().trim()&&(await w.D.DeletedKey.includes(await e)||await w.D.DeletedKey.push(await e));var i=await m.Z.updateRowIdAfterDelete(a,this.state.selectedRowFromORTable);this.setState({allORTableData:[]},(()=>{this.setState({allORTableData:i})})),w.D.AllORTableData=i},this.saveCommonTestData=async t=>{await t.preventDefault();var a=this.state.allORTableData;if(this.state.isDataValidInORTable){if(a.length>0){var e=a[a.length-1].name,i=a[a.length-1].locator,s=a[a.length-1].locatorproperty,o=a[a.length-1].ioslocator,l=a[a.length-1].ioslocatorproperty;if(""===e.toString().trim()||""===i.toString().trim()||""===s.toString().trim()||""===o.toString().trim()||""===l.toString().trim())return await this.getNotification("error","Please add correct details in 'Object Repository' table section")}if(0===await Object.keys(await w.D.NewAndUpdatedElement).length&&0===await w.D.DeletedKey.length)return await this.getNotification("error","There is no any locator added or updated.");w.D.AllORTableData=a,this.setState({isPageLoading:!0});var r=await R.saveORData();return this.setState({isPageLoading:!1}),r?await this.getNotification("success","Object Repository information is successfully saved."):await this.getNotification("error","Unable to save Object Repository information because of "+b.D.ErrorMessage)}return this.setState({isPageLoading:!1}),await this.getNotification("error","Please add the correct information in 'Object Repository' table")}}render(){const t={mode:"radio",onSelect:this.selectRadioButtonFromORTable,selected:[this.state.selectedRowFromORTable]};return(0,x.jsxs)(i.Z,{className:"objectRepPage",title:"Object Repository",children:[this.state.isPageLoading&&(0,x.jsx)(v.Z,{sentences:y.b,height:"150%",color:"black"}),(0,x.jsxs)(o.Z,{in:!this.state.isPageLoading,children:[(0,x.jsx)(f(),{ref:this.notificationSystem}),(0,x.jsx)(l.Z,{children:(0,x.jsx)(r.Z,{lg:12,md:12,sm:12,xs:12,children:(0,x.jsxs)(n.Z,{children:[(0,x.jsx)(c.Z,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Mobile Element Attribute",(0,x.jsxs)(d.Z,{size:"sm",children:[(0,x.jsx)(h.Z,{color:"black",onClick:this.addNewData.bind(this),children:(0,x.jsx)("small",{children:"Add"})}),(0,x.jsx)(h.Z,{color:"info",onClick:this.saveCommonTestData.bind(this),children:(0,x.jsx)("small",{children:"Save"})}),(0,x.jsx)(h.Z,{color:"black",onClick:this.deleteTestData.bind(this),children:(0,x.jsx)("small",{children:"Delete"})})]})]})}),(0,x.jsx)(D.Z,{children:(0,x.jsx)(D.Z,{children:(0,x.jsx)(r.Z,{children:(0,x.jsx)(u.Z,{keyField:"id",data:this.state.allORTableData,columns:A.Df,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,selectRow:t,cellEdit:(0,O.ZP)({mode:"click",blurToSave:!0,afterSaveCell:(t,a,e,i)=>{"name"===i.dataField&&(e.name=e.name.toString().trim().toUpperCase());var s=Number(e.id)-1,o=this.state.allORTableData[s].name,l={};void 0!==o&&(l.locator=this.state.allORTableData[s].locator,l.locatorproperty=this.state.allORTableData[s].locatorproperty,l.ioslocator=this.state.allORTableData[s].ioslocator,l.ioslocatorproperty=this.state.allORTableData[s].ioslocatorproperty,l.alternatexpath=this.state.allORTableData[s].alternatexpath,void 0===w.D.NewAndUpdatedElement[o.toString().toUpperCase()]&&(w.D.NewAndUpdatedElement[o.toString().toUpperCase()]={}),w.D.NewAndUpdatedElement[o.toString().toUpperCase()]=l)}}),pagination:(0,j.ZP)(),filter:(0,S.ZP)()})})})})]})})})]})]})}}const k=N},8137:()=>{}}]);
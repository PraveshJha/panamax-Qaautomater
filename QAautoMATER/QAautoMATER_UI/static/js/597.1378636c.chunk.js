"use strict";(self.webpackChunkqaautomater=self.webpackChunkqaautomater||[]).push([[597],{29422:(a,t,e)=>{e.d(t,{H:()=>i});var i={ExistingTestSuite:[],FolderTestSuite:[],SelectedTestSuiteFromTree:"",ListOfComponent:[],SelectedComponent:[],IsComponentSelected:!0,NewTestSuiteName:"",IsErrorOnNewTestSuite:!1,SelectedTestCase:[],ListOfTestCases:[],TestSuiteNameForFetch:"",ConfirmationModalLinkTestCases:"Are you sure you want to link test case[s] to the test suite.",IsLinkButtonDisable:!0,IsUnLinkButtonDisable:!0,ConfirmationModalMessageForUnlinkTestCases:"Are you sure you want to unlink test case[s] to the test suite.",IsDeleteButtonDisable:!0,ConfirmationModalMessageForDeleteTestSuite:"Are you sure you want to delte the test suite ? your test suite linked with all test cases will be deleted.",SelectedTestScriptsInModal:[],TestSuiteAdditionalColumns:[]}},86213:(a,t,e)=>{e.a(a,(async(a,i)=>{try{e.d(t,{A:()=>d});var r=e(29422),s=e(16228),o=e(28572),w=e(54847),n=e(27319),l=e(20248),c=e(96615),u=a([s,w,c]);[s,w,c]=u.then?(await u)():u;class m{async loadTestSuitePage(){try{await this.setExistingTestSuiteTreeData(),await this.setManualTestComponent();var a=await w.A.getConfigData();await this.setTestSuiteExecutionColumn(await a)}catch(t){}}async getExistingTestSuite(){if(s.T.isDemo)return r.H.ExistingTestSuite=[],!0;try{var a=await localStorage.getItem("UserSelectedAccount"),t=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(t=s.T.remoteBackendAPI);var e={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},i=await o.A.get(await t+"testsuite/project/"+await a+"/getalltestsuite",await e),w=await i.data;r.H.ExistingTestSuite=await w}catch(n){r.H.ExistingTestSuite=[]}}async setExistingTestSuiteTreeData(){if(s.T.isDemo)return r.H.ExistingTestSuite=[],r.H.FolderTestSuite=[],!0;if(await this.getExistingTestSuite(),0===await r.H.ExistingTestSuite.length)r.H.FolderTestSuite=[];else{var a=await r.H.ExistingTestSuite,t=await this.createTreeBasedOnTestSuite(a);r.H.FolderTestSuite=await t}}async createTreeBasedOnTestSuite(a){var t=[];for(let r=0;r<await a.length;r++){var e,i=await a[r];e={key:await i,label:await i,nodes:[]},t.push(await e)}return await t}async saveNewTestSuite(a){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(e=s.T.remoteBackendAPI);try{var i={};i.testsuitename=await a;var r={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},w=await o.A.post(e+"testsuite/project/"+await t+"/savetestsuite",await r,await i),n=await w.data;return s.T.ErrorMessage=await n.errorMessage,await n.isSuccess}catch(l){return s.T.ErrorMessage=await l.message,!1}}async getTestCaseFromTestSuite(a){var t=[];if(s.T.isDemo)return t;try{var e=await localStorage.getItem("UserSelectedAccount"),i=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(i=s.T.remoteBackendAPI);var r={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},w=await o.A.get(await i+"testsuite/project/"+await e+"/testsuitename/"+await a,await r),n=await w.data;t=await n}catch(l){t=[]}return t}async getAllManualComponent(){var a=[];if(s.T.isDemo)a=[];else try{var t=await localStorage.getItem("UserSelectedAccount"),e=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(e=s.T.remoteBackendAPI);var i={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},r=await o.A.get(await e+"testsuite/project/"+await t+"/getcomponent",await i);a=await r.data}catch(w){a=[]}return await a}async setManualTestComponent(){var a=await this.getAllManualComponent(),t=[],e={};await a.length>0&&(e={value:"Select All",label:"Select All"},t.push(await e));for(let r=0;r<await a.length;r++){var i=await a[r];e={},e={value:await i,label:await i},t.push(await e)}r.H.ListOfComponent=await t}async getTestCasefromComponent(a){var t=[];if(s.T.isDemo)return t;try{var e=await localStorage.getItem("UserSelectedAccount"),i=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(i=s.T.remoteBackendAPI);var r={};r.components=await a;var w={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},n=await o.A.post(await i+"testsuite/project/"+await e+"/fetchtestcasesfromcomponent",await w,await r),l=await n.data;t=await l}catch(c){t=[]}return t}async saveTestCaseInTestSuite(a,t){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;var e=await localStorage.getItem("UserSelectedAccount"),i=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(i=s.T.remoteBackendAPI);try{var r={};r.suiteName=await a,r.testcases=await t;var w={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},n=await o.A.post(await i+"testsuite/project/"+await e+"/linktestcase",await w,await r),l=await n.data;return s.T.ErrorMessage=await l.errorMessage,await l.isFileSaved}catch(c){return s.T.ErrorMessage=await c.message,!1}}async removeTestSuite(a){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;var t=await localStorage.getItem("UserSelectedAccount"),e=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(e=s.T.remoteBackendAPI);try{var i={};i.suiteName=await a;var r={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},w=await o.A.post(await e+"testsuite/project/"+await t+"/deletetestsuite",await r,await i),n=await w.data;return s.T.ErrorMessage=await n.errorMessage,await n.isFileSaved}catch(l){return s.T.ErrorMessage=await l.message,!1}}async getTestDetailsBasedOnSelectedId(a,t){var e=[];for(let o=0;o<await t.length;o++){var i=await t[o],r=Number(await i)-1,s=await a[await r];e.push(await s)}return await e}async checkTestscriptisPresentIn(a,t,e){return await a.some((a=>a.component===t&&a.testid===e))}async createNewListOfTestScripts(a,t){var e=await a,i=await e.length;for(let n=0;n<await t.length;n++){var r={},s=await t[n].component,o=await t[n].testid,w=await this.checkTestscriptisPresentIn(await a,await s,await o);await w||(i=Number(await i)+1,(r=await t[n]).id=await i,e.push(await r))}return await e}async setTestSuiteExecutionColumn(a){try{var t=await a.TestCaseCustomKeys;if(void 0!==await t&&await t.length>0){r.H.TestSuiteAdditionalColumns=[];for(let a=0;a<await t.length;a++){var e=[],i=!1,s=t[a].key;await r.H.TestSuiteAdditionalColumns.includes(await s)||r.H.TestSuiteAdditionalColumns.push(await s);var o=await t[a].value;try{e=await JSON.parse(await o),await Array.isArray(await e)&&(i=!0)}catch(v){}const T=await c.Ow.some((a=>a.text===s));if(!await T){var w={dataField:await s,text:await s,headerStyle:{width:"140px"},editable:!1};if(await i){var u={},m=await e,d=[];for(let a=0;a<await m.length;a++){var p=await m[a];u[await p]=await p;var g={};g.label=await p,g.value=await p,await d.push(await g)}w.filter=await(0,n.E9)({options:u}),w.formatter=a=>u[a],w.editor={type:l.ZU.SELECT,getOptions:a=>{setTimeout((()=>{a(d)}),0)}}}else w.filter=await(0,n.CA)({});await c.Ow.push(await w)}}}}catch(v){}}}const d=new m;i()}catch(m){i(m)}}))},38597:(a,t,e)=>{e.a(a,(async(a,i)=>{try{e.d(t,{A:()=>T});var r=e(8526),s=e(16228),o=e(85079),w=e(70159),n=e(17572),l=e(31638),c=e(5199),u=e(28572),m=e(28640),d=e(35415),p=e(86213),g=a([s,w,l,c,d,p]);[s,w,l,c,d,p]=g.then?(await g)():g;class v{async loadTestScriptPage(){try{await this.initializeTestScriptPage(),await this.getallORDATA(),await this.getallCommonDATA(),await this.renderComponent(),await this.setLocator();var a=await w.A.GetAllMobileActions();r.u.UIActionList=await a,await this.getPageFunctionList();try{if(void 0!==await localStorage.getItem("testId")&&null!==await localStorage.getItem("testId")){var t=await JSON.parse(await localStorage.getItem(await localStorage.getItem("testId")));if(r.u.SelectedComponent=await t.component,r.u.IsValidComponentName=!0,r.u.IsValidTestId=!0,r.u.IsValidTestName=!0,r.u.TestId=await t.testId,r.u.TestName=await t.testName,r.u.ListOfTestSteps=await t.listOfTestSteps,r.u.DependentCustomFunction=await t.dependentCustomFunction,0===await t.testDataTableHeader.length){t.testDataTableHeader.push(await{dataField:"id",text:"#",headerStyle:{width:"20px"}})}r.u.TestDataTableHeader=await t.testDataTableHeader,r.u.ListOfTestScriptData=await t.listOfTestScriptData,r.u.ExternalTestSteps=await t.manualTestSteps}}catch(s){}try{await localStorage.removeItem("testId"),await localStorage.removeItem(await localStorage.removeItem("testId"))}catch(s){}r.u.ListOfTestTools=await this.GetTestToolFromConfigurationPage();var e=r.u.SelectedEnvironment,i=await c.A.getAllApplicationNameUnderEnvironment(await r.u.AllConfigData,await e);await i.length>0&&(r.u.AllApplicationNameUnderEnvironment=await i,r.u.SelectedApplication=await i[0])}catch(s){}}async initializeTestScriptPage(){var a={},t="",e="";if(!await s.T.isDemo){a=await c.A.readConfigurationFile("Mobile"),r.u.AllConfigData=await a;try{t=await a.DefaultSelectedEnvironment,e=await a.Environment,await e.length>0?(""!==await t&&void 0!==await t||(t=await e[0].name),r.u.SelectedEnvironment=await t):r.u.SelectedEnvironment=""}catch(l){t="",e=[]}""!==await t&&(r.u.CommonTestDataEnvironment=await t,r.u.SelectedEnv=await t,r.u.SelectedEnvironment=await t,r.u.DefualtEnvironment=await t);var i=[];for(let a=0;a<await e.length;a++){var o=await e[a].name;i.push(await o)}r.u.EnvironmentList=await i;var w=await a.DefaultExecutionPlatform;void 0===await w&&(w="Android"),r.u.SelectedScreenOption=await w;var n=await a.DefaultRunAtOption;void 0===await n&&(n="Server"),r.u.SelectedRunAtOption=await n,void 0===await m.X.RunAtOptionList||0===await m.X.RunAtOptionList.length?r.u.RunAtOptionList=["Server"]:r.u.RunAtOptionList=m.X.RunAtOptionList,await this.setDeviceInforMation(await w,await n,await a)}}async getallORDATA(){if(await s.T.isDemo);else try{var a=await localStorage.getItem("UserSelectedAccount"),t=await s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(t=await s.T.remoteBackendAPI);var e={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},i=await u.A.get(t+"or/project/"+await a+"/testingtype/Mobile",await e),o=await i.data;r.u.AllORData=await o;var w=await Object.keys(await o);r.u.AllORKey=[],r.u.ExistingElementList=[];for(let a=0;a<await w.length;a++){var n=await w[a];r.u.TestScriptORData[await n]=r.u.AllORData[await n],r.u.AllORKey.push(await n),r.u.ExistingElementList.push(await n)}}catch(l){s.T.ErrorMessage=await l.message}}async getallCommonDATA(){if(await s.T.isDemo);else try{var a=await localStorage.getItem("UserSelectedAccount"),t=await s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(t=await s.T.remoteBackendAPI);var e={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},i=await u.A.get(t+"testdata/project/"+a+"/testingtype/Mobile",await e),o=await i.data,w=await o.TestDataExistingEnvironment;void 0===await w&&(w=[]),r.u.AllEnvironmentInCommonTestData=await w;var n=await this.renderCommonTestDataColumn(await w);if(await n.length>2)for(let a=2;a<await n.length;a++)n[a].headerStyle={width:"160px"};r.u.CommonTestDataTableColumn=await n;var l=await o.CommonTestData;void 0===await l&&(l={});var c=await Object.keys(await l),m=[],d={};for(let a=0;a<await c.length;a++){var p=await c[a],g={id:a+1,key:await p},v=await Object.keys(await l[await p]);for(let a=0;a<await v.length;a++){var T=await v[a],A=await l[await p][await T];g[await T]=await A}m.push(await g),d[await p]=await l[await p]}r.u.AllCommonTestData=await m,r.u.CommonTestDataWithKeyValue=await d;var S=[];for(let a=0;a<await m.length;a++)S.push(a+1);r.u.CommonTestDataNonEditableRows=await S}catch(h){s.T.ErrorMessage=await h.message}}async renderCommonTestDataColumn(a){var t=await d.Jt;for(let i=0;i<await a.length;i++){let r=await a[i];const s=await t.some((a=>a.dataField===r));if(!await s){var e={dataField:await r,text:await r};t.push(await e)}}return await t}async getDynamicDataValue(a,t){return await o.A.getValueFromDynamicData(await a,await t)}async getTestScriptListFromComponent(a){var t=await w.A.getUITestScriptIDfromallComponent(await a,"Mobile");r.u.AllTestId=await t.allTestId,r.u.AllTestIdWithName=await t.testIdWithName}async renderComponent(){if(s.T.isDemo)r.u.AllComponentList=["LandingPage","SignIn","ProductList","ShoppingCart","BookingSummary"];else try{var a=await localStorage.getItem("UserSelectedAccount"),t=await s.T.backendAPI;"remote"===s.T.backendServiceAt&&(t=await s.T.remoteBackendAPI);var e={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},i=await u.A.get(t+"components/project/"+a+"/testingtype/Mobile",await e);r.u.AllComponentList=await i.data}catch(o){s.T.ErrorMessage=await o.message}}async getAllUITestAttribute(){if(s.T.isDemo)r.u.TestName="My Test case Name is "+await n.A.getFirstName();else try{var a=r.u.TestId,t=await l.A.getIndexForMatchingKeyValueinJsonArray(r.u.AllTestIdWithName,"testid",a);r.u.TestName=r.u.AllTestIdWithName[t].testname;var e=await w.A.getTestDetailsInJson(r.u.SelectedComponent,a,r.u.TestName,"Mobile");r.u.ListOfTestSteps=await e.allsteps,r.u.DependentCustomFunction=await e.dependentpage,r.u.TestDataTableHeader=await e.testdatacolumn,r.u.ListOfTestScriptData=await e.testdataset;var i=await e.lastUpdatedBy;if(void 0!==await i)r.u.LastActivityMessage=await i;else{i=await e.createdBy;void 0===await i?r.u.LastActivityMessage="Test scripts do not have the lastUpdated tag. This feature is available from release version UI (1.0.67) and API (1.0.84). After this release, any test script created or updated will display this information.":r.u.LastActivityMessage=await i}var o=await await e.mappedmanualtestcase;void 0===await o&&(o=[]),r.u.LinkedManualTestCases=await o}catch(c){}}async isDataFilledforDependendentPage(){try{var a=await r.u.DependentCustomFunction;if(0===a.length)return!0;for(let e=0;e<await a.length;e++){var t=await a[e].customfunction;if(""===await t||void 0===await t)return!1}return!0}catch(e){return!1}}async setupDebuggerWindow(){if(s.T.isDemo);else try{var a=await localStorage.getItem("UserSelectedAccount"),t=await r.u.SelectedScreenOption;r.u.DebuggerPlatform=await t;var e=await r.u.SelectedDevice,i={Step:"",Status:""};i.Step="Launch Mobile Application.";var o=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(o=s.T.remoteBackendAPI);var w={};w.platform=await t,w.device=await e,w.environment=await r.u.SelectedEnvironment,w.userEmail=await s.z.userEmail,w.projectName=await a,w.commonTestData=await r.u.CommonTestDataWithKeyValue,w.applicationName=await r.u.SelectedApplication;var n={};n.testid=await r.u.TestId,n.testname=await r.u.TestName,n.component=await r.u.SelectedComponent,w.testDetails=await n;var l=await r.u.SelectedRunAtOption;void 0===await l&&(l="Server"),w.runAt=await l;var c={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},m=await u.A.post(o+"mobiledebug/debuggerwindow",await c,await w),d=await m.data;i.Status=await d.status,r.u.DebugDetails=await i;var p="data:image/png;base64, "+await d.screenshot;r.u.StepScreenshot=await p;var g=await d.supportingEvidence;r.u.SupportingEvidence=await g}catch(v){s.T.ErrorMessage=await v.message}}async getPageFunctionList(){var a={},t={};if(s.T.isDemo)r.u.ListOfPageFunction=["Given I am on Home page","Given I am on Product List page","Given I am on Product Information page"],r.u.PageFunctionNameListWithLabelandValue=[{label:"Custom function 1",value:"Custom function 1"}];else try{var e=await localStorage.getItem("UserSelectedAccount"),i=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(i=s.T.remoteBackendAPI),a={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},t=await u.A.get(i+"customfunction/project/"+e+"/testingtype/Mobile/custom/Page",await a);var o=await t.data;r.u.ListOfPageFunction=await o;var w=[];for(let a=0;a<await o.length;a++){var n={label:"",value:""};n.label=await o[a],n.value=await o[a],w.push(await n)}r.u.PageFunctionNameListWithLabelandValue=await w}catch(l){s.T.ErrorMessage=await l.message}}async isDataFilledforTestStepTable(a){for(let i=0;i<await a.length;i++){var t=await a[i].stepdefinition.toString().trim(),e=await a[i].action.toString().trim();if(""===t||""===e)return!1}return!0}async getCustomFunctionArguments(a){if(s.T.isDemo)return["args.USERNAME"];try{var t=await localStorage.getItem("UserSelectedAccount"),e=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(e=s.T.remoteBackendAPI);var i={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},r=await u.A.get(e+"customfunction/project/"+t+"/testingtype/Mobile/custom/Page/name/"+await a,await i),o=await r.data;return await o.argumentlist}catch(w){s.T.ErrorMessage=await w.message}}async saveTestScriptData(){var a={},t={},e={},i=!0;if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{await localStorage.removeItem("testId"),await localStorage.removeItem(await r.u.TestId)}catch(v){}try{var o=await localStorage.getItem("UserSelectedAccount"),w=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(w=s.T.remoteBackendAPI);var n,l={},c=await this.getListOfNewElementFromTestSteps(r.u.ListOfTestSteps);n=await c.newelement,l.allsteps=r.u.ListOfTestSteps;var m=r.u.DependentCustomFunction;if(await m.length>0)for(let a=0;a<await m.length;a++){var d=await m[a].customfunction,p=await typeof await d;"object"===await p&&(m[a].customfunction=await d.label)}if(l.dependentpage=await m,l.testdatacolumn=r.u.TestDataTableHeader,l.testdataset=r.u.ListOfTestScriptData,l.mappedmanualtestcase=r.u.LinkedManualTestCases,await Object.keys(n).length>0){(a={}).keyForAddandUpdate=await n,t={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},e=await u.A.post(w+"or/project/"+o+"/testingtype/Mobile",await t,await a);var g=await e.data;if(!g.isFileSaved)return void(s.T.ErrorMessage=await g.errorMessage)}return await Object.keys(r.u.TestDataToAdd).length>0&&((a={}).keyForAddandUpdate=await r.u.TestDataToAdd,t={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},e=await u.A.post(w+"testdata/project/"+o+"/testingtype/Mobile",await t,await a),!(i=await e.data).isFileSaved)?void(s.T.ErrorMessage=await i.errorMessage):(await l.dependentpage.length>0&&""===await l.dependentpage[0].parameter&&((a={}).pagename=await l.dependentpage,a.elementtag=await r.u.AllConfigData.ELEMENTTAGDATA,t={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},e=await u.A.post(await w+"customfunction/project/"+o+"/testingtype/Mobile/createpagefunctionfromtestscript",await t,await a)),t={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},e=await u.A.post(w+"testscripts/component/"+r.u.SelectedComponent.trim()+"/testId/"+r.u.TestId.trim()+"@"+r.u.TestName.trim()+"/project/"+o+"/testingtype/Mobile",await t,await l),i=await e.data,s.T.ErrorMessage=await i.errorMessage,await i.isFileSaved)}catch(v){s.T.ErrorMessage=await v.message}}async getListOfNewElementFromTestSteps(a){var t={},e={};for(let s=0;s<await a.length;s++){var i=await a[s].element.toString().trim().toUpperCase();""!==i&&void 0!==await r.u.TestScriptORData[i]&&(e[await i]=await r.u.TestScriptORData[await i])}return t.newelement=await e,t}async DeleteTestScriptFromServer(a,t,e){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{var i=await localStorage.getItem("UserSelectedAccount"),r=await s.T.backendAPI;"remote"===s.T.backendServiceAt&&(r=await s.T.remoteBackendAPI);var o={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},w=await u.A.delete(r+"testscripts/component/"+a+"/testId/"+t+"@"+e+"/project/"+i+"/testingtype/Mobile",await o),n=await w.data;return s.T.ErrorMessage=await n.errorMessage,await n.isFileDeleted}catch(l){s.T.ErrorMessage=await l.message}}async renameTestName(){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{var a=await localStorage.getItem("UserSelectedAccount"),t=r.u.SelectedComponent,e=r.u.TestId,i=r.u.TestName.trim(),o=r.u.NewName.trim(),w=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(w=s.T.remoteBackendAPI);var n={oldName:e+"@"+i,newName:e+"@"+o},l={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},c=await u.A.post(w+"testscripts/component/"+t+"/project/"+a+"/testingtype/Mobile/rename",await l,await n),m=await c.data;return s.T.ErrorMessage=await m.errorMessage,await m.isFileSaved}catch(d){s.T.ErrorMessage=await d.message}}async closeDebuggerWindow(){if(s.T.isDemo);else try{var a=await localStorage.getItem("UserSelectedAccount"),t=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(t=s.T.remoteBackendAPI);var e={};e.userEmail=await s.z.userEmail,e.projectName=await a;var i=await r.u.AllConfigData.DefaultRunAtOption;void 0===await i&&(i="Server"),e.runAt=await i;var o={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},w=await u.A.post(t+"mobiledebug/debuggerwindow/quit",await o,await e),n=await w.data;return await n}catch(l){s.T.ErrorMessage=await l.message}}async debugSingleTestStep(a,t,e){if(s.T.isDemo);else try{var i=await localStorage.getItem("UserSelectedAccount"),o=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(o=s.T.remoteBackendAPI);var w={};w.isPageFunction=await e,w.userEmail=await s.z.userEmail,w.testStep=await a,w.projectName=await i,w.orData=await this.setUpAllOrData(),w.commonTestData=await r.u.CommonTestDataWithKeyValue,w.testSpecificData=await t;var n=await r.u.DebuggerPlatform;w.platform=await n,w.defaultTimeOut=await r.u.AllConfigData.defaultTimeOut;var l=[];try{var c=await await r.u.AllConfigData.PageLoaderXpath[await n];void 0!==await c&&(l=await c)}catch(b){}w.pageLoaderXpath=await l;try{var m=await r.u.AllConfigData.SelectedSelfHealingOption;void 0===await m&&(m="Yes")}catch(b){m="Yes"}w.SelectedSelfHealingOption=await m,w.commonTestDataEnvironment=await r.u.CommonTestDataEnvironment;var d={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},p=await u.A.post(o+"mobiledebug/debugstep",await d,await w),g=await p.data,v={Step:"",Status:"",TestData:{}};if(await e)v.Step=await a[0].customfunction;else{v.Step=await a.stepdefinition;var T=await await a.element;if(""!==await T&&void 0!==await T)try{var A=await g.primaryLocatorProperty,S=await g.primaryLocator;""!==await S&&void 0!==await S&&""!==await A&&void 0!==await A&&(r.u.AllORData[await T].locator=await S,r.u.AllORData[await T].locatorproperty=await A);var h=await g.secondaryXPath;""!==await h&&void 0!==await h&&(r.u.AllORData[await T].alternatexpath=await h)}catch(b){}}v.Status=await g.status;try{var f=await g.testData,y=await JSON.parse(await f);v.TestData=await y}catch(b){v.TestData={}}r.u.DebugDetails=await v;var D="data:image/png;base64, "+await g.screenshot;r.u.StepScreenshot=await D,r.u.SupportingEvidence=await g.supportingEvidence}catch(b){s.T.ErrorMessage=await b.message}}async setUpAllOrData(){var a=r.u.AllORData,t=await this.getListOfNewElementFromTestSteps(r.u.ListOfTestSteps),e=await t.newelement,i=await Object.keys(await e);if(await i.length>0)for(let r=0;r<await i.length;r++){var s=await i[r];a[await s]={},a[await s]=await e[await s]}return await a}async getactionandElementFromTestStep(a){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{var t=await s.T.backendAPI;"remote"===s.T.backendServiceAt&&(t=await s.T.remoteBackendAPI);var e={};e.step=await a;var i=await r.u.AllConfigData.ELEMENTTAGDATA;void 0===await i&&(i=m.X.AllConfigData.ELEMENTTAGDATA),e.elementtag=await i;var o={Authorization:await s.z.userToken,userEmail:await s.z.userEmail,account:s.T.SelectedProject},w=await u.A.post(t+"mobileaistep/step",await o,await e),n=await w.data;return await n}catch(l){s.T.ErrorMessage=await l.message}}async generateAutomatedStep(){if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{var a=[],t=1,e=await s.T.backendAPI;"remote"===s.T.backendServiceAt&&(e=await s.T.remoteBackendAPI);var i={Authorization:await s.z.userToken,userEmail:await s.z.userEmail,account:s.T.SelectedProject},o=await r.u.ExternalTestSteps,w=await o.split("\n"),n=!1;(await o.includes("Scenario Outline:")||await o.includes("Scenario:"))&&(n=!0);var l=0;await n&&(l=await this.getTestNameFromBDDFile(await w),l=await this.getGivenPageName(await w,Number(await l)+1),l=Number(await l)+1);var c="";for(let s=await l;s<await w.length;s++){for(var m=await w[s].toLowerCase().trim(),d=await w[s].replace(/[^0-9A-Z ,._ __'"@/]+/gi,"");await d.match(/^\d/);)d=await d.substring(1);if(d=await d.trim(),await d.toString().startsWith(".")&&(d=await d.substring(1)),""!==await d.trim()&&await!m.startsWith("example")&&await!m.includes("|")){var p=await u.A.post(e+"aistep/breakSteps",await i,{step:await d}),g=await p.data;for(let s=0;s<await g.length;s++){d=await g[s];var v={id:await t,stepdefinition:await d,action:"",element:"",value:"",isreporting:"Yes"},T=await u.A.post(e+"mobileaistep/step",await i,{step:await d,elementtag:await r.u.AllConfigData.ELEMENTTAGDATA}),A=await T.data,S=await A.actionName,h=await A.actionvalue;if(""!==S){var f=await A.orLogicalName.trim().toUpperCase(),y=await A.primaryLocator,D=(c=await A.primaryLocatorProperty,A.iosLocatorName),b=A.iOSLocatorProperty,E=await A.secondaryXPath,k=await A.secondaryXPathiOS,I=r.u.TestScriptORData[await f],C={locator:y,locatorproperty:c,ioslocator:D,ioslocatorproperty:b,alternatexpath:E,alternatexpathios:k};if(void 0===await I)r.u.AllORData[await f]={},r.u.AllORData[await f]=await C,r.u.TestScriptORData[await f]={},r.u.TestScriptORData[await f]=await C,r.u.AllORKey.includes(await f)||r.u.AllORKey.push(await f);else{var O;c=I.locatorproperty;var P=await this.getArgsNameFromLocator(c);if(await P.length>0){var L=await h;if(""===await L.toString().trim()){var z={};for(let a=0;a<await P.length;a++)z[O="ARGS."+(O=P[a])]="ProvideArgsValue";h=await JSON.stringify(z)}else try{var M=!1,N=JSON.parse(L);for(let a=0;a<P.length;a++)void 0===N[O="ARGS."+(O=P[a])]&&(M=!0,N[O]="ProvideArgsValue");M&&(h=await JSON.stringify(await N))}catch(R){}}}if(v.action=await S,v.element=await f,await n){var F=await this.getDataKeyNameFromBDDFile(await m);if(""!==await F&&""!==await h)try{var x=await JSON.parse(await h);x.valuetobesend="t."+await F,h=await JSON.stringify(await x)}catch(R){}}v.value=await h}await a.push(await v),t=Number(await t)+1}}}return await n&&await this.setTestDataHEaderAndColumn(await w),await a.length>0?(r.u.ListOfTestSteps=await a,!0):(s.T.ErrorMessage="No valid test step found.",!1)}catch(R){s.T.ErrorMessage=await R.message}}async getDataKeyNameFromBDDFile(a){try{var t=await a.match(await/<([^>]*)>/g);if(!await t)return"";for(var e=0;e<await t.length;e++){var i=await t[e];return(await i.slice(1,-1)).toString().toUpperCase()}}catch(r){}return""}async getTestNameFromBDDFile(a){var t=0;for(let i=0;i<await a.length;i++){var e=await a[i];if(await e.includes("Scenario Outline:")){r.u.TestName=await e.split("Scenario Outline:")[1].replace(/[^0-9A-Z ]+/gi,"").trim(),r.u.IsValidTestName=!0,t=await i;break}if(await e.includes("Scenario:")){r.u.TestName=await e.split("Scenario:")[1].replace(/[^0-9A-Z ]+/gi,"").trim(),r.u.IsValidTestName=!0,t=await i;break}}return await t}async getGivenPageName(a,t){var e=0;for(let w=await t;w<await a.length;w++){var i=await a[w].replace(/[^0-9A-Z ]+/gi,""),s=await a[w].replace(/[^0-9A-Z ]+/gi,"").toLowerCase();if(await s.startsWith("given ")){r.u.DependentCustomFunction=[];var o={id:1,customfunction:await i,parameter:""};r.u.DependentCustomFunction.push(await o),e=await w;break}}return await e}async uploadFileToServer(a){if(await s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{var t=await localStorage.getItem("UserSelectedAccount"),e=await s.T.backendAPI;"remote"===s.T.backendServiceAt&&(e=await s.T.remoteBackendAPI);let w=new FormData;w.append("file",await a);var i={Authorization:await s.z.userToken,userEmail:await s.z.userEmail,"Content-Type":"multipart/form-data"},r=await u.A.post(e+"fileupload/project/"+await t,await i,await w),o=await r.data;return await o}catch(w){s.T.ErrorMessage=await w.message}}async GetTestToolFromConfigurationPage(){var a=["QaBunch"];if(void 0===await r.u.AllConfigData)return await a;if(void 0===await r.u.AllConfigData.Tools)return await a;var t=await r.u.AllConfigData.Tools;for(let e=0;e<await t.length;e++)a.push(await t[e].tool);return await a}async getTestInformationFromTestTool(a,t){var e={},i={},r={};if(s.T.isDemo)return await new Promise((a=>setTimeout(a,3e3))),!0;try{var o=await localStorage.getItem("UserSelectedAccount"),w=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(w=s.T.remoteBackendAPI);var n={};return n.testtool=await a.trim(),n.testid=await t.trim(),e={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},i=await u.A.post(w+"testtooltestinfo/project/"+o+"/gettestinfo",await e,await n),r=await i.data,s.T.ErrorMessage=await r.errorMessage,await r}catch(l){s.T.ErrorMessage=await l.message}}async setLocator(){if(s.T.isDemo)r.u.AllLocatorList=["id","name","xpath","text","class"];else{var a=await r.u.AllConfigData.Locator;void 0===await a?r.u.AllLocatorList=["id","name","xpath","text","class"]:r.u.AllLocatorList=await a}}async setDeviceInforMation(a,t,e){if(s.T.isDemo)switch(a){case"Android":r.u.DeviceList=["One plus 9R","Pixel 3"],r.u.SelectedDevice="Pixel 3";break;case"iOS":r.u.DeviceList=["iPhone 12","iPhone 14"],r.u.SelectedDevice="iPhone 14";break;default:r.u.DeviceList=[],r.u.SelectedDevice=""}else{var i=[];if("Server"===await t||"Client"===await t){var o=await e.Emulator;if(void 0!==await o)for(let t=0;t<await o.length;t++)await o[t].platform===await a&&i.push(await o[t].name);await i.length>0?(r.u.DeviceList=await i,r.u.SelectedDevice=await i[0]):(r.u.DeviceList=[],r.u.SelectedDevice="")}else await this.setDeviceDetailsForCloud(await e,await t,await a)}}async setDeviceDetailsForCloud(a,t,e){try{var i;if(i=await a.ExecutionCapabilities[await t],void 0===await i)r.u.DeviceList=[],r.u.SelectedDevice="";else{var s=await i.hostname;if(void 0===await s||"providehostname"===await s)return r.u.DeviceList=[],void(r.u.SelectedDevice="");var o=await i.user;if(void 0===await o||"provideusername"===await o)return r.u.DeviceList=[],void(r.u.SelectedDevice="");var w=await i.key;if(void 0===await w||"providePassword"===await w)return r.u.DeviceList=[],void(r.u.SelectedDevice="")}var n=await i[await e];if(void 0===await n)return r.u.DeviceList=[],void(r.u.SelectedDevice="");var l=await Object.keys(await n);if(0===await l.length)return r.u.DeviceList=[],void(r.u.SelectedDevice="");i=[];for(let a=0;a<await l.length;a++){var c=await l[a];i.push(await c)}r.u.DeviceList=await i,r.u.SelectedDevice=await i[0]}catch(u){return r.u.DeviceList=[],void(r.u.SelectedDevice="")}}async isEnvironmentPresentInCommonTestData(a,t){for(let i=0;i<await a.length;i++){var e=await a[i].dataField;if(await t===await e)return!0}return!1}async getArgsNameFromLocator(a){try{var t=[];if(await a.toString().toLowerCase().includes("+args.")){for(var e=/ARGS\.(\w+)/g;null!==(i=e.exec(await a));)t.push(i[1]);for(e=/Args\.(\w+)/g;null!==(i=e.exec(await a));)t.push(i[1]);var i;for(e=/args\.(\w+)/g;null!==(i=e.exec(await a));)t.push(i[1])}else{if(!await a.toString().toLowerCase().includes("args."))return t;var r=await a.split("ARGS.")[1];if(void 0===await r){r=await a.split("Args.")[1];if(void 0===await r)r=await a.split("args.")[1]}t.push(await r)}}catch(s){}return await t}async generateTestStepsFromMobileRecorder(a,t,e){var i={isSuccess:!0,errorMessage:"",allSteps:[]},s=[];try{var o=1;void 0!==await e&&""!==await e&&-1!==await e||(o=await a.length,e=await await a.length);const i=await t.split("\n");var w=await i.length;for(let a=0;a<await w;a++){var l=await i[a];if(await this.isElementDefintionStepInRecordedCode(await l)){var c=await this.getLocatorandLocatorProertyFromRecordedStep(await l);if(""!==await c.locator&&""!==await c.locatorproperty){var u=c.locator.replace(/[^a-zA-Z]/g,"");switch(u=await u.toLowerCase(),await u){case"resourceid":u="resource-id";break;case"accessibilityid":u="accessibility id";break;case"classname":u="class";break;case"contentdesc":u="content-desc"}var m=await c.locatorproperty,d=await c.locatorproperty,p="";if("xpath"===await u){if(await m.includes("@text="))p=await await m.split("@text=")[1];else{let a=await m.match(/"([^"]+)"/);a&&a[1]&&(p=a[1])}if(await p.includes("/")&&(p=await p.split("/")[1]),p=await p.replace(/[^a-zA-Z]/g,""),""===await p&&(p="TBDXPATH"+await n.A.getString(4)),p=await p.toUpperCase(),m=await m.replace(/\\/g,""),d=await d.replace(/\\/g,""),await d.toLowerCase().toString().includes("//android")){var g=await d.indexOf("[");d=await d.startsWith("(")?"(//*"+d.substring(await g):"//*"+d.substring(await g)}else if(await m.toLowerCase().toString().includes("//xcuie")){g=await m.indexOf("[");m=await m.startsWith("(")?"(//*"+m.substring(await g):"//*"+m.substring(await g)}}else p=await m.includes("/")?await m.split("/")[1]:await m,p=await p.replace(/[^a-zA-Z]/g,""),p=await p.toUpperCase();if(""!==await p&&void 0!==await p&&null!==await p){var v=r.u.TestScriptORData[await p];if(await v){var T=await v.locatorproperty;if(await T!==await m){p=await p+(await n.A.getString(4)).toUpperCase();A={locator:await u,locatorproperty:await m,ioslocator:await u,ioslocatorproperty:await d,alternatexpath:"",alternatexpathios:""};r.u.AllORData[p]={},r.u.AllORData[p]=await A,r.u.TestScriptORData[p]={},r.u.TestScriptORData[p]=await A,r.u.AllORKey.includes(p)||r.u.AllORKey.push(p)}}else{var A={locator:await u,locatorproperty:await m,ioslocator:await u,ioslocatorproperty:await d,alternatexpath:"",alternatexpathios:""};r.u.AllORData[p]={},r.u.AllORData[p]=await A,r.u.TestScriptORData[p]={},r.u.TestScriptORData[p]=await A,r.u.AllORKey.includes(p)||r.u.AllORKey.push(p)}var S="",h=await i[a+1],f=await i[a+1];if(""!==await f){let a=await f.match(/\.(.*?)\(/);if(await a&&await a[1]&&(f=await a[1],""!==await f&&void 0!==await f)){var y=f.replace(/[^a-zA-Z]/g,"");switch(f=await f.toLowerCase(),await f){case"addvalue":case"sendkeys":case"sendkey":const a=/\(([^)]+)\)/;var D=await h.match(a);S=await D?await D[1].replace(/"/g,""):"",y="Type";break;case"click":y="Click";break;case"executescript":y="ExecuteScript";var b=/\(([^)]+)\)/;D=await h.match(await b);S=await D?D[1]:"";break;default:y=""}if(""!==await y){o=await o+1;var E={id:await o,stepdefinition:"",action:"",element:"",value:"{}",isreporting:""},k=await y+" "+p;if(E.stepdefinition=await k,E.action=await y,E.element=await p,""!==await S){var I={valuetobesend:await S};I=JSON.stringify(await I),E.value=await I}s.push(await E)}}}}}a+=1}else{h=await l,S="";if(f=await l,""!==await f){let a=await f.match(/\.(.*?)\(/);if(await a&&await a[1]&&(f=await a[1],""!==await f)){y=f.replace(/[^a-zA-Z]/g,"");switch(f=await f.toLowerCase(),await f){case"addvalue":case"sendkeys":case"sendkey":const a=/\(([^)]+)\)/;D=await h.match(a);S=await D?D[1].replace(/"/g,""):"",y="Type";break;case"click":y="Click";break;case"executescript":y="ExecuteScript";b=/\(([^)]+)\)/,D=await h.match(await b);S=await D?D[1]:"";break;default:y=""}if(""!==await y){o=await o+1;E={id:await o,stepdefinition:"",action:"",element:"",value:"{}",isreporting:"Y"},k=await y+" "+p;if(E.stepdefinition=await k,E.action=await y,""!==await S){I={valuetobesend:await S};I=JSON.stringify(await I),E.value=await I}s.push(await E)}}}}}}catch(z){i.isSuccess=!1,i.errorMessage="Unable to generate test step because of "+await z.toString()}if(await i.isSuccess){var C=[];for(let t=0;t<await Number(await e);t++)C[t]=await a[t];for(let a=0;a<await s.length;a++){var O=await s[a];C.push(await O)}var P=await C.length;o=0;for(let t=Number(await e);t<await a.length;t++){o=await o+1;var L=await a[t];L.id=await o+await P,C.push(await L)}i.allSteps=await C}return i}async isElementDefintionStepInRecordedCode(a){var t=await a.toLowerCase();return!!(await t.includes("driver.$")||await t.includes("findelement")||await t.includes("find_element"))}async getLocatorandLocatorProertyFromRecordedStep(a){var t={locator:"",locatorproperty:""};try{var e=await a.indexOf("("),i=await a.lastIndexOf(")");if(-1!==await e&&-1!==await i){const w=await a.substring(await e+1,await i);var r=await w.indexOf(":");if(-1!==await r){var s=await w.substring(0,await r);await s.toString().startsWith('"')&&(s=await s.substring(1));var o=await w.substring(await r+1);await o.toString().endsWith('"')&&(o=await o.substring(0,await o.length-1)),t.locator=await s,t.locatorproperty=await o}}}catch(w){}return await t}async setTestDataHEaderAndColumn(a){var t=0;for(let r=await 0;r<await a.length;r++){var e=await a[r].toLowerCase().trim();if(await e.startsWith("example")){t=await r;break}}try{var i=[],s=await a[Number(await t)+1].split("|");for(let a=0;a<await s.length;a++){var o=await s[a].trim();""!==await o&&await i.push(await o.toUpperCase())}r.u.TestDataTableHeader=[];r.u.TestDataTableHeader.push(await{dataField:"id",text:"#",headerStyle:{width:"20px"}});for(let a=0;a<await i.length;a++){var w={dataField:await i[await a],text:await i[await a],headerStyle:{width:"150px"}};r.u.TestDataTableHeader.push(await w)}var n=[],l=0;for(let e=await Number(await t)+2;e<await a.length;e++){var c=await a[e].trim().split("|"),u=[];for(let a=0;a<await c.length;a++)if(""!==await c[a]){var m=await await c[a].trim();u.push(await m)}if(await u.length>0){l=await Number(l)+1;var d={id:await l};for(let a=0;a<await i.length;a++){var p=await i[await a],g=await u[await a];d[await p]=await g}n.push(await d)}}r.u.ListOfTestScriptData=await n}catch(v){}return await t}async setManualTestComponent(){var a=await p.A.getAllManualComponent(),t=[],e={};await a.length>0&&(e={value:"Select All",label:"Select All"},t.push(await e));for(let r=0;r<await a.length;r++){var i=await a[r];e={},e={value:await i,label:await i},t.push(await e)}return await t}async getTestCasefromComponent(a){var t=[];if(s.T.isDemo)return t;try{var e=await localStorage.getItem("UserSelectedAccount"),i=s.T.backendAPI;"remote"===await s.T.backendServiceAt&&(i=s.T.remoteBackendAPI);var r={};r.components=await a;var o={Authorization:await s.z.userToken,userEmail:await s.z.userEmail},w=await u.A.post(await i+"testsuite/project/"+await e+"/fetchtestcasesfromcomponent",await o,await r),n=await w.data;t=await n}catch(l){t=[]}return t}}const T=new v;i()}catch(v){i(v)}}))}}]);
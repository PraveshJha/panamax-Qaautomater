"use strict";(self.webpackChunkqaautomater=self.webpackChunkqaautomater||[]).push([[309],{64270:(t,e,a)=>{a.a(t,(async(t,s)=>{try{a.r(e),a.d(e,{default:()=>tt});var i=a(89379),l=a(76095),r=a(9950),o=a(97176),n=a(46114),c=a(84084),d=a(87537),w=a(29343),h=a(83452),u=a(88156),m=a(11194),T=a(88837),x=a(24211),g=a(98442),f=a(65488),p=a(39708),S=a(79969),A=a(91646),y=a(8081),v=a(61340),C=a(10877),b=a(6754),j=a(61982),P=a(47285),D=a(16228),E=a(9455),k=a.n(E),F=(a(58486),a(82592)),N=a(3284),O=a(96615),I=a(6502),L=(a(42104),a(7692),a(20248)),B=a(27319),U=a(90576),M=(a(17687),a(80946)),R=a(51919),z=a(99257),V=a(10256),J=a(54847),K=a(70159),X=a(81052),Y=a.n(X),W=a(55271),H=(a(56681),a(56218),a(22875)),G=a(35254),q=a.n(G),_=a(44414),Q=t([P,D,O,J,K]);[P,D,O,J,K]=Q.then?(await Q)():Q;const Z={sizePerPage:10,hidePageListOnlyOnePage:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50},{text:"100",value:100},{text:"200",value:200},{text:"500",value:500}]};class $ extends r.Component{constructor(){super(...arguments),this.notificationSystem=r.createRef(),this.reportRef=r.createRef(),this.testScriptReportRef=r.createRef(),this.reportTabularRef=r.createRef(),this.state={isPageLoading:!1,isModalLoading:!1,isUserSelectedNewTestPlan:j.a.IsUserSelectedNewTestPlan,isErrorOnNewTestPlan:j.a.IsErrorOnNewTestPlan,newTestPlan:j.a.NewTestPlan,listOfTestPlan:j.a.ListOfTestPlan,selectedTestPlan:j.a.SelectedTestPlan,isErrorOnTestPlan:j.a.IsErrorOnTestPlan,listOfTestingType:j.a.ListOfTestingType,selectedTestingType:j.a.SelectedTestingType,listOfScreen:j.a.ListOfScreen,selectedScreen:j.a.SelectedScreen,browser:j.a.Browser,isErrorOnBrowser:j.a.IsErrorOnBrowser,oS:j.a.OS,releaseVersion:j.a.ReleaseVersion,isErrorOnTestCycle:j.a.IsErrorOnTestCycle,listOfTestCycle:j.a.ListOfTestCycle,selectedTestCycle:j.a.SelectedTestCycle,listOfTestCases:j.a.ListOfTestCases,listOfRemarksDataForTestCase:j.a.ListOfRemarksDataForTestCase,listOfPlaceHolder:j.a.ListOfPlaceHolder,selectedPlaceHolder:j.a.SelectedPlaceHolder,selectedTestCase:j.a.SelectedTestCase,executionSummaryData:j.a.ExecutionSummaryData,testPlanCompletedProgress:j.a.TestPlanCompletedProgress,totalLinkedDefect:j.a.TotalLinkedDefect,executedComponentXaxis:j.a.ExecutedComponentXaxis,executedComponentYaxis:j.a.ExecutedComponentYaxis,executedByXaxis:j.a.ExecutedByXaxis,executedByYaxis:j.a.ExecutedByYaxis,executedByColors:j.a.ExecutedByColors,defectStatusXaxis:j.a.DefectStatusXaxis,defectStatusYAxis:j.a.DefectStatusYAxis,defectPriorityXAxis:j.a.DefectPriorityXAxis,defectPriorityYAxis:j.a.DefectPriorityYAxis,environmentList:j.a.EnvironmentList,selectedEnvironment:j.a.SelectedEnvironment,isErrorOnEnvironment:j.a.IsErrorOnEnvironment,existingTestSuiteList:j.a.ExistingTestSuiteList,selectedExistingTestSuite:j.a.SelectedExistingTestSuite,isErrorOnExistingTestSuite:j.a.IsErrorOnExistingTestSuite,listOfTestCycleForNewTestPlan:j.a.ListOfTestCycleForNewTestPlan,selectedTestCycleForNewTestPlan:j.a.SelectedTestCycleForNewTestPlan,isErrorOnTestCycleForNewTestPlan:j.a.IsErrorOnTestCycleForNewTestPlan,newTestPlanCustomField:j.a.NewTestPlanCustomField,exitingTestPlanCustomDetails:j.a.ExitingTestPlanCustomDetails,testExecutionCommentsDataForTable:[],testExecutionAttachmentDataForTable:[],testCaseAttachmentTable:j.a.TestCaseAttachmentTable,updateAttachmentData:j.a.UpdateAttachmentData,modalForCustomFields:!1,customKeyNameToUpdate:j.a.CustomKeyNameToUpdate,listOfCustomValueForKey:j.a.ListOfCustomValueForKey,selectedValueForCustomKey:j.a.SelectedValueForCustomKey,selectedRowIDforUpdateCustomFieldTable:j.a.SelectedRowIDforUpdateCustomFieldTable,modalForDefects:!1,testIdToLinkDefect:"",testComponentToLinkDefect:"",listOfDefectsForComponent:[],selectedDefectId:[],selectedRowNumber:-1,listOfBulkActionValue:[],selectedBulkActionKey:"",isErrorOnBulkActionKey:!1,selectedBulkActionValue:"",isErrorOnBulkActionValue:!1,selectedRowFromAttachmentTable:{},isEditTestPlanButtonDisabled:j.a.IsEditTestPlanButtonDisabled,isEditTestPlanModal:!1,testPlanCustomDetailsForUpdate:j.a.TestPlanCustomDetailsForUpdate,modalForCustomFieldsToUpdate:!1,modalForDeleteTestPlan:!1,selectedTestCycleForCloning:j.a.SelectedTestCycleForCloning,isErrorOnTestCycleForCloning:j.a.IsErrorOnTestCycleForCloning,accordionIdForAttachment:"",accordionIdForComments:"",accordionIdForNewTestPlan:"",testCaseCustomFieldGraphData:j.a.TestCaseCustomFieldGraphData,isAddMoreTestCaseButtonVisible:j.a.IsAddMoreTestCaseButtonVisible,newTestCasesInTestSuite:j.a.NewTestCasesInTestSuite,modalForNewTestCaseFromSuite:!1,selectedTestScriptsInModal:j.a.SelectedTestScriptsInModal,deleteTestCaseModal:!1,confirmationModalMessageForDeleteTestCase:j.a.ConfirmationModalMessageForDeleteTestCase,isTabularResultsOpen:!1,tabularSummaryData:[],tabularModuleWiseData:[],tabularCustomFieldGraphData:[],isJiraasDefectTool:j.a.IsJiraasDefectTool,jiraURL:j.a.JiraURL,jiraUsername:j.a.JiraUsername,jiraToken:j.a.JiraToken,allSprintList:j.a.AllSprintList,isJiraWindowOpen:!1,listOfJiraProject:j.a.ListOfJiraProject,selectedJiraProject:j.a.SelectedJiraProject,listOfCustomIssueType:j.a.ListOfCustomIssueType,selectedIssueType:j.a.SelectedIssueType,jiraIssueRefrence:j.a.JiraIssueRefrence,jiraDefectRequestBody:j.a.JiraDefectRequestBody,rowidForDefect:-1,jiraDefecOverrideBody:j.a.JiraDefecOverrideBody},this.componentDidMount=async()=>{window.scrollTo(0,0),this.setState({isPageLoading:!0}),await P.A.loadTestPlanPage(),this.setState({isUserSelectedNewTestPlan:j.a.IsUserSelectedNewTestPlan}),this.setState({isErrorOnNewTestPlan:j.a.IsErrorOnNewTestPlan}),this.setState({newTestPlan:j.a.NewTestPlan}),this.setState({listOfTestPlan:j.a.ListOfTestPlan}),this.setState({selectedTestPlan:j.a.SelectedTestPlan}),this.setState({isErrorOnTestPlan:j.a.IsErrorOnTestPlan}),this.setState({listOfTestingType:j.a.ListOfTestingType}),this.setState({selectedTestingType:j.a.SelectedTestingType}),this.setState({listOfScreen:j.a.ListOfScreen}),this.setState({selectedScreen:j.a.SelectedScreen}),this.setState({browser:j.a.Browser}),this.setState({isErrorOnBrowser:j.a.IsErrorOnBrowser}),this.setState({oS:j.a.OS}),this.setState({releaseVersion:j.a.ReleaseVersion}),this.setState({isErrorOnTestCycle:j.a.IsErrorOnTestCycle}),this.setState({listOfTestCycle:j.a.ListOfTestCycle}),this.setState({selectedTestCycle:j.a.SelectedTestCycle}),this.setState({listOfTestCases:j.a.ListOfTestCases}),this.setState({listOfRemarksDataForTestCase:j.a.ListOfRemarksDataForTestCase}),this.setState({listOfPlaceHolder:j.a.ListOfPlaceHolder}),this.setState({selectedPlaceHolder:j.a.SelectedPlaceHolder}),this.setState({selectedTestCase:j.a.SelectedTestCase}),this.setState({executionSummaryData:j.a.ExecutionSummaryData}),this.setState({testPlanCompletedProgress:j.a.TestPlanCompletedProgress}),this.setState({totalLinkedDefect:j.a.TotalLinkedDefect}),this.setState({executedComponentXaxis:j.a.ExecutedComponentXaxis}),this.setState({executedComponentYaxis:j.a.ExecutedComponentYaxis}),this.setState({executedByXaxis:j.a.ExecutedByXaxis}),this.setState({executedByYaxis:j.a.ExecutedByYaxis}),this.setState({executedByColors:j.a.ExecutedByColors}),this.setState({defectStatusXaxis:j.a.DefectStatusXaxis}),this.setState({defectStatusYAxis:j.a.DefectStatusYAxis}),this.setState({defectPriorityXAxis:j.a.DefectPriorityXAxis}),this.setState({defectPriorityYAxis:j.a.DefectPriorityYAxis}),this.setState({environmentList:j.a.EnvironmentList}),this.setState({selectedEnvironment:j.a.SelectedEnvironment}),this.setState({isErrorOnEnvironment:j.a.IsErrorOnEnvironment}),this.setState({existingTestSuiteList:j.a.ExistingTestSuiteList}),this.setState({selectedExistingTestSuite:j.a.SelectedExistingTestSuite}),this.setState({isErrorOnExistingTestSuite:j.a.IsErrorOnExistingTestSuite}),this.setState({listOfTestCycleForNewTestPlan:j.a.ListOfTestCycleForNewTestPlan}),this.setState({selectedTestCycleForNewTestPlan:j.a.SelectedTestCycleForNewTestPlan}),this.setState({isErrorOnTestCycleForNewTestPlan:j.a.IsErrorOnTestCycleForNewTestPlan}),this.setState({newTestPlanCustomField:j.a.NewTestPlanCustomField}),this.setState({exitingTestPlanCustomDetails:j.a.ExitingTestPlanCustomDetails}),this.setState({updateAttachmentData:j.a.UpdateAttachmentData}),this.fileUpdateInputRef=r.createRef(),this.setState({customKeyNameToUpdate:j.a.CustomKeyNameToUpdate}),this.setState({listOfCustomValueForKey:j.a.ListOfCustomValueForKey}),this.setState({selectedValueForCustomKey:j.a.SelectedValueForCustomKey}),this.setState({selectedRowIDforUpdateCustomFieldTable:j.a.SelectedRowIDforUpdateCustomFieldTable}),this.setState({isEditTestPlanButtonDisabled:j.a.IsEditTestPlanButtonDisabled}),this.setState({testPlanCustomDetailsForUpdate:j.a.TestPlanCustomDetailsForUpdate}),this.setState({selectedTestCycleForCloning:j.a.SelectedTestCycleForCloning}),this.setState({isErrorOnTestCycleForCloning:j.a.IsErrorOnTestCycleForCloning}),this.setState({testCaseAttachmentTable:j.a.TestCaseAttachmentTable}),this.setState({testCaseCustomFieldGraphData:j.a.TestCaseCustomFieldGraphData}),this.setState({isAddMoreTestCaseButtonVisible:j.a.IsAddMoreTestCaseButtonVisible}),this.setState({newTestCasesInTestSuite:j.a.NewTestCasesInTestSuite}),this.setState({selectedTestScriptsInModal:j.a.SelectedTestScriptsInModal}),this.setState({confirmationModalMessageForDeleteTestCase:j.a.ConfirmationModalMessageForDeleteTestCase}),this.setState({isJiraasDefectTool:j.a.IsJiraasDefectTool}),this.setState({jiraURL:j.a.JiraURL}),this.setState({jiraUsername:j.a.JiraUsername}),this.setState({jiraToken:j.a.JiraToken}),this.setState({listOfJiraProject:j.a.ListOfJiraProject}),this.setState({selectedJiraProject:j.a.SelectedJiraProject}),this.setState({listOfCustomIssueType:j.a.ListOfCustomIssueType}),this.setState({selectedIssueType:j.a.SelectedIssueType}),this.setState({jiraIssueRefrence:j.a.JiraIssueRefrence}),this.setState({jiraDefectRequestBody:j.a.JiraDefectRequestBody}),this.setState({jiraDefecOverrideBody:j.a.JiraDefecOverrideBody}),this.setState({isPageLoading:!1})},this.getNotification=async(t,e)=>{this.notificationSystem.current.addNotification({message:e,level:t,autoDismiss:10})},this.selectTestingType=async t=>{var e=await t.target.value;await this.state.selectedTestingType!==await e&&(j.a.SelectedTestingType=await e,this.setState({selectedTestingType:await e}))},this.selectScreen=async t=>{var e=await t.target.value;await this.state.selectedScreen!==await e&&(j.a.SelectedScreen=await e,this.setState({selectedScreen:await e}))},this.selectBrowser=async t=>{this.setState({isErrorOnBrowser:!1});var e=await t.target.value;await this.state.browser!==await e&&(j.a.Browser=await e,this.setState({browser:await e}))},this.selectOS=async t=>{var e=await t.target.value;await this.state.oS!==await e&&(j.a.OS=await e,this.setState({oS:await e}))},this.selectReleaseVersion=async t=>{var e=await t.target.value;await this.state.releaseVersion!==await e&&(j.a.ReleaseVersion=await e,this.setState({releaseVersion:await e}))},this.selectTestCycle=async t=>{this.setState({isErrorOnTestCycle:!1});var e=await t.target.value;await this.state.selectedTestCycle!==await e&&(j.a.SelectedTestCase=[],this.setState({selectedTestCase:[]}),j.a.IsEditTestPlanButtonDisabled=!0,this.setState({isEditTestPlanButtonDisabled:!0}),this.setState({isPageLoading:!0}),j.a.SelectedTestCycle=await e,this.setState({selectedTestCycle:await e}),j.a.ExitingTestPlanCustomDetails=[],this.setState({exitingTestPlanCustomDetails:[]}),this.setState({listOfTestPlan:[]}),j.a.ListOfTestPlan=[],j.a.ListOfTestCases=[],this.setState({listOfTestCases:[]}),j.a.TestPlanCompletedProgress=0,this.setState({testPlanCompletedProgress:0}),j.a.TotalLinkedDefect=0,this.setState({totalLinkedDefect:0}),j.a.ExecutionSummaryData=[],this.setState({executionSummaryData:[]}),j.a.ExecutedComponentXaxis=[],this.setState({executedComponentXaxis:[]}),j.a.ExecutedComponentYaxis=[],this.setState({executedComponentYaxis:[]}),j.a.ExecutedByXaxis=[],this.setState({executedByXaxis:[]}),j.a.ExecutedByYaxis=[],this.setState({executedByYaxis:[]}),j.a.DefectStatusXaxis=[],this.setState({defectStatusXaxis:[]}),j.a.DefectStatusYAxis=[],this.setState({defectStatusYAxis:[]}),j.a.DefectPriorityXAxis=[],this.setState({defectPriorityXAxis:[]}),j.a.DefectPriorityYAxis=[],this.setState({defectPriorityYAxis:[]}),j.a.ListOfTestPlan=await P.A.getAllTestPlanFromTestCycle(await e),this.setState({listOfTestPlan:j.a.ListOfTestPlan}),j.a.SelectedTestPlan="",this.setState({selectedTestPlan:""}),this.setState({isPageLoading:!1}))},this.updateTestCaseRemarksData=async(t,e)=>{var a=await t;j.a.ListOfRemarksDataForTestCase[await e]!==await a&&(j.a.ListOfRemarksDataForTestCase[await e]=await a,j.a.UpdatedRemarksData[await e]=await a)},this.addNewTestPlan=async t=>{this.setState({isErrorOnNewTestPlan:!1});var e=await t.target.value;if(await this.state.newTestPlan!==await e){j.a.NewTestPlan=await e,this.setState({newTestPlan:await e});var a=await K.A.isValidStringforFile(await e);await a||(j.a.IsErrorOnNewTestPlan=!0,this.setState({isErrorOnNewTestPlan:!0}))}},this.selectTestPlan=async t=>{this.setState({isErrorOnTestPlan:!1});var e=await t.target.value;if(await this.state.selectedTestPlan!==await e){if(""===await e?(j.a.IsEditTestPlanButtonDisabled=!0,this.setState({isEditTestPlanButtonDisabled:!0}),j.a.IsAddMoreTestCaseButtonVisible=!1,this.setState({isAddMoreTestCaseButtonVisible:!1}),j.a.NewTestCasesInTestSuite=[],this.setState({newTestCasesInTestSuite:[]}),j.a.TestCaseCustomFieldGraphData=[],this.setState({testCaseCustomFieldGraphData:[]})):(j.a.isEditTestPlanButtonDisabled=!1,this.setState({isEditTestPlanButtonDisabled:!1})),j.a.SelectedTestCase=[],this.setState({selectedTestCase:[]}),j.a.SelectedTestPlan=await e,this.setState({selectedTestPlan:await e}),this.setState({isPageLoading:!0}),j.a.ExitingTestPlanCustomDetails=[],this.setState({exitingTestPlanCustomDetails:[]}),j.a.ListOfTestCases=[],this.setState({listOfTestCases:[]}),j.a.TestPlanCompletedProgress=0,this.setState({testPlanCompletedProgress:0}),j.a.TotalLinkedDefect=0,this.setState({totalLinkedDefect:0}),j.a.ExecutionSummaryData=[],this.setState({executionSummaryData:[]}),j.a.ExecutedComponentXaxis=[],this.setState({executedComponentXaxis:[]}),j.a.ExecutedComponentYaxis=[],this.setState({executedComponentYaxis:[]}),j.a.ExecutedByXaxis=[],this.setState({executedByXaxis:[]}),j.a.ExecutedByYaxis=[],this.setState({executedByYaxis:[]}),j.a.DefectStatusXaxis=[],this.setState({defectStatusXaxis:[]}),j.a.DefectStatusYAxis=[],this.setState({defectStatusYAxis:[]}),j.a.DefectPriorityXAxis=[],this.setState({defectPriorityXAxis:[]}),j.a.DefectPriorityYAxis=[],this.setState({defectPriorityYAxis:[]}),""!==await e&&void 0!==await e){var a=await P.A.getTestPlanDetail(j.a.SelectedTestCycle,await e);j.a.AllTestPlanDetails=await a;var s=await a.customFields;j.a.ExitingTestPlanCustomDetails=await s,this.setState({exitingTestPlanCustomDetails:await s}),j.a.TestPlanCustomDetailsForUpdate=await s,this.setState({testPlanCustomDetailsForUpdate:await s});var i=await a.testSuiteName,l=await a.AllTestCases;for(let t=0;t<await l.length;t++)l[t].map="",l[t].unmap="";if(void 0===await l){i=await a.testSuiteName;var r=await P.A.getTestCaseFromTestSuite(await i);if(void 0===await r||0===await r.length)l=[];else{for(let t=0;t<await r.length;t++)r[t].linkeddefect="",r[t].status="Pending",r[t].assignto="",r[t].executedBy="",r[t].map="";l=await r}}var o=await a.TestCaseExecutionDetails;if(void 0!==await o){var n=await Object.keys(await o);if(await n.length>0){var c={};for(let t=0;t<await n.length;t++){var d=await n[t];void 0===await c[await d]&&(c[await d]=[]),c[await d]=await o[await d].attachments}this.setState({testCaseAttachmentTable:await c})}}j.a.ListOfTestCases=await l,this.setState({listOfTestCases:await l}),await P.A.getListOfUser(),await P.A.generateGraphData(this.state.isJiraasDefectTool),this.setState({executionSummaryData:j.a.ExecutionSummaryData}),this.setState({testPlanCompletedProgress:j.a.TestPlanCompletedProgress}),this.setState({totalLinkedDefect:j.a.TotalLinkedDefect}),this.setState({executedComponentXaxis:j.a.ExecutedComponentXaxis}),this.setState({executedComponentYaxis:j.a.ExecutedComponentYaxis}),this.setState({executedByXaxis:j.a.ExecutedByXaxis}),this.setState({executedByYaxis:j.a.ExecutedByYaxis}),this.setState({defectStatusXaxis:j.a.DefectStatusXaxis}),this.setState({defectStatusYAxis:j.a.DefectStatusYAxis}),this.setState({defectPriorityXAxis:j.a.DefectPriorityXAxis}),this.setState({defectPriorityYAxis:j.a.DefectPriorityYAxis});var w=await a.testSuiteName;if(void 0!==await w&&""!==await w){var h=await l;r=await P.A.getTestCaseFromTestSuite(await w);const t=await new Set(await h.map((t=>"".concat(t.component,"|").concat(t.testid))));var u=await r.filter((e=>!t.has("".concat(e.component,"|").concat(e.testid))));if(await u.length>0){j.a.IsAddMoreTestCaseButtonVisible=!0,this.setState({isAddMoreTestCaseButtonVisible:!0});for(let t=0;t<await u.length;t++)u[t].linkeddefect="",u[t].status="Pending",u[t].assignto="",u[t].executedBy="",u[t].id=Number(t)+1;j.a.NewTestCasesInTestSuite=await u,this.setState({newTestCasesInTestSuite:await u})}else j.a.IsAddMoreTestCaseButtonVisible=!1,this.setState({isAddMoreTestCaseButtonVisible:!1}),j.a.NewTestCasesInTestSuite=[],this.setState({newTestCasesInTestSuite:[]})}var m=await a.CustomFieldGraphData;void 0!==await m?(j.a.TestCaseCustomFieldGraphData=await m,this.setState({testCaseCustomFieldGraphData:await m})):(j.a.TestCaseCustomFieldGraphData=[],this.setState({testCaseCustomFieldGraphData:[]}))}this.setState({isPageLoading:!1})}},this.selectPlaceHolder=async t=>{var e=await t.target.value;await this.state.selectedPlaceHolder!==await e&&(j.a.SelectedPlaceHolder=await e,this.setState({selectedPlaceHolder:await e}))},this.handleOnSelect=async(t,e)=>{if(await e)await j.a.SelectedTestCase.includes(await t.id)||j.a.SelectedTestCase.push(await t.id);else{const e=j.a.SelectedTestCase.filter((e=>e!==t.id));j.a.SelectedTestCase=await e}this.setState({selectedTestCase:await j.a.SelectedTestCase})},this.handleOnSelectAll=async(t,e)=>{const a=await e.map((t=>t.id));if(t){var s=j.a.SelectedTestCase;let t=await s.concat(await a.filter((t=>!s.includes(t))));j.a.SelectedTestCase=await t,this.setState((()=>({selectedTestCase:t})))}else{s=j.a.SelectedTestCase;let t=await s.filter((t=>!a.includes(t)));j.a.SelectedTestCase=await t,this.setState((()=>({selectedTestCase:t})))}},this.updateTestExecutionDetailsForTestPlan=async t=>{await t.preventDefault();var e=await this.state.selectedTestCycle,a=await this.state.selectedTestPlan,s="";if(""===await e&&(this.setState({isErrorOnTestCycle:!0}),s="Test Cycle."),""===await a&&(this.setState({isErrorOnTestPlan:!0}),s="Test Plan."),""!==await s)return await this.getNotification("error","Following selection are required "+await s);var i=await j.a.UpdatedTestRowData;if(0===await i.length)return await this.getNotification("error","There is no test case details found under TEST CASES FOR EXECUTION table.");var l=j.a.TestExecutionTestStepsStatus,r=j.a.TestExecutionCommentsToSave,o=j.a.TestExecutionTestCaseAttachmentDataToSave,n=j.a.TestExecutionFileUploadData,c=j.a.TestExecutionTestCaseAttachmentDataToUpdate;this.setState({isPageLoading:!0});var d=await P.A.updateTestPlan(await a,await e,await i,await l,await r,await o,await n,await c);this.setState({isPageLoading:!1}),await d?(j.a.TestPlanCompletedProgress=0,this.setState({testPlanCompletedProgress:0}),j.a.TotalLinkedDefect=0,this.setState({totalLinkedDefect:0}),j.a.ExecutionSummaryData=[],this.setState({executionSummaryData:[]}),j.a.ExecutedComponentXaxis=[],this.setState({executedComponentXaxis:[]}),j.a.ExecutedComponentYaxis=[],this.setState({executedComponentYaxis:[]}),j.a.ExecutedByXaxis=[],this.setState({executedByXaxis:[]}),j.a.ExecutedByYaxis=[],this.setState({executedByYaxis:[]}),j.a.DefectStatusXaxis=[],this.setState({defectStatusXaxis:[]}),j.a.DefectStatusYAxis=[],this.setState({defectStatusYAxis:[]}),j.a.DefectPriorityXAxis=[],this.setState({defectPriorityXAxis:[]}),j.a.DefectPriorityYAxis=[],this.setState({defectPriorityYAxis:[]}),await P.A.generateGraphData(this.state.isJiraasDefectTool),this.setState({executionSummaryData:j.a.ExecutionSummaryData}),this.setState({testPlanCompletedProgress:j.a.TestPlanCompletedProgress}),this.setState({totalLinkedDefect:j.a.TotalLinkedDefect}),this.setState({executedComponentXaxis:j.a.ExecutedComponentXaxis}),this.setState({executedComponentYaxis:j.a.ExecutedComponentYaxis}),this.setState({executedByXaxis:j.a.ExecutedByXaxis}),this.setState({executedByYaxis:j.a.ExecutedByYaxis}),this.setState({defectStatusXaxis:j.a.DefectStatusXaxis}),this.setState({defectStatusYAxis:j.a.DefectStatusYAxis}),this.setState({defectPriorityXAxis:j.a.DefectPriorityXAxis}),this.setState({defectPriorityYAxis:j.a.DefectPriorityYAxis}),this.setState({defectPriorityYAxis:j.a.DefectPriorityYAxis}),this.setState({testCaseCustomFieldGraphData:await j.a.TestCaseCustomFieldGraphData}),await this.getNotification("success","Test execution information "+a+" is successfully saved.")):await this.getNotification("error","Unable to save test execution information because of "+await D.T.ErrorMessage)},this.addEnvironment=async t=>{this.setState({isErrorOnEnvironment:!1});var e=await t.target.value;await this.state.selectedEnvironment!==await e&&(j.a.SelectedEnvironment=await e,this.setState({selectedEnvironment:await e}))},this.addExistingTestSuite=async t=>{this.setState({isErrorOnExistingTestSuite:!1});var e=await t.target.value;await this.state.selectedExistingTestSuite!==await e&&(j.a.SelectedExistingTestSuite=await e,this.setState({selectedExistingTestSuite:await e}))},this.createNewTestPlan=async t=>{await t.preventDefault();var e=await this.state.newTestPlan,a=await this.state.selectedTestCycleForNewTestPlan,s=await this.state.selectedEnvironment,i=await this.state.selectedExistingTestSuite,l="";if(""===await e.toString().trim()&&(this.setState({isErrorOnNewTestPlan:!0}),l="New Test Plan."),""===await a.toString().trim()&&(this.setState({isErrorOnTestCycleForNewTestPlan:!0}),l+="Test Cycle."),""===await s.toString().trim()&&(this.setState({isErrorOnEnvironment:!0}),l+="Environment."),""===await i.toString().trim()&&(this.setState({isErrorOnExistingTestSuite:!0}),l+="TestSuite."),""!==await l)return await this.getNotification("error","Following field is/are required for saving test plan details "+await l);if(this.state.isErrorOnNewTestPlan)return await this.getNotification("error","Please provide the correct name of test plan , accepable value are A-Za-z0-9 _-");this.setState({isPageLoading:!0});var r=await P.A.saveTestPlan(await e,await a,await s,await i);this.setState({isPageLoading:!1}),await r?(j.a.NewTestPlanCustomField=[],this.setState({newTestPlanCustomField:[]}),await this.getNotification("success","Test plan "+e+" is successfully created."),await new Promise((t=>setTimeout(t,2e3))),await window.location.reload()):await this.getNotification("error","Unable to create new test plan because of "+await D.T.ErrorMessage)},this.selectTestCycleForNewTestPlan=async t=>{this.setState({isErrorOnTestCycleForNewTestPlan:!1});var e=await t.target.value;await this.state.selectedTestCycleForNewTestPlan!==await e&&(j.a.SelectedTestCycleForNewTestPlan=await e,this.setState({selectedTestCycleForNewTestPlan:await e}))},this.addNewComments=async(t,e)=>{var a=await t;if(a.length>0&&""===a[a.length-1].comments.toString().trim())return await this.getNotification("error","Comments can not be blank.");var s={id:a.length+1,comments:"",by:D.z.userEmail};await a.push(await s),this.setState({testExecutionCommentsDataForTable:await a})},this.handleOpenUpdateFileDialog=async t=>{this.fileUpdateInputRef.current.click()},this.uploadUpdateAttachment=async(t,e,a)=>{var s=await this.state.testCaseAttachmentTable;void 0===await s[await e]&&(s[await e]=[]),await a.preventDefault();const i=await a.target.files[0];if(await i){var l=["webm","png","jpeg","jpg","docs","doc","docx","xlsx","xls","csv","ppt","pptx","txt","mp4","mov","pdf"];const a=await i.name,d=await i.name.split(".").pop().toLowerCase(),w=await i.size,h=await w/1024,u=await h/1024;if(!await l.includes(await d))return await this.getNotification("error","File extension should be "+await l.toString());if(await u>5)return await this.getNotification("error","File size should not be greater than 5 MB");this.fileUpdateInputRef.current.value="";var r=await t;if(await r.length>0)for(let t=0;t<await r.length;t++){var o=await r[t].file;if(await o.toLowerCase()===await a.toLowerCase())return await this.getNotification("error","Duplicate file name found.")}var n=await r.length+1,c={id:await n,file:await a,by:D.z.userEmail};t.push(c),s[await e]=await t,this.setState({testCaseAttachmentTable:await s}),void 0===j.a.TestExecutionTestCaseAttachmentDataToSave[await e]&&(j.a.TestExecutionTestCaseAttachmentDataToSave[await e]={}),void 0===j.a.TestExecutionTestCaseAttachmentDataToSave[await e][await n]&&(j.a.TestExecutionTestCaseAttachmentDataToSave[await e][await n]={}),j.a.TestExecutionTestCaseAttachmentDataToSave[await e][await n].id=await n,j.a.TestExecutionTestCaseAttachmentDataToSave[await e][await n].file=await a,j.a.TestExecutionTestCaseAttachmentDataToSave[await e][await n].by=await D.z.userEmail,void 0===await j.a.TestExecutionFileUploadData[await e]&&(j.a.TestExecutionFileUploadData[await e]=[]),j.a.TestExecutionFileUploadData[await e].push(await i)}},this.deleteRowFromAttachmentTable=async(t,e,a)=>{if(await a.preventDefault(),void 0===await t||0===await t.length)return await this.getNotification("error","Please select the attachment before delete.There is no attachment under 'Attachments' section.");var s=await this.state.selectedRowFromAttachmentTable[await e];if(void 0===await s||-1===s)return await this.getNotification("error","Please select the attachment before delete.There is no attachment under 'Attachments' section.");var i=await t[Number(await s)-1].by,l=await D.z.userEmail;if(!D.z.isSuperAdmin&&await i!==await l)return await this.getNotification("error","You can not delete file which is uploaded by other user.");if(!(Number(s)>0&&Number(s)<=t.length))return await this.getNotification("error","No file is selected in 'Attachment' section");void 0===j.a.TestExecutionAttachmentNameForDelete[await e]&&(j.a.TestExecutionAttachmentNameForDelete[await e]=[]);var r=await t[Number(await s)-1].file;await j.a.TestExecutionAttachmentNameForDelete[await e].includes(await r)||j.a.TestExecutionAttachmentNameForDelete[await e].push(await r);var o=await J.A.updateRowIdAfterDelete(await t,await s);void 0===j.a.TestExecutionTestCaseAttachmentDataToUpdate[await e]&&(j.a.TestExecutionTestCaseAttachmentDataToUpdate[await e]={}),j.a.TestExecutionTestCaseAttachmentDataToUpdate[await e]=await o;var n=this.state.testCaseAttachmentTable;n[await e]=await o,this.setState({testCaseAttachmentTable:[]},(()=>{this.setState({testCaseAttachmentTable:n})}))},this.toggleCustomField=async()=>{this.setState({modalForCustomFields:!1})},this.toggleCustomFieldToUpdate=async()=>{this.setState({modalForCustomFieldsToUpdate:!1})},this.toggleForDefectModal=async()=>{this.setState({modalForDefects:!1})},this.toggleForBulkActionModal=async()=>{this.setState({isBulkActionModal:!1})},this.toggleEditTestPlamModal=async()=>{this.setState({isEditTestPlanModal:!1})},this.toggleDeleteTestPlan=async()=>{this.setState({modalForDeleteTestPlan:!1})},this.selectCustomKeyValue=async t=>{this.setState({isModalLoading:!0});var e=await t.target.value;if(await e!==await this.state.selectedValueForCustomKey){j.a.SelectedValueForCustomKey=await e,this.setState({selectedValueForCustomKey:await e});var a=Number(this.state.selectedRowIDforUpdateCustomFieldTable)-1,s=this.state.newTestPlanCustomField;s[await a].value=await e,j.a.NewTestPlanCustomField=await s,this.setState({newTestPlanCustomField:[]},(()=>{this.setState({newTestPlanCustomField:s})}))}j.a.SelectedRowIDforUpdateCustomFieldTable=-1,this.setState({selectedRowIDforUpdateCustomFieldTable:-1}),j.a.ListOfCustomValueForKey=[],this.setState({listOfCustomValueForKey:[]}),j.a.SelectedValueForCustomKey="",this.setState({selectedValueForCustomKey:""}),this.setState({modalForCustomFields:!1}),this.setState({isModalLoading:!1})},this.selectDefectToLink=async t=>{this.setState({selectedDefectId:await t})},this.linkDefectToTestCaseExecutionTable=async t=>{await t.preventDefault();var e=await this.state.selectedDefectId;if(0===await e.length)return await this.getNotification("error","Please select defect id for linking.");this.setState({isModalLoading:!0});var a="";for(let o=0;o<await e.length;o++)a=a+","+await e[o].value;a=await a.substring(1);var s=this.state.selectedRowNumber,i=await this.state.listOfTestCases,l=await Number(await s)-1;i[await l].linkeddefect=await a,this.setState({listOfTestCases:[]},(()=>{this.setState({listOfTestCases:i})}));var r=await this.state.testIdToLinkDefect;void 0===j.a.UpdatedTestRowData[r]&&(j.a.UpdatedTestRowData[r]={}),j.a.UpdatedTestRowData[r].linkeddefect=await a,this.setState({modalForDefects:!1}),this.setState({isModalLoading:!1})},this.UnlinkDefectToTestCaseExecutionTable=async t=>{await t.preventDefault(),this.setState({isModalLoading:!0});var e=this.state.selectedRowNumber,a=await this.state.listOfTestCases,s=await Number(await e)-1;a[await s].linkeddefect="",this.setState({listOfTestCases:[]},(()=>{this.setState({listOfTestCases:a})}));var i=await this.state.testIdToLinkDefect;void 0===j.a.UpdatedTestRowData[i]&&(j.a.UpdatedTestRowData[i]={}),j.a.UpdatedTestRowData[i].linkeddefect="",this.setState({modalForDefects:!1}),this.setState({isModalLoading:!1})},this.bulkActionInitiate=async t=>{await t.preventDefault();var e=await this.state.selectedTestCase;if(0===await e.length)return await this.getNotification("error","No Test cases are selected for bulk action.");this.setState({isBulkActionModal:!0}),this.setState({selectedBulkActionKey:""}),this.setState({selectedBulkActionValue:""}),this.setState({listOfBulkActionValue:[]}),this.setState({isErrorOnBulkActionKey:!1}),this.setState({isErrorOnBulkActionValue:!1})},this.selectBulkActionKey=async t=>{this.setState({isErrorOnBulkActionKey:!1});var e=await t.target.value;if(await this.state.selectedBulkActionKey!==await e){if(this.setState({isErrorOnBulkActionValue:!1}),this.setState({selectedBulkActionValue:""}),this.setState({listOfBulkActionValue:[]}),this.setState({selectedBulkActionKey:await e}),""===await e)return;var a=[];switch(await e){case"Assigned to":var s=await j.a.ListOfUsers;for(let t=0;t<await s.length;t++)a.push(await s[t].value);break;case"Status":a=["Pass","Fail","Pending","NA","Blocked"];break;default:a=[]}this.setState({listOfBulkActionValue:await a})}},this.selectBulkActionValue=async t=>{this.setState({isErrorOnBulkActionValue:!1});var e=await t.target.value;await this.state.selectedBulkActionValue!==await e&&this.setState({selectedBulkActionValue:await e})},this.performBulkAction=async t=>{var e=await this.state.selectedBulkActionKey,a=await this.state.selectedBulkActionValue;if(""===await e)return this.setState({isErrorOnBulkActionKey:!0});if(""===await a)return this.setState({isErrorOnBulkActionValue:!0});var s=await this.state.selectedTestCase;if(0===await s.length)return await this.getNotification("error","Please select the test case for bulk execution.");this.setState({isModalLoading:!0});var i=await this.state.listOfTestCases;for(let o=0;o<await s.length;o++){var l=await Number(await s[o])-1,r=await i[await l].testid;void 0===j.a.UpdatedTestRowData[await r]&&(j.a.UpdatedTestRowData[await r]={}),"Assigned to"===await e&&(j.a.UpdatedTestRowData[await r].assignto=await a,i[await l].assignto=await a),"Status"===await e&&(j.a.UpdatedTestRowData[await r].status=await a,j.a.UpdatedTestRowData[await r].executedBy=D.z.userEmail,i[await l].status=await a,i[await l].executedBy=await D.z.userEmail)}this.setState({listOfTestCases:[]},(()=>{this.setState({listOfTestCases:i})})),this.setState({selectedTestCase:[]}),j.a.SelectedTestCase=[],this.setState({isBulkActionModal:!1}),this.setState({isModalLoading:!1})},this.downloadFileFromServer=async(t,e,a)=>{var s=await t;if(0===await s.length)return await this.getNotification("error","Please select the attachment before download.There is no attachment under 'Attachments' section.");var i=this.state.selectedRowFromAttachmentTable[await e];if(Number(await i)>0&&Number(await i)<=s.length){var l=await Number(await i)-1,r=await s[await l].file;r=await e+"_"+await r;var o=await j.a.SelectedTestCycle,n=await j.a.SelectedTestPlan,c=await P.A.downloadFromServer("TestPlan/"+await o+"/"+await n,await r);return await c?(await new Promise((t=>setTimeout(t,3e3))),await this.getNotification("success","File is successfully downloded from the server.")):await this.getNotification("error","Unable to download file from the server."+D.T.ErrorMessage)}return await this.getNotification("error","Please select the attachment before download.")},this.editTestPlanButton=async t=>{await t.preventDefault(),this.setState({isErrorOnTestCycleForCloning:!1}),this.setState({selectedTestCycleForCloning:""}),this.setState({isEditTestPlanModal:!0})},this.selectCustomKeyValueToUpdate=async t=>{var e=await t.target.value;if(this.setState({isModalLoading:!0}),await e!==await this.state.selectedValueForCustomKey){j.a.SelectedValueForCustomKey=await e,this.setState({selectedValueForCustomKey:await e});var a=Number(this.state.selectedRowIDforUpdateCustomFieldTable)-1,s=this.state.testPlanCustomDetailsForUpdate;s[await a].value=await e,j.a.NewTestPlanCustomField=await s,this.setState({testPlanCustomDetailsForUpdate:[]},(()=>{this.setState({testPlanCustomDetailsForUpdate:s})}))}j.a.SelectedRowIDforUpdateCustomFieldTable=-1,this.setState({selectedRowIDforUpdateCustomFieldTable:-1}),j.a.ListOfCustomValueForKey=[],this.setState({listOfCustomValueForKey:[]}),j.a.SelectedValueForCustomKey="",this.setState({selectedValueForCustomKey:""}),this.setState({modalForCustomFieldsToUpdate:!1}),this.setState({isModalLoading:!1})},this.updateTestPlanAttribute=async t=>{var e=this.state.testPlanCustomDetailsForUpdate,a=await j.a.SelectedTestCycle,s=await j.a.SelectedTestPlan;this.setState({isModalLoading:!0});var i=await P.A.updateTestPlanAttribue(await a,await s,await e);return this.setState({isModalLoading:!1}),await i?(this.setState({isEditTestPlanModal:!1}),await this.getNotification("success","Test Plan attributes are successfully saved.")):await this.getNotification("error","Unable to save test plan attribute becuase of "+D.T.ErrorMessage)},this.deleteTestPlan=async t=>{this.setState({modalForDeleteTestPlan:!1});var e=await j.a.SelectedTestCycle,a=await j.a.SelectedTestPlan;this.setState({isModalLoading:!0});var s=await P.A.deleteTestPlan(await e,await a);if(this.setState({isModalLoading:!1}),!await s)return await this.getNotification("error","Unable to delete test plan becuase of "+D.T.ErrorMessage);this.setState({isEditTestPlanModal:!1}),await this.getNotification("success","Test Plan is successfully deleted."),await new Promise((t=>setTimeout(t,2e3))),await window.location.reload()},this.OpenmodalForDeleteTestPlan=async t=>{this.setState({modalForDeleteTestPlan:!0})},this.selectTestCycleForCloning=async t=>{var e=await t.target.value;this.setState({isErrorOnTestCycleForCloning:!1}),await e!==await this.state.selectedTestCycleForCloning&&(j.a.SelectedTestCycleForCloning=await e,this.setState({selectedTestCycleForCloning:await e}))},this.cloneTestPlan=async()=>{var t=this.state.selectedTestCycleForCloning,e=await j.a.SelectedTestCycle,a=await j.a.SelectedTestPlan;if(""===await t)return this.setState({isErrorOnTestCycleForCloning:!0}),await this.getNotification("error","Please select the test cycle where you want to clone test plan.");if(await e===t)return this.setState({isErrorOnTestCycleForCloning:!0}),await this.getNotification("error","Please select different test cycle, Test plan is already exist in test cycle "+await e);this.setState({isModalLoading:!0});var s=await P.A.cloneTestPlan(await e,await a,await t);if(this.setState({isModalLoading:!1}),!await s)return await this.getNotification("error","Unable to clone test plan becuase of "+D.T.ErrorMessage);this.setState({isEditTestPlanModal:!1}),await this.getNotification("success","Test Plan is successfully cloned.")},this.toggleAttachmentAccordian=async()=>{""===await this.state.accordionIdForAttachment?this.setState({accordionIdForAttachment:"1"}):this.setState({accordionIdForAttachment:""})},this.toggleCommentsAccordian=async()=>{""===await this.state.accordionIdForComments?this.setState({accordionIdForComments:"1"}):this.setState({accordionIdForComments:""})},this.toggleNewTestPlanAccordian=async()=>{""===await this.state.accordionIdForNewTestPlan?this.setState({accordionIdForNewTestPlan:"1"}):this.setState({accordionIdForNewTestPlan:""})},this.exportTestResults=async t=>{var e=this.state.listOfTestCases;if(0===await e.length)return await this.getNotification("error","No Test case found under Test Case for Execution section");this.setState({isPageLoading:!0});try{var a=["S.no.","Test Id","Component","Test Case Name","Assigned To","Status","Linked Defect"],s=await j.a.TestPlanTestExecutionAdditionalColumn;if(await s.length>0)for(let e=0;e<await s.length;e++)a.push(await s[e]);var i=[];await i.push(await a);for(let a=0;a<await e.length;a++){var l=[];if(l.push(await await e[a].id),l.push(await await e[a].testid),l.push(await await e[a].component),l.push(await await e[a].testname),l.push(await await e[a].assignto),l.push(await await e[a].status),l.push(await await e[a].linkeddefect),await s.length>0)for(let t=0;t<await s.length;t++){var r=await await s[t];l.push(await await e[a][await r])}i.push(await l)}var o=await this.state.selectedTestPlan,n=await o;await n.toString().length>30&&(n=await n.toString().substring(0,28)+"..");const t=await i,c=W.Wp.aoa_to_sheet(t),d=W.Wp.book_new();W.Wp.book_append_sheet(d,c,await n),W._h(d,"Test Plan "+await o+" Results.xlsx"),await new Promise((t=>setTimeout(t,2e3))),this.setState({isPageLoading:!1}),await this.getNotification("success","Test Plan results are successfully exported.")}catch(c){return this.setState({isPageLoading:!1}),await this.getNotification("error","There is an error on exporting the test plan results "+await c)}},this.ExportReportsInImage=async()=>{try{var t=this.state.listOfTestCases;if(await t.length>0){const t=await this.reportRef.current,e=await Y()(await t),a=await e.toDataURL("image/png"),s=await document.createElement("a");s.href=await a,s.download="TestPlanSummaryReports.png",await document.body.appendChild(await s),await s.click(),await document.body.removeChild(s)}}catch(e){}},this.ExportTestScriptsReportsInImage=async()=>{try{var t=this.state.listOfTestCases;if(await t.length>0){const t=await this.testScriptReportRef.current,e=await Y()(await t),a=await e.toDataURL("image/png"),s=await document.createElement("a");s.href=await a,s.download="TestPlanTestCaseResults.png",await document.body.appendChild(await s),await s.click(),await document.body.removeChild(s)}}catch(e){}},this.toggleNewTestCasesForomSuiteModal=async()=>{this.setState({modalForNewTestCaseFromSuite:!1})},this.handleOnSelectForModal=async(t,e)=>{await e?(j.a.SelectedTestScriptsInModal.push(t.id),this.setState({selectedTestScriptsInModal:j.a.SelectedTestScriptsInModal})):(j.a.SelectedTestScriptsInModal=j.a.SelectedTestScriptsInModal.filter((e=>e!==t.id)),this.setState({selectedTestScriptsInModal:j.a.SelectedTestScriptsInModal}))},this.handleOnSelectAllForModal=async(t,e)=>{const a=await e.map((t=>t.id));if(t){var s=j.a.SelectedTestScriptsInModal;let t=await s.concat(await a.filter((t=>!s.includes(t))));j.a.SelectedTestScriptsInModal=await t,this.setState((()=>({selectedTestScriptsInModal:t})))}else{s=j.a.SelectedTestScriptsInModal;let t=await s.filter((t=>!a.includes(t)));j.a.SelectedTestScriptsInModal=await t,this.setState((()=>({selectedTestScriptsInModal:t})))}},this.opemNewTestCaseModal=async t=>{this.setState({modalForNewTestCaseFromSuite:!0})},this.linkTestCase=async t=>{await t.preventDefault();var e=await this.state.selectedTestScriptsInModal;if(0===await e.length)return await this.getNotification("error","Please select the test cases that you want to add.");var a=this.state.selectedTestPlan;if(void 0===await a||""===await a)return await this.getNotification("error","Test Plan name can not be blank.");var s=this.state.selectedTestCycle;if(void 0===await s||""===await s)return await this.getNotification("error","Test Cycle name can not be blank.");var i=[],l=this.state.newTestCasesInTestSuite,r={};r.testplan=await a,r.testcycle=await s;for(let c=0;c<await e.length;c++){var o=await Number(e[c])-1;i.push(await l[await o])}r.newtestcase=await i,this.setState({isModalLoading:!0});var n=await P.A.addnewtestcaseinTestSuite(await r);if(this.setState({isModalLoading:!1}),!await n.isSuccess)return await this.getNotification("error","Unable to add new test case becuase of "+n.errorMessage);this.setState({modalForNewTestCaseFromSuite:!1}),await this.getNotification("success","New test cases are successfully linked to the test plan."),await new Promise((t=>setTimeout(t,3e3))),await window.location.reload()},this.deleteTestCaes=async t=>{await t.preventDefault();var e=await this.state.selectedTestCase;if(0===await e.length)return await this.getNotification("error","Please select the test cases that need to be removed from the test plan.");this.setState({deleteTestCaseModal:!0})},this.toggleDeleteTestCaseConfirmationModal=async()=>{this.setState({deleteTestCaseModal:!1})},this.deleteTestCaseFromTestSuite=async()=>{var t=await this.state.selectedTestCycle,e=await this.state.selectedTestPlan,a="";if(""!==await t&&void 0!==await t||(this.setState({isErrorOnTestCycle:!0}),a="Test Cycle."),""!==await e&&void 0!==await e||(this.setState({isErrorOnTestPlan:!0}),a="Test Plan."),""!==await a)return await this.getNotification("error","Following selection are required "+await a);var s=await this.state.selectedTestCase,i=this.state.listOfTestCases;if(0===await s.length)return await this.getNotification("error","Please select the test cases that need to be removed from the test plan.");var l=[];for(let d=0;d<await s.length;d++){var r=Number(await s[d])-1,o=await i[await r];l.push(await o)}if(0===await l.length)return await this.getNotification("error","Please select the test cases that need to be removed from the test plan.");var n={};n.testcycle=await t,n.testplan=await e,n.deletedtestcases=await l,this.setState({isModalLoading:!0});var c=await P.A.removeTestCasesFromTestPlan(await n);if(this.setState({isModalLoading:!1}),!await c.isSuccess)return await this.getNotification("error","Unable to remove test cases becuase of "+c.errorMessage);this.setState({deleteTestCaseModal:!1}),await this.getNotification("success","Test Cases are successfully removed from the test plan."),await new Promise((t=>setTimeout(t,3e3))),await window.location.reload()},this.toggleTabularResults=async()=>{this.setState({isTabularResultsOpen:!1})},this.viewResultsInTableForm=async()=>{var t=this.state.selectedTestPlan;if(void 0===await t||""===await t)return await this.getNotification("error","Please choose Test plan");this.setState({isPageLoading:!0});var e=this.state.executionSummaryData,a=[],s=await P.A.createRowDataForTableData(1,"Summary",await e);a.push(await s),this.setState({tabularSummaryData:await a});var i=await this.state.executedComponentXaxis,l=await this.state.executedComponentYaxis,r=[];for(let f=0;f<await i.length;f++){var o=await i[f],n=await Number(f)+1,c={};c={id:await n,item:await o,pass:0,fail:0,pending:0,na:0,blocked:0,total:0};var d=await l[0][f];c.pass=await d;var w=await l[1][f];c.fail=await w;var h=await l[2][f];c.pending=await h;var u=await l[3][f];c.na=await u;var m=await l[4][f];c.blocked=await m,c.total=Number(await d)+Number(await w)+Number(await h)+Number(await u)+Number(await m),r.push(await c)}this.setState({tabularModuleWiseData:await r});var T=[],x=this.state.testCaseCustomFieldGraphData;for(let f=0;f<await x.length;f++){var g={};g.header=await x[f].header,g.tableData=[];i=await x[f].labels,l=await x[f].yAxis,r=[];for(let t=0;t<await i.length;t++){o=await i[t],n=await Number(t)+1,c={};c={id:await n,item:await o,pass:0,fail:0,pending:0,na:0,blocked:0,total:0};d=await l[0][t];c.pass=await d;w=await l[1][t];c.fail=await w;h=await l[2][t];c.pending=await h;u=await l[3][t];c.na=await u;m=await l[4][t];c.blocked=await m,c.total=Number(await d)+Number(await w)+Number(await h)+Number(await u)+Number(await m),r.push(await c)}g.tableData=await r,T.push(await g)}this.setState({tabularCustomFieldGraphData:await T}),this.setState({isPageLoading:!1}),this.setState({isTabularResultsOpen:!0})},this.ExportTabularReportsInImage=async()=>{try{var t=this.state.selectedTestPlan;const e=await this.reportTabularRef.current,a=await Y()(await e),s=await a.toDataURL("image/png"),i=await document.createElement("a");i.href=await s,i.download=await t+"_SummaryReports.png",await document.body.appendChild(await i),await i.click(),await document.body.removeChild(i)}catch(e){}},this.createNewDefect=async(t,e,a)=>{try{this.setState({rowidForDefect:await a}),await localStorage.removeItem("defectDetails")}catch(v){}try{var s=j.a.SelectedEnvironment;await localStorage.setItem("defectEnvironment",await s)}catch(v){}try{var i=await t.testExecutionStatusOnStepLavel,l=0;try{for(let t=0;t<await i.length;t++){i[t].screenshot="";try{var r=await i[t].status;if("Fail"===await r){l=t;break}}catch(v){}}}catch(v){}var o=await t.attachments;if(await o.length>0){try{var n="";this.setState({isPageLoading:!0});var c=j.a.TestExecutionFileUploadData[await e];if(await c.length>0){var d=await c.length-1,w=await c[await d];n=await P.A.getBase64ImageDataFromUploadedFile(await w)}}catch(v){var h=await o.length-1;await o[await h].file}i[await l].screenshot=await n,this.setState({isPageLoading:!1})}if(await this.state.isJiraasDefectTool){this.setState({isPageLoading:!0}),this.setState({jiraDefectRequestBody:{}}),j.a.JiraDefectRequestBody={},this.setState({jiraDefecOverrideBody:""}),j.a.JiraDefecOverrideBody="";var u=await P.A.createDefectDetailsForJira(await i),m=await P.A.gettestdetailsBasedonTestid(await e),T={};T.title=await u.title,T.stepstoreproduce=await u.stepstoreproduce;var x=await this.state.jiraURL.split("//")[1];T.host=await x,T.username=await this.state.jiraUsername,T.password=await this.state.jiraToken,T.sprint=await this.state.selectedTestCycle,void 0!==await m.references?this.setState({jiraIssueRefrence:await m.references}):this.setState({jiraIssueRefrence:""}),this.setState({jiraDefectRequestBody:await T});var g=await T.title;""===await g&&(g="");var f=await T.stepstoreproduce;""===await f&&(f="");var p="",S=await f.split("\n");for(let t=0;t<await S.length;t++){var A="<p>"+await S[t]+"</p>";p+=await A}var y="<p><strong>Title</strong>: "+await g+"</p><p>";y=await y+"<strong>Defect Details</strong>: </p>",y=await y+await p,this.setState({jiraDefecOverrideBody:await y}),j.a.JiraDefecOverrideBody=await y,this.setState({isPageLoading:!1}),this.setState({isJiraWindowOpen:!0})}else await localStorage.setItem("defectDetails",await JSON.stringify(await i)),await window.open("/mn/defects","_blank")}catch(v){}},this.toggleJiraModal=async()=>{this.setState({isJiraWindowOpen:!1})},this.selectJiraProject=async t=>{var e=await t.target.value;this.state.selectedJiraProject!==await e&&this.setState({selectedJiraProject:await e})},this.selectJiraCustomIssueType=async t=>{var e=await t.target.value;this.state.selectedIssueType!==await e&&this.setState({selectedIssueType:await e})},this.addIssueType=async t=>{var e=await t.target.value;this.state.jiraIssueRefrence!==await e&&this.setState({jiraIssueRefrence:await e})},this.postDefectsIntoJIra=async t=>{var e=this.state.jiraDefectRequestBody,a=await this.state.selectedJiraProject;if(void 0===await a||""===await a)return await this.getNotification("error","Jira Project can not be blank.");var s=await a;await s.includes("-")&&(s=await s.split("-")[0].toString().trim()),e.project=await s;var l=await this.state.selectedIssueType;if(void 0===await l||""===await l.toString().trim())return await this.getNotification("error","Jira Issue type can not be blank.");var r=this.state.jiraDefecOverrideBody;if(""===await r.toString().trim())return await this.getNotification("error","Steps to reproduce can not be blank.");if(!await r.toString().includes("Title")&&!await r.toString().includes("Defect Details:"))return await this.getNotification("error","Title and Defect Details key should be present in Steps to reproduce section.");const o=await r.match(/<strong>Title<\/strong>:\s*(.*?)<\/p>/),n=await r.match(/<strong>Defect Details<\/strong>:<\/p>([\s\S]*)/),c=await o?o[1].trim():"",d=n?n[1].replace(/<\/p>/g,"\n").replace(/<p>/g,"").trim():"";e.title=await c,e.stepstoreproduce=await d,e.customissuetype=await l;var w=this.state.jiraIssueRefrence;w=await w.toString().trim(),e.reference=await w,this.setState({isModalLoading:!0});var h=await P.A.postDefectInJira(await e);if(this.setState({isModalLoading:!1}),!await h.isSuccess)return await this.getNotification("error",h.errorMessage);var u=await h.defectid,m=[...this.state.listOfTestCases],T=Number(this.state.rowidForDefect)-1;m[T]=(0,i.A)((0,i.A)({},m[T]),{},{linkeddefect:u}),this.setState({listOfTestCases:await m}),j.a.ListOfTestCases=await m,this.setState({isJiraWindowOpen:!1}),await this.getNotification("success","Issue "+await u+" is successfully created.")},this.addDefectStepsToRepduce=async t=>{var e=await t;await this.state.jiraDefecOverrideBody!==await e&&this.setState({jiraDefecOverrideBody:await e})}}showTestResults(t){var e=t.id,a=t.testid,s="",i="",l=[],r=[];try{var p=j.a.AllTestPlanDetails.TestCaseExecutionDetails[a];s=p.testPrecondition,i=p.testcaseData,l=p.testExecutionStatusOnStepLavel,r=p.comments}catch(S){r=[]}return(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,style:{overflowX:"auto",maxWidth:"75%"},children:(0,_.jsxs)(c.A,{style:{borderColor:"default"},children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Test Case Details for ",t.testid,"Fail"===t.status&&D.T.isManualComponentDisplayed&&D.T.isDefectComponentDisplayed&&(0,_.jsx)(w.A,{size:"sm",children:(0,_.jsx)(h.A,{color:"black",name:"createnewDefect",onClick:a=>this.createNewDefect(p,t.testid,e),children:(0,_.jsx)("small",{children:"Create new defect"})})})]})}),(0,_.jsxs)(u.A,{children:[(0,_.jsx)(n.A,{children:(0,_.jsxs)("small",{children:[" Test case precondition : ",s," "]})}),(0,_.jsx)(n.A,{children:(0,_.jsxs)("small",{children:[" Test case data : ",i," "]})}),(0,_.jsx)("div",{style:{marginTop:"15px",marginRight:"100px",marginLeft:"100px"},children:(0,_.jsx)(n.A,{children:(0,_.jsx)(I.A,{keyField:"id",data:l,columns:O.VJ,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,cellEdit:(0,L.Ay)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,s,i)=>{void 0===j.a.TestExecutionTestStepsStatus[a]&&(j.a.TestExecutionTestStepsStatus[a]={}),j.a.TestExecutionTestStepsStatus[a][s.id]=s.status}})})})}),(0,_.jsx)(m.A,{open:this.state.accordionIdForAttachment,toggle:this.toggleAttachmentAccordian.bind(this),children:(0,_.jsxs)(T.A,{children:[(0,_.jsx)(x.A,{targetId:"1",children:"Attachments & Comments"}),(0,_.jsx)(g.A,{accordionId:"1",children:(0,_.jsxs)(o.A,{children:[(0,_.jsx)(n.A,{lg:6,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Attachments",(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",onClick:this.handleOpenUpdateFileDialog.bind(this),children:(0,_.jsx)("small",{children:"Add"})}),(0,_.jsx)(h.A,{color:"info",onClick:t=>this.downloadFileFromServer(this.state.testCaseAttachmentTable[a],a,t),children:(0,_.jsx)("small",{children:"Download"})}),(0,_.jsx)(h.A,{color:"black",onClick:t=>this.deleteRowFromAttachmentTable(this.state.testCaseAttachmentTable[a],a,t),children:(0,_.jsx)("small",{children:"Delete"})})]}),(0,_.jsx)(f.A,{type:"file",name:"fileUpload",innerRef:this.fileUpdateInputRef,onChange:t=>this.uploadUpdateAttachment(this.state.testCaseAttachmentTable[a],a,t),style:{display:"none"}})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,_.jsx)(I.A,{keyField:"id",data:(()=>{try{var t=this.state.testCaseAttachmentTable[a];return void 0===t?this.state.testCaseAttachmentTable:t}catch(S){return void 0===t?[]:t}})(),columns:O.Jz,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,selectRow:{mode:"radio",onSelect:(t,e,s,i)=>{var l=this.state.selectedRowFromAttachmentTable;void 0===l[a]&&(l[a]=-1),l[a]=t.id,this.setState({selectedRowFromAttachmentTable:l})}}})})})})]})}),(0,_.jsx)(n.A,{lg:6,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Comments",(0,_.jsx)(w.A,{size:"sm",children:(0,_.jsx)(h.A,{color:"black",onClick:t=>this.addNewComments(r,a),children:(0,_.jsx)("small",{children:"Add"})})})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,_.jsx)(I.A,{keyField:"id",data:r,columns:O.Jl,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,cellEdit:(0,L.Ay)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,s,i)=>{var l=D.z.userEmail;if(l===s.by||D.z.isSuperAdmin){void 0===j.a.TestExecutionCommentsToSave[a]&&(j.a.TestExecutionCommentsToSave[a]=[],j.a.TestExecutionCommentsToSave[a][s.id]={});try{j.a.TestExecutionCommentsToSave[a][s.id].id=s.id,j.a.TestExecutionCommentsToSave[a][s.id].comments=e,j.a.TestExecutionCommentsToSave[a][s.id].by=l}catch(S){}}else s.comments=t},onStartEdit:(t,e,a,s)=>{var i=D.z.userEmail,l=t.by;D.z.isSuperAdmin||i!==l&&this.getNotification("error","You can not update comments for other user")}})})})})})]})})]})})]})})]})]})})})}async ExportReportsInPdf(){}render(){const t={mode:"checkbox",selected:this.state.selectedTestScriptsInModal,onSelect:this.handleOnSelectForModal,onSelectAll:this.handleOnSelectAllForModal},e={showExpandColumn:!0,expandByColumnOnly:!0,renderer:this.showTestResults.bind(this),width:"120px"},a={mode:"checkbox",selected:this.state.selectedTestCase,onSelect:this.handleOnSelect,onSelectAll:this.handleOnSelectAll};return(0,_.jsxs)(l.A,{className:"testplan",title:"Test Execution",children:[this.state.isPageLoading&&(0,_.jsx)("div",{className:"fullscreen-loader",children:(0,_.jsx)(F.A,{sentences:N.$,color:"blue"})}),(0,_.jsx)(k(),{ref:this.notificationSystem}),(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsx)(m.A,{open:this.state.accordionIdForNewTestPlan,toggle:this.toggleNewTestPlanAccordian.bind(this),children:(0,_.jsxs)(T.A,{children:[(0,_.jsx)(x.A,{targetId:"1",children:"Create New Test Plan"}),(0,_.jsx)(g.A,{accordionId:"1",children:(0,_.jsxs)(o.A,{children:[(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["New Test Plan",(0,_.jsx)(w.A,{size:"sm",children:(0,_.jsx)(h.A,{color:"black",onClick:this.createNewTestPlan.bind(this),children:(0,_.jsx)("small",{children:"Save Test Plan"})})})]})}),(0,_.jsx)(u.A,{children:(0,_.jsxs)(p.A,{children:[(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:3,children:"New Test Plan*"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"input",invalid:this.state.isErrorOnNewTestPlan,name:"newtestPlan",defaultValue:this.state.newTestPlan,onChange:this.addNewTestPlan.bind(this),maxLength:100})})]}),(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:3,children:"Test Cycle*"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",invalid:this.state.isErrorOnTestCycleForNewTestPlan,onChange:this.selectTestCycleForNewTestPlan.bind(this),name:"testCycle",value:this.state.selectedTestCycleForNewTestPlan,children:(0,_.jsx)(M.A,{options:this.state.listOfTestCycleForNewTestPlan})})})]}),(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:3,children:"Environment*"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",invalid:this.state.isErrorOnEnvironment,name:"envList",value:this.state.selectedEnvironment,onChange:this.addEnvironment.bind(this),children:(0,_.jsx)(M.A,{options:this.state.environmentList})})})]}),(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:3,children:"Test Suite*"}),(0,_.jsx)(n.A,{children:(0,_.jsxs)(f.A,{type:"select",invalid:this.state.isErrorOnExistingTestSuite,name:"testSuite",value:this.state.selectedExistingTestSuite,onChange:this.addExistingTestSuite.bind(this),children:[(0,_.jsx)("option",{}),(0,_.jsx)(M.A,{options:this.state.existingTestSuiteList})]})})]})]})})]})}),(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:"Test Plan Custom Fields"}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.newTestPlanCustomField,columns:O.f6,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,cellEdit:(0,L.Ay)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,a,s)=>{},onStartEdit:(t,e,a,s)=>{var i=t.key,l=t.value;if(j.a.CustomKeyListForListBoxOption.includes(i)){j.a.SelectedRowIDforUpdateCustomFieldTable=t.id,this.setState({selectedRowIDforUpdateCustomFieldTable:t.id}),j.a.CustomKeyNameToUpdate=i,this.setState({customKeyNameToUpdate:i});var r=j.a.CustomKeyListBoxWithKeyAnaValue[i];j.a.ListOfCustomValueForKey=r,this.setState({listOfCustomValueForKey:r}),j.a.SelectedValueForCustomKey=l,this.setState({selectedValueForCustomKey:l}),this.setState({modalForCustomFields:!0})}}})})})})]})})]})})]})})})}),(0,_.jsxs)(o.A,{children:[(0,_.jsx)(n.A,{lg:6,md:6,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Select Test Plan for Execution"})}),(0,_.jsx)(u.A,{children:(0,_.jsxs)(p.A,{children:[(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:3,children:"Test Cycle*"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",invalid:this.state.isErrorOnTestCycle,onChange:this.selectTestCycle.bind(this),name:"testCycle",value:this.state.selectedTestCycle,children:(0,_.jsx)(M.A,{options:this.state.listOfTestCycle})})})]}),(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:3,children:"Test Plan*"}),(0,_.jsx)(n.A,{children:(0,_.jsxs)(f.A,{type:"select",invalid:this.state.isErrorOnTestPlan,name:"testPlan",value:this.state.selectedTestPlan,onChange:this.selectTestPlan.bind(this),children:[(0,_.jsx)("option",{}),(0,_.jsx)(M.A,{options:this.state.listOfTestPlan})]})})]})]})})]})}),(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Test Plan details",(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",name:"editTestPlan",disabled:this.state.isEditTestPlanButtonDisabled,onClick:this.editTestPlanButton.bind(this),children:(0,_.jsx)("small",{children:"Edit Test Plan"})}),this.state.isAddMoreTestCaseButtonVisible&&(0,_.jsx)(h.A,{color:"info",name:"addmorecases",onClick:this.opemNewTestCaseModal.bind(this),children:(0,_.jsx)("small",{children:"Add more cases from suite"})})]})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.exitingTestPlanCustomDetails,columns:O.f6,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0})})})]})})]}),(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Test Cases for Execution",(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",name:"updateTestPlan",onClick:this.bulkActionInitiate.bind(this),children:(0,_.jsx)("small",{children:"Bulk Action"})}),(0,_.jsx)(h.A,{color:"info",name:"updateTestPlan",onClick:this.updateTestExecutionDetailsForTestPlan.bind(this),children:(0,_.jsx)("small",{children:"Update Test Execution Details"})}),(0,_.jsx)(h.A,{color:"black",onClick:this.exportTestResults.bind(this),children:(0,_.jsx)("small",{children:"Export Test Results"})}),(0,_.jsx)(h.A,{color:"info",name:"run",onClick:this.ExportTestScriptsReportsInImage.bind(this),children:(0,_.jsx)("small",{children:"Save as Image"})}),(0,_.jsx)(h.A,{color:"black",onClick:this.deleteTestCaes.bind(this),children:(0,_.jsx)("small",{children:"Delete Test Cases"})})]})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)("div",{ref:this.testScriptReportRef,children:(0,_.jsx)(n.A,{children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.listOfTestCases,columns:O.v,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,filter:(0,B.Ay)(),pagination:(0,U.Ay)(),expandRow:e,cellEdit:(0,L.Ay)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,a,s)=>{if(t!==e&&"map"!==s.dataField&&"unmap"!==s.dataField){var i=a.testid;void 0===j.a.UpdatedTestRowData[i]&&(j.a.UpdatedTestRowData[i]={}),j.a.UpdatedTestRowData[i][s.dataField]=e,j.a.UpdatedTestRowData[i].executedBy=D.z.userEmail}},onStartEdit:(t,e,a,s)=>{"map"===e.dataField&&(this.setState({listOfDefectsForComponent:[]}),this.setState({selectedDefectId:[]}),this.setState({testIdToLinkDefect:t.testid}),this.setState({testComponentToLinkDefect:t.component}),this.setState({selectedRowNumber:t.id}),this.setState({isPageLoading:!0}),Promise.resolve(P.A.getAllDefectFromComponent("/",this.state.isJiraasDefectTool)).then((t=>{var e=[];try{for(let i=0;i<t.length;i++){var a=t[i].defectid,s=t[i].title;e.push({label:a+" : "+s,value:a})}}catch(i){}this.setState({listOfDefectsForComponent:e}),this.setState({isPageLoading:!1}),this.setState({modalForDefects:!0})})))}}),selectRow:a})})})})]})})}),(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsx)(c.A,{children:(0,_.jsxs)(d.A,{children:[(0,_.jsx)(k(),{ref:this.notificationSystem}),(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Execution Results (",this.state.selectedTestPlan,")",(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",name:"exportReports",onClick:this.ExportReportsInImage.bind(this),children:(0,_.jsx)("small",{children:"Save as Image"})}),(0,_.jsx)(h.A,{color:"info",name:"view report",onClick:this.viewResultsInTableForm.bind(this),children:(0,_.jsx)("small",{children:"View Tabular Report"})})]})]})]})})})}),(0,_.jsxs)("div",{ref:this.reportRef,children:[(0,_.jsxs)(o.A,{children:[(0,_.jsx)(n.A,{lg:3,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Execution Summary"})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(R.le,{color:["#17E798","#F38295","#ffcc00","#A9A9A9","#5DADE2"],labels:["Pass","Fail","Pending","NA","Blocked"],data:this.state.executionSummaryData})})})]})}),(0,_.jsxs)(n.A,{lg:3,md:6,sm:6,xs:12,children:[(0,_.jsx)(n.A,{children:(0,_.jsx)(z.qj,{title:"Total Test Cases",number:this.state.listOfTestCases.length,color:"black"})}),(0,_.jsx)("div",{style:{marginTop:"15px"}}),(0,_.jsx)(z.GU,{title:"Execution Progress",number:this.state.listOfTestCases.length,color:"info",progress:{value:this.state.testPlanCompletedProgress,label:"Completed",label2:"Pending"}}),(0,_.jsx)("div",{style:{marginTop:"15px"},children:(0,_.jsx)(n.A,{children:(0,_.jsx)(z.qj,{title:"Total Linked Defect",number:this.state.totalLinkedDefect,color:"black"})})})]}),(0,_.jsx)(n.A,{lg:6,md:12,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:"Pass Fail Count Module Wise"}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(R.rm,{label:["Pass","Fail","Pending","NA","Blocked"],color:["#17E798","#F38295","#ffcc00","#A9A9A9","#5DADE2"],labels:this.state.executedComponentXaxis,data:this.state.executedComponentYaxis})})})]})})]}),(0,_.jsx)(o.A,{children:this.state.testCaseCustomFieldGraphData.map(((t,e)=>(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsxs)(d.A,{children:["Execution history based on '",t.header,"' field"]}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(R.rm,{label:["Pass","Fail","Pending","NA","Blocked"],color:["#17E798","#F38295","#ffcc00","#A9A9A9","#5DADE2"],labels:t.labels,data:t.yAxis})})})]})},e)))}),(0,_.jsxs)(o.A,{children:[(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsxs)(d.A,{children:["Defect",(0,_.jsx)("small",{children:" Priority"})]}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(R.Es,{labels:this.state.defectPriorityXAxis,data:this.state.defectPriorityYAxis})})})]})}),(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsxs)(d.A,{children:["Defect",(0,_.jsx)("small",{children:" Status"})]}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(R.Es,{labels:this.state.defectStatusXaxis,data:this.state.defectStatusYAxis})})})]})}),(0,_.jsx)(n.A,{lg:6,md:6,sm:6,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsxs)(d.A,{children:["Executed",(0,_.jsx)("small",{children:" By"})]}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(R.Es,{labels:this.state.executedByXaxis,data:this.state.executedByYaxis,color:this.state.executedByColors})})})]})})]})]}),(0,_.jsx)(y.A,{isOpen:this.state.modalForCustomFields,toggle:this.toggle,className:this.props.className,centered:!0,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsxs)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleCustomField,children:["Choose value for custom key : ",this.state.customKeyNameToUpdate," "]}),(0,_.jsx)(C.A,{children:(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsx)(p.A,{children:(0,_.jsx)(S.A,{col:"true",children:(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",onChange:this.selectCustomKeyValue.bind(this),name:"customKeySelection",value:this.state.selectedValueForCustomKey,children:(0,_.jsx)(M.A,{options:this.state.listOfCustomValueForKey})})})})})})})})]})}),(0,_.jsx)(y.A,{isOpen:this.state.modalForDefects,toggle:this.toggle,className:this.props.className,centered:!0,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsxs)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleForDefectModal,children:["Link Defect for Test Case id ",this.state.testIdToLinkDefect]}),(0,_.jsx)(C.A,{children:(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(p.A,{children:[(0,_.jsx)(S.A,{row:!0,children:(0,_.jsxs)(A.A,{sm:5,children:["Component : ",this.state.testComponentToLinkDefect]})}),(0,_.jsxs)(S.A,{col:"true",children:[(0,_.jsx)(A.A,{sm:5,children:"Select Defect id to Link"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(V.Ay,{defaultValue:this.state.selectedDefectId,value:this.state.selectedDefectId,isMulti:!0,name:"component",options:this.state.listOfDefectsForComponent,className:"basic-multi-select",classNamePrefix:"select",onChange:this.selectDefectToLink.bind(this)})})]}),(0,_.jsx)(S.A,{row:!0,children:(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",onClick:this.linkDefectToTestCaseExecutionTable.bind(this),children:(0,_.jsx)("small",{children:"Link"})}),(0,_.jsx)(h.A,{color:"info",onClick:this.UnlinkDefectToTestCaseExecutionTable.bind(this),children:(0,_.jsx)("small",{children:"Unlink"})})]})})]})})})})]})}),(0,_.jsx)(y.A,{isOpen:this.state.isBulkActionModal,className:this.props.className,backdrop:"static",children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsx)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleForBulkActionModal.bind(this),children:"Perform Bulk Action"}),(0,_.jsx)(C.A,{children:(0,_.jsxs)(p.A,{children:[(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:5,children:"Action*"}),(0,_.jsx)(n.A,{children:(0,_.jsxs)(f.A,{type:"select",invalid:this.state.isErrorOnBulkActionKey,onChange:this.selectBulkActionKey.bind(this),name:"bulkactionKey",value:this.state.selectedBulkActionKey,children:[(0,_.jsx)("option",{}),(0,_.jsx)("option",{children:"Assigned to"}),(0,_.jsx)("option",{children:"Status"})]})})]}),(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:5,children:"AssignedTo/Status*"}),(0,_.jsx)(n.A,{children:(0,_.jsxs)(f.A,{type:"select",name:"listbulkvalue",invalid:this.state.isErrorOnBulkActionValue,onChange:this.selectBulkActionValue.bind(this),value:this.state.selectedBulkActionValue,children:[(0,_.jsx)("option",{}),(0,_.jsx)(M.A,{options:this.state.listOfBulkActionValue})]})})]}),(0,_.jsx)(S.A,{row:!0,children:(0,_.jsx)(w.A,{size:"sm",children:(0,_.jsx)(h.A,{color:"black",onClick:this.performBulkAction.bind(this),children:(0,_.jsx)("small",{children:"Update"})})})})]})})]})}),(0,_.jsx)(y.A,{size:"xl",style:{width:"70%"},isOpen:this.state.isEditTestPlanModal,className:this.props.className,backdrop:"static",children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsx)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleEditTestPlamModal.bind(this),children:"Edit Test Plan Details"}),(0,_.jsx)(C.A,{children:(0,_.jsxs)(p.A,{children:[(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Test Plan details",(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",name:"update",onClick:this.updateTestPlanAttribute.bind(this),children:(0,_.jsx)("small",{children:"Update"})}),(0,_.jsx)(h.A,{color:"info",name:"update",onClick:this.OpenmodalForDeleteTestPlan.bind(this),children:(0,_.jsx)("small",{children:"Delete Test Plan"})})]})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{style:{overflowX:"auto",maxWidth:"100%"},children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.testPlanCustomDetailsForUpdate,columns:O.f6,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,cellEdit:(0,L.Ay)({mode:"click",blurToSave:!0,afterSaveCell:(t,e,a,s)=>{},onStartEdit:(t,e,a,s)=>{var i=t.key,l=t.value;if(j.a.CustomKeyListForListBoxOption.includes(i)){j.a.SelectedRowIDforUpdateCustomFieldTable=t.id,this.setState({selectedRowIDforUpdateCustomFieldTable:t.id}),j.a.CustomKeyNameToUpdate=i,this.setState({customKeyNameToUpdate:i});var r=j.a.CustomKeyListBoxWithKeyAnaValue[i];j.a.ListOfCustomValueForKey=r,this.setState({listOfCustomValueForKey:r}),j.a.SelectedValueForCustomKey=l,this.setState({selectedValueForCustomKey:l}),this.setState({modalForCustomFieldsToUpdate:!0})}}})})})})]})})}),(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Clone your test plan",(0,_.jsx)(w.A,{size:"sm",children:(0,_.jsx)(h.A,{color:"black",name:"update",onClick:this.cloneTestPlan.bind(this),children:(0,_.jsx)("small",{children:"Clone"})})})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(S.A,{row:!0,children:(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:4,children:"Test Cycle*"}),(0,_.jsx)(n.A,{children:(0,_.jsxs)(f.A,{type:"select",invalid:this.state.isErrorOnTestCycleForCloning,name:"cloning",value:this.state.selectedTestCycleForCloning,onChange:this.selectTestCycleForCloning.bind(this),children:[(0,_.jsx)("option",{}),(0,_.jsx)(M.A,{options:this.state.listOfTestCycleForNewTestPlan})]})})]})})})]})})})]})})]})}),(0,_.jsx)(y.A,{isOpen:this.state.modalForCustomFieldsToUpdate,toggle:this.toggle,className:this.props.className,centered:!0,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsxs)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleCustomFieldToUpdate,children:["Choose value for custom key : ",this.state.customKeyNameToUpdate," "]}),(0,_.jsx)(C.A,{children:(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsx)(p.A,{children:(0,_.jsx)(S.A,{col:"true",children:(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",onChange:this.selectCustomKeyValueToUpdate.bind(this),name:"customKeySelection",value:this.state.selectedValueForCustomKey,children:(0,_.jsx)(M.A,{options:this.state.listOfCustomValueForKey})})})})})})})})]})}),(0,_.jsx)(y.A,{isOpen:this.state.modalForDeleteTestPlan,toggle:this.toggle,className:this.props.className,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsx)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleDeleteTestPlan,children:"Confirmation"}),(0,_.jsx)(C.A,{children:"Are you sure,You want to delete the test plan? Test plan and associated results will be deleted."}),(0,_.jsx)(b.A,{children:(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",onClick:this.toggleDeleteTestPlan.bind(this),children:(0,_.jsx)("small",{children:"Cancel"})}),(0,_.jsx)(h.A,{color:"info",onClick:this.deleteTestPlan.bind(this),children:(0,_.jsx)("small",{children:"Yes"})})]})})]})}),(0,_.jsx)(y.A,{size:"xl",style:{width:"70%"},isOpen:this.state.modalForNewTestCaseFromSuite,toggle:this.toggle,className:this.props.className,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsx)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleNewTestCasesForomSuiteModal,children:"Select Test Cases For Linking"}),(0,_.jsx)(C.A,{children:(0,_.jsx)(p.A,{children:(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Choose Your Test Scripts",(0,_.jsx)(w.A,{size:"sm",children:(0,_.jsx)(h.A,{color:"info",name:"linkTestScript",onClick:this.linkTestCase.bind(this),children:(0,_.jsx)("small",{children:"Link Test Cases"})})})]})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(n.A,{children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.newTestCasesInTestSuite,columns:O.Ow,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,selectRow:t,filter:(0,B.Ay)(),pagination:(0,U.Ay)(Z)})})})]})})})})})]})}),(0,_.jsx)(y.A,{isOpen:this.state.deleteTestCaseModal,toggle:this.toggle,className:this.props.className,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsx)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleDeleteTestCaseConfirmationModal,children:"Confirmation Dialog"}),(0,_.jsx)(C.A,{children:this.state.confirmationModalMessageForDeleteTestCase}),(0,_.jsx)(b.A,{children:(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)(h.A,{color:"black",onClick:this.toggleDeleteTestCaseConfirmationModal.bind(this),children:(0,_.jsx)("small",{children:"Cancel"})}),(0,_.jsx)(h.A,{color:"info",onClick:this.deleteTestCaseFromTestSuite.bind(this),children:(0,_.jsx)("small",{children:"Yes"})})]})})]})}),(0,_.jsxs)(y.A,{size:"xl",isOpen:this.state.isTabularResultsOpen,className:this.props.className,backdrop:"static",children:[(0,_.jsxs)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleTabularResults.bind(this),children:[this.state.selectedTestPlan," Results summary",(0,_.jsx)(w.A,{size:"sm",style:{marginLeft:"20px"},children:(0,_.jsx)(h.A,{color:"black",name:"exportReports",onClick:this.ExportTabularReportsInImage.bind(this),children:(0,_.jsx)("small",{children:"Save as Image"})})})]}),(0,_.jsx)("div",{ref:this.reportTabularRef,children:(0,_.jsxs)(C.A,{children:[(0,_.jsxs)(o.A,{children:[(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Execution Summary"})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.tabularSummaryData,columns:O.TB,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0})})]})}),(0,_.jsx)(n.A,{style:{marginTop:"10px"},lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Pass Fail Count Module Wise"})}),(0,_.jsx)(u.A,{children:(0,_.jsx)(I.A,{keyField:"id",data:this.state.tabularModuleWiseData,columns:O.TB,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0})})]})})]}),this.state.tabularCustomFieldGraphData.map(((t,e)=>(0,_.jsx)(o.A,{style:{marginTop:"10px"},children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsxs)(d.A,{children:["Execution count based on '",t.header,"' field"]}),(0,_.jsx)(u.A,{children:(0,_.jsx)(I.A,{keyField:"id",data:t.tableData,columns:O.TB,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0})})]})},e)})))]})})]}),(0,_.jsx)(y.A,{size:"xl",isOpen:this.state.isJiraWindowOpen,className:this.props.className,backdrop:"static",children:(0,_.jsxs)("div",{style:{position:"relative"},children:[this.state.isModalLoading&&(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,_.jsxs)("div",{className:"loading-container",children:[(0,_.jsx)(H.y8Q,{size:60,color:"white"}),(0,_.jsx)("div",{style:{marginTop:"10px",color:"white",fontWeight:"bold"},children:"Loading..."})]})}),(0,_.jsx)(v.A,{style:{background:"linear-gradient(to right, #22c1c3, #fdbb2d)",fontSize:"100%",color:"white",overflow:"auto"},toggle:this.toggleJiraModal.bind(this),children:"Confirm Logging Defect into Jira"}),(0,_.jsxs)(C.A,{children:[(0,_.jsx)(o.A,{children:(0,_.jsx)(n.A,{lg:12,md:12,sm:12,xs:12,children:(0,_.jsxs)(c.A,{children:[(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:"Jira Details"})}),(0,_.jsx)(u.A,{children:(0,_.jsxs)(p.A,{children:[(0,_.jsxs)(S.A,{row:!0,children:[(0,_.jsx)(A.A,{sm:6,children:"Jira Project Key"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",onChange:this.selectJiraProject.bind(this),name:"jiraprojectlist",value:this.state.selectedJiraProject,children:(0,_.jsx)(M.A,{options:this.state.listOfJiraProject})})}),(0,_.jsx)("div",{style:{marginTop:"10px"}}),(0,_.jsx)(A.A,{sm:6,children:"Issue Type"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"select",onChange:this.selectJiraCustomIssueType.bind(this),name:"jiraissuetype",value:this.state.selectedIssueType,children:(0,_.jsx)(M.A,{options:this.state.listOfCustomIssueType})})}),(0,_.jsx)("div",{style:{marginTop:"10px"}}),(0,_.jsx)(A.A,{sm:6,children:"Jira Refrence Id"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(f.A,{type:"input",onChange:this.addIssueType.bind(this),name:"jirarefrenceid",value:this.state.jiraIssueRefrence})})]}),(0,_.jsxs)(S.A,{col:"true",children:[(0,_.jsx)(A.A,{sm:3,children:"Steps to reproduce*"}),(0,_.jsx)(n.A,{children:(0,_.jsx)(q(),{modules:{toolbar:[[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["code-block"]],clipboard:{matchVisual:!1}},theme:"snow",formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code-block"],value:this.state.jiraDefecOverrideBody,onChange:this.addDefectStepsToRepduce.bind(this)})})]})]})})]})})}),(0,_.jsx)(b.A,{children:(0,_.jsxs)(w.A,{size:"sm",children:[(0,_.jsx)("div",{style:{marginLeft:"10px"},children:(0,_.jsx)(h.A,{onClick:this.toggleJiraModal.bind(this),style:{background:"linear-gradient(to right, #DC2424, #4A569D)",color:"white"},children:(0,_.jsx)("small",{children:"Cancel"})})}),(0,_.jsx)("div",{style:{marginLeft:"10px"},children:(0,_.jsx)(h.A,{onClick:this.postDefectsIntoJIra.bind(this),style:{background:"linear-gradient(to right, #283048, #859398)",color:"white"},children:(0,_.jsx)("small",{children:"Proceed"})})})]})})]})]})})]})}}const tt=$;s()}catch(Z){s(Z)}}))},47285:(t,e,a)=>{a.a(t,(async(t,s)=>{try{a.d(e,{A:()=>T});var i=a(61982),l=a(16228),r=a(54847),o=a(44432),n=a(28572),c=a(31638),d=a(96615),w=a(27319),h=a(20248),u=t([l,r,c,d]);[l,r,c,d]=u.then?(await u)():u;class m{async loadTestPlanPage(){try{await r.A.manualConfigPageLoad();var t=await o.X.AllConfigData;await this.setCustomFieldData(await t),i.a.ExistingTestSuiteList=await this.getExistingTestSuite(),await this.setEnvironment(await t),i.a.ListOfTestCycle=await o.X.ListOfTestCycle,i.a.ListOfTestCycleForNewTestPlan=await o.X.ListOfTestCycle,i.a.SelectedTestCycle=await o.X.CurrentTestCycle,i.a.SelectedTestCycleForNewTestPlan=await o.X.CurrentTestCycle,i.a.ListOfTestPlan=await this.getAllTestPlanFromTestCycle(i.a.SelectedTestCycle),await this.getAllPlaceHolderName(),await this.setTestPlanTestExecutionData(await t),await this.isJiraisDefectTools(await t),await this.setJiraDetails(await t)}catch(e){console.log("We are getting error on Test plan page"),console.log(await e)}}async setEnvironment(t){if(l.T.isDemo)i.a.EnvironmentList=["QA"],i.a.SelectedEnvironment="QA";else{var e=await t.Environment;if(void 0===await e)i.a.EnvironmentList=[],i.a.SelectedEnvironment="";else if(0===await e.length)i.a.EnvironmentList=[],i.a.SelectedEnvironment="";else{var a=[];for(let t=0;t<await e.length;t++){var s=await e[t].name;a.push(await s)}i.a.EnvironmentList=await a,i.a.SelectedEnvironment=await a[0]}}}async getExistingTestSuite(){var t=[];if(l.T.isDemo)return t;try{var e=await localStorage.getItem("UserSelectedAccount"),a=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(a=l.T.remoteBackendAPI);var s={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},i=await n.A.get(await a+"testsuite/project/"+await e+"/getalltestsuite",await s),r=await i.data;return await r}catch(o){r=[]}return t}async getListOfUser(){i.a.ListOfUsers=[];i.a.ListOfUsers.push(await{label:"",value:""});var t=await r.A.getListOfUsers();for(let a=0;a<await t.length;a++){var e={label:await t[a],value:await t[a]};i.a.ListOfUsers.push(await e)}}async getAllTestPlanFromTestCycle(t){if(!l.T.isDemo)try{var e=await localStorage.getItem("UserSelectedAccount"),a={};a.testCycle=await t;var s=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(s=l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},r=await n.A.post(await s+"testplan/project/"+e+"/gettestplanname",await i,await a),o=await r.data;return await o}catch(c){return[]}}async getAllPlaceHolderName(){if(!l.T.isDemo)try{var t=await localStorage.getItem("UserSelectedAccount"),e=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(e=l.T.remoteBackendAPI);var a={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},s=await n.A.get(await e+"testplan/project/"+t+"/getallplaceholder",await a),r=await s.data;await r.length>0?(i.a.ListOfPlaceHolder=[],i.a.SelectedPlaceHolder="",i.a.ListOfPlaceHolder.push("All"),i.a.SelectedPlaceHolder="All",i.a.ListOfPlaceHolder=await i.a.ListOfPlaceHolder.concat(await r)):(i.a.ListOfPlaceHolder=[],i.a.SelectedPlaceHolder="")}catch(o){return[]}}async getTestPlanDetail(t,e){if(!l.T.isDemo)try{var a=await localStorage.getItem("UserSelectedAccount"),s={};s.testCycle=await t,s.testPlanName=await e;var i=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(i=l.T.remoteBackendAPI);var r={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},o=await n.A.post(await i+"testplan/project/"+await a,await r,await s),c=await o.data;return await c}catch(d){return[]}}async loadAllTestCaseFromComponent(t){if(!l.T.isDemo)try{var e=await localStorage.getItem("UserSelectedAccount");i.a.ListOfUsers=[],await this.getListOfUser(),i.a.ListOfTestCases=[];var a={};a.placeHolderName=await t;var s=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(s=l.T.remoteBackendAPI);var r={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},o=await n.A.post(await s+"testplan/project/"+e+"/getalltestcase",await r,await a),c=await o.data;return i.a.ListOfTestCases=await c,await c}catch(d){return[]}}async saveTestPlan(t,e,a,s){if(l.T.isDemo)return!0;try{var r=await localStorage.getItem("UserSelectedAccount"),o={};o.testPlanName=await t,o.testCycle=await e,o.testSuite=await s;var c=await l.z.userEmail,d=await a,w=await i.a.NewTestPlanCustomField,h=await w.length;w.push({id:Number(await h)+1,key:"Environment",value:await d}),w.push({id:Number(await h)+2,key:"Created By",value:await c}),o.customFields=await w;var u=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(u=l.T.remoteBackendAPI);var m={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},T=await n.A.post(await u+"testplan/project/"+await r+"/savetestplan",await m,await o),x=await T.data;return l.T.ErrorMessage=await x.errorMessage,await x.isFileSaved}catch(g){return[]}}async getselectedTestCase(t){var e=[],a=i.a.ListOfTestCases;for(let i=0;i<await t.length;i++){var s=Number(await t[Number(i)])-1,l={id:Number(i)+1,component:await a[await s].component,testid:await a[await s].testid,testname:await a[await s].testname,assignto:await a[await s].assignto,status:await a[await s].status};e.push(await l)}return await e}async generateGraphData(t){var e=0,a=0,s=0,r=0,o=0,n=[],d=[],w={},h={},u=[],m=await i.a.ListOfTestCases;for(let i=0;i<await m.length;i++){var T=await m[i].linkeddefect;if(""!==await T){var x=await T.split(",");for(let t=0;t<await x.length;t++){var g=await x[t];await u.includes(await g)||u.push(await g)}}var f=await m[i].executedBy;""===await f&&(f=l.z.userEmail);var p=await m[i].status;void 0!==await f&&("Pass"!==await p&&"Fail"!==await p&&"Blocked"!==await p||(void 0===await h[await f]?h[await f]=1:h[await f]=Number(await h[await f])+1));var S=await m[i].component;await n.includes(await S)||(n.push(await S),w[await S]={},w[await S].pass=0,w[await S].fail=0,w[await S].pending=0,w[await S].na=0,w[await S].blocked=0);var A=await m[i].status;switch(await A){case"Pending":s=await Number(await s)+1,w[await S].pending=await Number(w[await S].pending)+1;break;case"Pass":e=await Number(await e)+1,w[await S].pass=await Number(w[await S].pass)+1;break;case"Fail":a=await Number(await a)+1,w[await S].fail=await Number(w[await S].fail)+1;break;case"NA":r=await Number(await r)+1,w[await S].na=await Number(w[await S].na)+1;break;case"Blocked":o=await Number(await o)+1,w[await S].blocked=await Number(w[await S].blocked)+1}}i.a.ExecutionSummaryData.push(await e),i.a.ExecutionSummaryData.push(await a),i.a.ExecutionSummaryData.push(await s),i.a.ExecutionSummaryData.push(await r),i.a.ExecutionSummaryData.push(await o),i.a.ExecutedComponentXaxis=await n;var y=[],v=[],C=[],b=[],j=[];for(let i=0;i<await n.length;i++){var P=await n[i];y.push(await w[await P].pass),v.push(await w[await P].fail),C.push(await w[await P].pending),b.push(await w[await P].na),j.push(await w[await P].blocked)}d.push(await y),d.push(await v),d.push(await C),d.push(await b),d.push(await j),i.a.ExecutedComponentYaxis=await d;var D=await c.A.getAllKeyValueInJsonArrayFromJsonObject(await h);i.a.ExecutedByXaxis=await D.key;var E=[];E.push(await D.value),i.a.ExecutedByYaxis=await E;var k=await m.length,F=Number(await Number(await e)+await Number(await a)+await Number(r));const N=await(100*await(await F/await k)).toFixed(0);if(i.a.TestPlanCompletedProgress=await N,i.a.TotalLinkedDefect=await u.length,await u.length>0){var O={},I={};if(await t){var L=await this.getjiraDefectDetails(await u);V=await c.A.getAllKeyValueInJsonArrayFromJsonObject(await L.defectStatusData),J=await V.key,K=await V.value;i.a.DefectStatusXaxis=await J,(z=[]).push(await K),i.a.DefectStatusYAxis=await z;X=await c.A.getAllKeyValueInJsonArrayFromJsonObject(await L.defectprioritydata);J=await X.key,K=await X.value,i.a.DefectPriorityXAxis=await J,(z=[]).push(await K),i.a.DefectPriorityYAxis=await z}else{for(let t=0;t<await u.length;t++){var B=await u[t],U=await this.getDefectDetailsBasedOnId(await B);if(void 0!==await U.status){var M=await U.status;void 0===await O[await M]?O[await M]=1:O[await M]=await Number(O[await M])+1}if(void 0!==await U.priority){var R=await U.priority;void 0===await I[await R]?I[await R]=1:I[await R]=await Number(I[await R])+1}}var z,V=await c.A.getAllKeyValueInJsonArrayFromJsonObject(await O),J=await V.key,K=await V.value;i.a.DefectStatusXaxis=await J,(z=[]).push(await K),i.a.DefectStatusYAxis=await z;var X=await c.A.getAllKeyValueInJsonArrayFromJsonObject(await I);J=await X.key,K=await X.value,i.a.DefectPriorityXAxis=await J,(z=[]).push(await K),i.a.DefectPriorityYAxis=await z}}}async deleteTestPlan(t,e){if(l.T.isDemo)return!0;try{var a=await localStorage.getItem("UserSelectedAccount"),s={};s.testplan=await e,s.testcycle=await t;var i=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(i=l.T.remoteBackendAPI);var r={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},o=await n.A.post(await i+"testplan/project/"+await a+"/deletetestplan",await r,await s),c=await o.data;return l.T.ErrorMessage=await c.errorMessage,await c.isFileDeleted}catch(d){return[]}}async getTestCaseFromTestSuite(t){var e=[];if(l.T.isDemo)return e;try{var a=await localStorage.getItem("UserSelectedAccount"),s=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(s=l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},r=await n.A.get(await s+"testsuite/project/"+await a+"/testsuitename/"+await t,await i),o=await r.data;e=await o}catch(c){e=[]}return e}async getTestDetailsBasedOnTestPath(t,e,a){if(l.T.isDemo)return await new Promise((t=>setTimeout(t,2e3))),!0;var s=await localStorage.getItem("UserSelectedAccount"),i={},r=await t+"/"+await e+"/"+await a;i.testPath=await r;var o=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(o=l.T.remoteBackendAPI);var c={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},d=await n.A.post(await o+"manualtestcase/project/"+s+"/gettestiddetails",await c,await i),w=await d.data;return await w}async updateTestPlan(t,e,a,s,r,o,c,d){if(l.T.isDemo)return!0;try{var w=await localStorage.getItem("UserSelectedAccount"),h={};h.testPlanName=await t,h.testCycle=await e,h.AllTestCases=await a,h.testStepResultData=await s,h.comments=await r,h.attachments=await o,h.updateattachmentstestidtable=await d;var u=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(u=l.T.remoteBackendAPI);var m={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},T=await n.A.post(await u+"testplan/project/"+await w+"/updatetestplan",await m,await h),x=await T.data;l.T.ErrorMessage=await x.errorMessage,await x.isFileSaved&&await this.uploadUpdateandDeleteFileToServer(await c,await e,await t);var g=await x.CustomFieldGraphData;return void 0===await g?i.a.TestCaseCustomFieldGraphData=[]:i.a.TestCaseCustomFieldGraphData=await g,await x.isFileSaved}catch(f){return[]}}async uploadUpdateandDeleteFileToServer(t,e,a){if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var s="",r=await Object.keys(await t);if(await r.length>0)for(let i=0;i<await r.length;i++){s=await r[i];var o=await t[await s];if(await o.length>0)for(let t=0;t<await await o.length;t++)await this.uploadFileToServer(await o[t],e,a,await s+"_")}var n=await i.a.TestExecutionAttachmentNameForDelete,c=await Object.keys(await n);if(await c.length>0)for(let t=0;t<await c.length;t++){s=await c[t];var d=await n[await s];if(await d.length>0)for(let t=0;t<await d.length;t++){var w=await d[t];await this.deleteTestFileFromServer(await e,await a,await s+"_"+w)}}}catch(h){l.T.ErrorMessage=await h.message}}async deleteTestFileFromServer(t,e,a){if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var s=await localStorage.getItem("UserSelectedAccount"),i=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(i=await l.T.remoteBackendAPI);var r={};r.testcycle=await t,r.testplan=await e,r.filename=await a;var o={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},c=await n.A.post(i+"fileupload/project/"+await s+"/deletetestexecutionfile",await o,await r),d=await c.data;return await d}catch(w){l.T.ErrorMessage=await w.message}}async uploadFileToServer(t,e,a,s){if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var i="TestPlan/"+await e+"/"+await a+"/",r=await localStorage.getItem("UserSelectedAccount"),o=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(o=await l.T.remoteBackendAPI);let h=new FormData;h.append("file",await t);var c={Authorization:await l.z.userToken,userEmail:await l.z.userEmail,"Content-Type":"multipart/form-data",foldername:await i,prefix:await s},d=await n.A.post(o+"fileupload/project/"+await r+"/addattachment",await c,await h),w=await d.data;return await w}catch(h){l.T.ErrorMessage=await h.message}}async setCustomFieldData(t){if(l.T.isDemo)i.a.NewTestPlanCustomField=[];else try{var e=await t.TestPlanCustomKeys;if(void 0===await e)i.a.NewTestPlanCustomField=[];else if(0===await e.length)i.a.NewTestPlanCustomField=[];else{var a=[];i.a.CustomKeyListForListBoxOption=[],i.a.CustomKeyListBoxWithKeyAnaValue={};for(let t=0;t<await e.length;t++){var s=await e[t].key,r="",o=await e[t].value;if(""!==await o){o=await JSON.parse(await o);var n=await o;i.a.CustomKeyListForListBoxOption.push(await s),await o.length>0&&(r=await o[0])}var c={id:Number(t)+1,key:await s,value:await r};a.push(await c),void 0===i.a.CustomKeyListBoxWithKeyAnaValue[await s]&&(i.a.CustomKeyListBoxWithKeyAnaValue[await s]=await n)}i.a.NewTestPlanCustomField=await a}}catch(d){i.a.NewTestPlanCustomField=[]}}async getAllDefectFromComponent(t,e){if(l.T.isDemo)return await new Promise((t=>setTimeout(t,2e3))),[{id:1,defectid:"DF-1",title:"My dummy defect",component:"Landing Page",priority:"Medium",severity:"Low",status:"Open",assignto:"dummyuser@test.com",cycle:"Sprint 12.0",testid:"",createdby:"Pravesh",customkey:""}];try{var a=await localStorage.getItem("UserSelectedAccount"),s={};s.isjirasdefect=await e,s.componentPath=await t;var i=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(i=l.T.remoteBackendAPI);var r={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},o=await n.A.post(await i+"defect/project/"+a+"/getalldefects",await r,await s),c=await o.data;return await c}catch(d){return[]}}async getDefectDetailsBasedOnId(t){if(l.T.isDemo)return await new Promise((t=>setTimeout(t,2e3))),{};try{var e=await localStorage.getItem("UserSelectedAccount"),a=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(a=l.T.remoteBackendAPI);var s={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},i=await n.A.get(await a+"defect/project/"+e+"/defectid/"+await t,await s),r=await i.data;return await r}catch(o){return{}}}async downloadFromServer(t,e){if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var a=await localStorage.getItem("UserSelectedAccount"),s=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(s=await l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail,foldername:await t,filename:await e},r=await n.A.get(s+"fileupload/project/"+await a+"/downloadattachment",await i),o=await r.data;if(await o.isSuccess){const t=await atob(await o.content),a=await new Uint8Array([...t].map((t=>t.charCodeAt(0)))),s=new Blob([await a],{type:await o["content-type"]}),i=await document.createElement("a");i.setAttribute("download",await e),i.href=await window.URL.createObjectURL(await s),await document.body.appendChild(await i),await i.click(),await document.body.removeChild(i)}else l.T.ErrorMessage=await o.errorMessage;return await o.isSuccess}catch(c){l.T.ErrorMessage=await c.message}}async updateTestPlanAttribue(t,e,a){if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var s=await localStorage.getItem("UserSelectedAccount"),i=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(i=await l.T.remoteBackendAPI);var r={};r.testcycle=await t,r.testplan=await e,r.customFields=await a;var o={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},c=await n.A.post(i+"testplan/project/"+await s+"/updatetestplanattribute",await o,await r),d=await c.data;return await d.isSuccess}catch(w){l.T.ErrorMessage=await w.message}}async cloneTestPlan(t,e,a){if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var s=await localStorage.getItem("UserSelectedAccount"),i=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(i=await l.T.remoteBackendAPI);var r={};r.testcycle=await t,r.testplan=await e,r.newtestcycle=await a;var o={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},c=await n.A.post(i+"testplan/project/"+await s+"/clonetestplan",await o,await r),d=await c.data;return await d.isSuccess}catch(w){l.T.ErrorMessage=await w.message}}async addnewtestcaseinTestSuite(t){var e={isSuccess:!1,errorMessage:""};if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),e;try{var a=await localStorage.getItem("UserSelectedAccount"),s=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(s=await l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},r=await n.A.post(s+"testplan/project/"+await a+"/addnewtestcaseintestplan",await i,await t),o=await r.data;return await o}catch(c){return e.errorMessage=await c.message,await e}}async removeTestCasesFromTestPlan(t){var e={isSuccess:!1,errorMessage:""};if(await l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),e;try{var a=await localStorage.getItem("UserSelectedAccount"),s=await l.T.backendAPI;"remote"===l.T.backendServiceAt&&(s=await l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},r=await n.A.post(s+"testplan/project/"+await a+"/removetestcasesfromtestplan",await i,await t),o=await r.data;return await o}catch(c){return e.errorMessage=await c.message,await e}}async getSumOfArray(t){var e=0;try{e=await t.reduce(((t,e)=>t+e),0),void 0===await e&&(e=0)}catch(a){e=0}return await e}async createRowDataForTableData(t,e,a){var s={};try{(s={id:await t,item:await e,pass:0,fail:0,pending:0,na:0,blocked:0,total:0}).total=await this.getSumOfArray(await a),s.pass=await a[0],s.fail=await a[1],s.pending=await a[2],s.na=await a[3],s.blocked=await a[4]}catch(i){}return await s}async setTestPlanTestExecutionData(t){try{i.a.TestPlanTestExecutionAdditionalColumn=[],await this.setTestSuiteExecutionColumn(await t);var e=await t.TestExecutionCustomKeys;if(void 0!==await e&&await e.length>0)for(let t=0;t<await e.length;t++){var a=[],s=!1,l=e[t].key;await i.a.TestPlanTestExecutionAdditionalColumn.includes(await l)||i.a.TestPlanTestExecutionAdditionalColumn.push(await l);var r=await e[t].value;try{a=await JSON.parse(await r),await Array.isArray(await a)&&(s=!0)}catch(x){}const g=await d.v.some((t=>t.text===l));if(!await g){var o={dataField:await l,text:await l,headerStyle:{width:"150px"}};if(await s){var n={},c=await a,u=[];for(let t=0;t<await c.length;t++){var m=await c[t];n[await m]=await m;var T={};T.label=await m,T.value=await m,await u.push(await T)}o.filter=await(0,w.E9)({options:n}),o.formatter=t=>n[t],o.editor={type:h.ZU.SELECT,getOptions:t=>{setTimeout((()=>{t(u)}),0)}}}else o.filter=await(0,w.CA)({});await d.v.push(await o)}}await this.setTestCaseCustomColumColumn(await t)}catch(x){}}async setTestCaseCustomColumColumn(t){try{var e=await t.TestCaseCustomKeys;if(void 0!==await e&&await e.length>0)for(let t=0;t<await e.length;t++){var a=[],s=!1,l=e[t].key;await i.a.TestPlanTestExecutionAdditionalColumn.includes(await l)||i.a.TestPlanTestExecutionAdditionalColumn.push(await l);var r=await e[t].value;try{a=await JSON.parse(await r),await Array.isArray(await a)&&(s=!0)}catch(x){}const g=await d.v.some((t=>t.text===l));if(!await g){var o={dataField:await l,text:await l,headerStyle:{width:"140px"},editable:!1};if(await s){var n={},c=await a,u=[];for(let t=0;t<await c.length;t++){var m=await c[t];n[await m]=await m;var T={};T.label=await m,T.value=await m,await u.push(await T)}o.filter=await(0,w.E9)({options:n}),o.formatter=t=>n[t],o.editor={type:h.ZU.SELECT,getOptions:t=>{setTimeout((()=>{t(u)}),0)}}}else o.filter=await(0,w.CA)({});await d.v.push(await o)}}}catch(x){}}async setTestSuiteExecutionColumn(t){try{var e=await t.TestCaseCustomKeys;if(void 0!==await e&&await e.length>0){i.a.TestSuiteAdditionalColumns=[];for(let t=0;t<await e.length;t++){var a=[],s=!1,l=e[t].key;await i.a.TestSuiteAdditionalColumns.includes(await l)||i.a.TestSuiteAdditionalColumns.push(await l);var r=await e[t].value;try{a=await JSON.parse(await r),await Array.isArray(await a)&&(s=!0)}catch(x){}const g=await d.Ow.some((t=>t.text===l));if(!await g){var o={dataField:await l,text:await l,headerStyle:{width:"140px"},editable:!1};if(await s){var n={},c=await a,u=[];for(let t=0;t<await c.length;t++){var m=await c[t];n[await m]=await m;var T={};T.label=await m,T.value=await m,await u.push(await T)}o.filter=await(0,w.E9)({options:n}),o.formatter=t=>n[t],o.editor={type:h.ZU.SELECT,getOptions:t=>{setTimeout((()=>{t(u)}),0)}}}else o.filter=await(0,w.CA)({});await d.Ow.push(await o)}}}}catch(x){}}async isJiraisDefectTools(t){try{var e=await t.Tools;for(let t=0;t<await e.length;t++)if("Jira"===await e[t].tool){i.a.IsJiraasDefectTool=!0;var a=e[t].url;return a=await a.toString().trim(),""!==await a&&(i.a.JiraURL="https://"+await a),i.a.JiraUsername=e[t].username,void(i.a.JiraToken=e[t].password)}}catch(s){i.a.IsJiraasDefectTool=!1}}async getjiraDefectDetails(t){if(l.T.isDemo)return await new Promise((t=>setTimeout(t,2e3))),{};try{var e={};e.allissues=await t;var a=await localStorage.getItem("UserSelectedAccount"),s=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(s=l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},r=await n.A.post(await s+"defect/project/"+a+"/getjiraissuedetails",await i,await e),o=await r.data;return await o}catch(c){return{}}}async getBase64ImageDataFromUploadedFile(t){return new Promise(((e,a)=>{if(!t)return void a(new Error("No file provided"));const s=new FileReader;s.readAsDataURL(t),s.onload=()=>{const t=s.result.split(",")[1];e(t)},s.onerror=t=>a(t)}))}async setJiraDetails(t){if(void 0!==await t){var e=await t.Tools;if(void 0!==await e&&await e.length>0)for(let t=0;t<await e.length;t++)if("Jira"===await e[t].tool){var a=await e[t].project,s=await e[t].customissuetype,l=await a.split(",").map((t=>t.trim())),r=await s.split(",").map((t=>t.trim()));r.push("Bug"),i.a.ListOfJiraProject=await l,i.a.ListOfCustomIssueType=await r,await l.length>0?i.a.SelectedJiraProject=await l[0]:i.a.SelectedJiraProject="",i.a.SelectedIssueType="Bug";break}}}async createDefectDetailsForJira(t){var e={title:"",stepstoreproduce:"",attachment:""};if(await t.length>0){var a=await t.length,s=await t.length-1;for(let e=0;e<await t.length;e++){var l=await t[e].status;if("Fail"===await l){s=await e;break}}var r=await t[await s].step,o=await t[await s].stepdata,n=await t[await s].screenshot;e.title=await r;var c=i.a.SelectedEnvironment,d="Environment : "+await c+"\n";d="".concat(d,"Steps to reproduce :\n"),d+="1. Launch the application as per the provided environment.";for(let e=0;e<await t.length-1;e++){var w=await t[await e].step,h=await t[await e].stepdata;""!==await h&&void 0!==await h&&(w=await w+" ("+await h+")"),d=await d+"\n"+Number(e+2)+". "+await w}d=await d+"\n"+Number(await a+1)+". "+await r,d="".concat(d,":\n"),d="".concat(d,"Actual behavior :\n"),d=await d+"\n"+await o,e.attachment=await n,e.stepstoreproduce=await d}return await e}async postDefectInJira(t){if(l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var e=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(e=l.T.remoteBackendAPI);var a={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},s=await n.A.post(e+"jiraint/createnewdefect",await a,await t),i=await s.data;return await i}catch(r){l.T.ErrorMessage=await r.message}}async gettestdetailsBasedonTestid(t){if(l.T.isDemo)return await new Promise((t=>setTimeout(t,3e3))),!0;try{var e=await localStorage.getItem("UserSelectedAccount"),a={};a.testid=await t;var s=l.T.backendAPI;"remote"===await l.T.backendServiceAt&&(s=l.T.remoteBackendAPI);var i={Authorization:await l.z.userToken,userEmail:await l.z.userEmail},r=await n.A.post(s+"manualtestcase/project/"+await e+"/getdetailsbasedonid",await i,await a),o=await r.data;return await o}catch(c){l.T.ErrorMessage=await c.message}}}const T=new m;s()}catch(m){s(m)}}))},51919:(t,e,a)=>{a.d(e,{Es:()=>m,rm:()=>f,le:()=>w,bl:()=>x});var s=a(89379),i=a(20454),l=(a(9950),a(54297),a(278)),r=a(39709),o=a(66187),n=a(17572),c=a(44414);l.t1.register(l.Bs,l.m_,l.s$),l.t1.register(r.A);const d=t=>{let e=Object.assign({},((0,i.A)(t),t));var a=(0,s.A)({},e).labels,l=(0,s.A)({},e).data,r=(0,s.A)({},e).color,d=[];if(void 0===r||0===r.length){const t=l.map((()=>Promise.resolve(n.A.gerHexaColorCode())));Promise.all(t).then((t=>{d.push(...t)})).catch((t=>{console.error(t)}))}else d=r;var w={labels:a,datasets:[{data:l,backgroundColor:d,borderColor:d,borderWidth:2,cutout:"80%",borderRadius:10}]};return(0,c.jsx)(o.nu,{data:w,options:{responsive:!0,plugins:{legend:{position:"bottom",display:!0},datalabels:{color:"white",labels:{title:{font:{weight:"bold"}}},formatter:function(t,e){return t}}}}})};d.defaultProps={labels:[],data:[],color:[]};const w=d;var h=a(21090);h.Ay.register(r.A);const u=t=>{let e=Object.assign({},((0,i.A)(t),t));var a=!1,l=(0,s.A)({},e).labels,r=(0,s.A)({},e).data,d=(0,s.A)({},e).color,w=(0,s.A)({},e).label,h=[];for(let s=0;s<r.length;s++){var u={label:""};u.data=r[s],u.borderWidth=2,h.push(u)}if(w.length>0){a=!0;for(let t=0;t<h.length;t++)h[t].label=w[t]}if(void 0===d||0===d.length)for(let s=0;s<h.length;s++){Promise.resolve(n.A.gerHexaColorCode()).then((t=>{h[s].backgroundColor=t}))}else for(let s=0;s<h.length;s++)h[s].backgroundColor=d[s];var m={labels:l,datasets:h},T={responsive:!0,plugins:{legend:{position:"bottom",display:a}},datalabels:{color:"black",labels:{title:{font:{weight:"bold"}}},formatter:function(t,e){return t}},scales:{x:{ticks:{callback:function(t,e,a){var s=l[e];if(void 0!==s)return s.length>10?s.substring(0,10)+"...":s}}}}};return(0,c.jsx)(o.yP,{options:T,data:m})};u.defaultProps={labels:[],data:[],color:[],label:[]};const m=u,T=t=>{let e=Object.assign({},((0,i.A)(t),t));var a=!1,l=(0,s.A)({},e).labels,r=(0,s.A)({},e).data,d=(0,s.A)({},e).color,w=(0,s.A)({},e).label,h=[];for(let s=0;s<r.length;s++){var u={label:""};u.data=r[s],u.borderWidth=3,u.tension=.1,h.push(u)}if(w.length>0){a=!0;for(let t=0;t<h.length;t++)h[t].label=w[t]}if(void 0===d||0===d.length)for(let s=0;s<h.length;s++){Promise.resolve(n.A.gerHexaColorCode()).then((t=>{h[s].borderColor=t}))}else for(let s=0;s<h.length;s++)h[s].borderColor=d[s];var m={labels:l,datasets:h},T={responsive:!0,plugins:{legend:{position:"bottom",display:a}},datalabels:{color:"black",labels:{title:{font:{weight:"bold"}}},formatter:function(t,e){return t}},scales:{x:{ticks:{callback:function(t,e,a){var s=l[e];if(void 0!==s)return s.length>11?s.substring(0,11)+"...":s}}}}};return(0,c.jsx)(o.N1,{data:m,options:T})};T.defaultProps={labels:[],data:[],color:[],label:[]};const x=T;h.Ay.register(r.A);const g=t=>{let e=Object.assign({},((0,i.A)(t),t));var a=!1,l=(0,s.A)({},e).labels,r=(0,s.A)({},e).data,d=(0,s.A)({},e).color,w=(0,s.A)({},e).label,h=[];for(let s=0;s<r.length;s++){var u={label:""};u.data=r[s],u.borderColor="#000000",u.borderWidth=2,h.push(u)}if(w.length>0){a=!0;for(let t=0;t<h.length;t++)h[t].label=w[t]}if(void 0===d||0===d.length)for(let s=0;s<h.length;s++){Promise.resolve(n.A.gerHexaColorCode()).then((t=>{h[s].backgroundColor=t}))}else for(let s=0;s<h.length;s++)h[s].backgroundColor=d[s];var m={labels:l,datasets:h},T={responsive:!0,plugins:{legend:{position:"bottom",display:a}},datalabels:{color:"black",labels:{title:{font:{weight:"bold"}}},formatter:function(t,e){return t}},scales:{x:{stacked:!0,ticks:{callback:function(t){var e=l[t];if(void 0!==e)return e.length>10?e.substring(0,10)+"...":e}}},y:{stacked:!0}}};return(0,c.jsx)(o.yP,{options:T,data:m})};g.defaultProps={labels:[],data:[],color:[],label:[]};const f=g},99257:(t,e,a)=>{a.d(e,{GU:()=>m,qj:()=>v});var s=a(89379),i=a(80045),l=a(9950),r=(a(54297),a(84084)),o=a(65703),n=a(73924),c=a(99401),d=a(52189),w=a(44414);const h=["title","subtitle","number","color","progress"];const u=t=>{let{title:e,subtitle:a,number:u,color:m,progress:{value:T,label:x,label2:g}}=t,f=(0,i.A)(t,h);const[p,S]=(0,l.useState)("");(0,l.useEffect)((()=>{(async()=>{const t=await async function(t){try{return t>=1e6?(t/1e6).toLocaleString("en",{maximumFractionDigits:3})+"M":t>=1e3?(t/1e3).toLocaleString("en",{maximumFractionDigits:3})+"K":t.toLocaleString("en")}catch(e){return 0}}(u);S(t)})()}),[u]),void 0===g&&(g="Fail");let A=Number(T),y=0===A&&0!==u?100:100-A;0===u&&(A=0,y=0);const v=A.toFixed(2),C=y.toFixed(2),b={height:"8px",backgroundImage:"linear-gradient(to right, green ".concat(v,"%, red ").concat(C,"%)"),backgroundColor:"transparent"};return(0,w.jsxs)(r.A,(0,s.A)((0,s.A)({body:!0},f),{},{children:[(0,w.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,w.jsxs)(o.A,{tag:"div",children:[(0,w.jsx)(d.A,{className:"mb-0",children:(0,w.jsx)("strong",{children:e})}),(0,w.jsx)(d.A,{className:"mb-0 text-muted small",children:a})]}),(0,w.jsx)(n.A,{className:"text-black",children:p})]}),(0,w.jsx)(c.A,{style:b}),(0,w.jsxs)(o.A,{tag:"div",className:"d-flex justify-content-between",children:[(0,w.jsxs)(d.A,{tag:"span",className:"text-left text-muted small",children:[x,(0,w.jsxs)("small",{children:[" (",v,"%)"]})]}),(0,w.jsxs)(d.A,{tag:"span",className:"text-right text-muted small",children:[g," ",(0,w.jsxs)("small",{children:["(",C,"%)"]})]})]})]}))};u.defaultProps={title:"",subtitle:"",number:0,color:"primary",progress:{value:0,label:""}};const m=u;var T=a(48738),x=a.n(T),g=a(88156),f=a(51848);const p=["bgColor","icon","iconProps","title","subtitle","className"],S=t=>{let{bgColor:e,icon:a,iconProps:l,title:o,subtitle:c,className:d}=t,h=(0,i.A)(t,p);const u=x()("cr-widget",d,{["bg-".concat(e)]:e});return(0,w.jsxs)(r.A,(0,s.A)((0,s.A)({inverse:!0,className:u},h),{},{children:[(0,w.jsx)(g.A,{className:"cr-widget__icon",children:(0,w.jsx)(a,(0,s.A)({size:50},l))}),(0,w.jsxs)(g.A,{children:[(0,w.jsx)(n.A,{children:o}),(0,w.jsx)(f.A,{children:c})]})]}))};S.defaultProps={bgColor:"primary",icon:"span",iconProps:{size:50}};const A=["title","number","color"];const y=t=>{let{title:e,number:a,color:c}=t,h=(0,i.A)(t,A);const[u,m]=(0,l.useState)("");return(0,l.useEffect)((()=>{(async()=>{const t=await async function(t){return t>=1e6?(t/1e6).toLocaleString("en",{maximumFractionDigits:3})+"M":t>=1e3?(t/1e3).toLocaleString("en",{maximumFractionDigits:3})+"K":t.toLocaleString("en")}(a);m(t)})()}),[a]),(0,w.jsx)(r.A,(0,s.A)((0,s.A)({body:!0},h),{},{children:(0,w.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,w.jsx)(o.A,{tag:"div",children:(0,w.jsx)(d.A,{className:"mb-0",children:(0,w.jsx)("strong",{children:e})})}),(0,w.jsx)(n.A,{className:"text-".concat(c),children:u})]})}))};y.defaultProps={title:"",number:0,color:"black"};const v=y,C=["title","number","color","progress"];const b=t=>{let{title:e,number:a,color:h,progress:{value:u,label:m,label2:T}}=t,x=(0,i.A)(t,C);const[g,f]=(0,l.useState)("");(0,l.useEffect)((()=>{(async()=>{const t=await async function(t){try{return t>=1e6?(t/1e6).toLocaleString("en",{maximumFractionDigits:3})+"M":t>=1e3?(t/1e3).toLocaleString("en",{maximumFractionDigits:3})+"K":t.toLocaleString("en")}catch(e){return 0}}(a);f(t)})()}),[a]),void 0===T&&(T="Fail");let p=Number(u),S=0===p&&0!==a?100:100-p;0===a&&(p=0,S=0);const A=p.toFixed(2),y=S.toFixed(2),v={height:"8px",backgroundImage:"linear-gradient(to right, green ".concat(A,"%, red ").concat(y,"%)"),backgroundColor:"transparent"};return(0,w.jsxs)(r.A,(0,s.A)((0,s.A)({body:!0},x),{},{children:[(0,w.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,w.jsx)(o.A,{tag:"div",children:(0,w.jsx)(d.A,{className:"mb-0",children:(0,w.jsx)("strong",{children:e})})}),(0,w.jsx)(n.A,{className:"text-black",children:g})]}),(0,w.jsx)(c.A,{style:v}),(0,w.jsxs)(o.A,{tag:"div",className:"d-flex justify-content-between",children:[(0,w.jsxs)(d.A,{tag:"span",className:"text-left text-muted small",children:["Pass",(0,w.jsxs)("small",{children:[" (",A,"%)"]})]}),(0,w.jsxs)(d.A,{tag:"span",className:"text-right text-muted small",children:["Fail ",(0,w.jsxs)("small",{children:["(",y,"%)"]})]}),(0,w.jsxs)(d.A,{tag:"span",className:"text-right text-muted small",children:["Pending ",(0,w.jsxs)("small",{children:["(",y,"%)"]})]}),(0,w.jsxs)(d.A,{tag:"span",className:"text-right text-muted small",children:["NA ",(0,w.jsxs)("small",{children:["(",y,"%)"]})]}),(0,w.jsxs)(d.A,{tag:"span",className:"text-right text-muted small",children:["Blocked ",(0,w.jsxs)("small",{children:["(",y,"%)"]})]})]})]}))};b.defaultProps={title:"",number:0,progress:{value:0,label:""}}}}]);